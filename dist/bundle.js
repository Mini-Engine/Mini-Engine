!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=220)}([function(t,e,n){var r=n(1),o=n(20);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(22).f})},function(t,e,n){var r=n(3),o=n(37).f,i=n(26),a=n(27),u=n(75),c=n(106),s=n(65);t.exports=function(t,e){var n,f,l,h,p,y=t.target,d=t.global,v=t.stat;if(n=d?r:v?r[y]||u(y,{}):(r[y]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=o(n,f))&&p.value:n[f],!s(d?f:y+(v?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;c(h,l)}(t.sham||l&&l.sham)&&i(h,"sham",!0),a(n,f,h,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(154))},function(t,e,n){"use strict";var r=n(31),o=n(118),i=n(59),a=n(38),u=n(87),c=a.set,s=a.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(86),o=n(27),i=n(161);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){var r=n(27),o=Date.prototype,i=o.toString,a=o.getTime;new Date(NaN)+""!="Invalid Date"&&r(o,"toString",(function(){var t=a.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){"use strict";var r=n(1),o=n(3),i=n(40),a=n(52),u=n(20),c=n(81),s=n(111),f=n(2),l=n(23),h=n(56),p=n(21),y=n(24),d=n(25),v=n(31),g=n(47),m=n(46),b=n(39),w=n(82),x=n(48),O=n(156),S=n(110),j=n(37),R=n(22),P=n(103),_=n(26),E=n(27),k=n(77),T=n(64),A=n(54),M=n(53),C=n(14),I=n(114),D=n(115),L=n(49),F=n(38),B=n(28).forEach,G=T("hidden"),N=C("toPrimitive"),U=F.set,W=F.getterFor("Symbol"),H=Object.prototype,V=o.Symbol,Y=i("JSON","stringify"),q=j.f,X=R.f,z=O.f,Q=P.f,$=k("symbols"),K=k("op-symbols"),Z=k("string-to-symbol-registry"),J=k("symbol-to-string-registry"),tt=k("wks"),et=o.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=u&&f((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=q(H,e);r&&delete H[e],X(t,e,n),r&&t!==H&&X(H,e,r)}:X,ot=function(t,e){var n=$[t]=b(V.prototype);return U(n,{type:"Symbol",tag:t,description:e}),u||(n.description=e),n},it=s?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},at=function(t,e,n){t===H&&at(K,e,n),y(t);var r=g(e,!0);return y(n),l($,r)?(n.enumerable?(l(t,G)&&t[G][r]&&(t[G][r]=!1),n=b(n,{enumerable:m(0,!1)})):(l(t,G)||X(t,G,m(1,{})),t[G][r]=!0),rt(t,r,n)):X(t,r,n)},ut=function(t,e){y(t);var n=v(e),r=w(n).concat(lt(n));return B(r,(function(e){u&&!ct.call(n,e)||at(t,e,n[e])})),t},ct=function(t){var e=g(t,!0),n=Q.call(this,e);return!(this===H&&l($,e)&&!l(K,e))&&(!(n||!l(this,e)||!l($,e)||l(this,G)&&this[G][e])||n)},st=function(t,e){var n=v(t),r=g(e,!0);if(n!==H||!l($,r)||l(K,r)){var o=q(n,r);return!o||!l($,r)||l(n,G)&&n[G][r]||(o.enumerable=!0),o}},ft=function(t){var e=z(v(t)),n=[];return B(e,(function(t){l($,t)||l(A,t)||n.push(t)})),n},lt=function(t){var e=t===H,n=z(e?K:v(t)),r=[];return B(n,(function(t){!l($,t)||e&&!l(H,t)||r.push($[t])})),r};(c||(E((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),n=function(t){this===H&&n.call(K,t),l(this,G)&&l(this[G],e)&&(this[G][e]=!1),rt(this,e,m(1,t))};return u&&nt&&rt(H,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return W(this).tag})),E(V,"withoutSetter",(function(t){return ot(M(t),t)})),P.f=ct,R.f=at,j.f=st,x.f=O.f=ft,S.f=lt,I.f=function(t){return ot(C(t),t)},u&&(X(V.prototype,"description",{configurable:!0,get:function(){return W(this).description}}),a||E(H,"propertyIsEnumerable",ct,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),B(w(tt),(function(t){D(t)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(Z,e))return Z[e];var n=V(e);return Z[e]=n,J[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(l(J,t))return J[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?b(t):ut(b(t),e)},defineProperty:at,defineProperties:ut,getOwnPropertyDescriptor:st}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:lt}),r({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(d(t))}}),Y)&&r({target:"JSON",stat:!0,forced:!c||f((function(){var t=V();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(p(e)||void 0!==t)&&!it(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!it(e))return e}),o[1]=e,Y.apply(null,o)}});V.prototype[N]||_(V.prototype,N,V.prototype.valueOf),L(V,"Symbol"),A[G]=!0},function(t,e,n){"use strict";var r=n(123).charAt,o=n(38),i=n(87),a=o.set,u=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(3),o=n(124),i=n(4),a=n(26),u=n(14),c=u("iterator"),s=u("toStringTag"),f=i.values;for(var l in o){var h=r[l],p=h&&h.prototype;if(p){if(p[c]!==f)try{a(p,c,f)}catch(t){p[c]=f}if(p[s]||a(p,s,l),o[l])for(var y in i)if(p[y]!==i[y])try{a(p,y,i[y])}catch(t){p[y]=i[y]}}}},function(t,e,n){"use strict";var r=n(1),o=n(20),i=n(3),a=n(23),u=n(21),c=n(22).f,s=n(106),f=i.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};s(h,f);var p=h.prototype=f.prototype;p.constructor=h;var y=p.toString,d="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=y.call(t);if(a(l,t))return"";var n=d?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(115)("iterator")},function(t,e,n){"use strict";var r=n(27),o=n(24),i=n(2),a=n(121),u=RegExp.prototype,c=u.toString,s=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f="toString"!=c.name;(s||f)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";var r,o=n(127),i=n(20),a=n(3),u=n(21),c=n(23),s=n(66),f=n(26),l=n(27),h=n(22).f,p=n(62),y=n(51),d=n(14),v=n(53),g=a.Int8Array,m=g&&g.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,x=g&&p(g),O=m&&p(m),S=Object.prototype,j=S.isPrototypeOf,R=d("toStringTag"),P=v("TYPED_ARRAY_TAG"),_=o&&!!y&&"Opera"!==s(a.opera),E=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},T=function(t){return u(t)&&c(k,s(t))};for(r in k)a[r]||(_=!1);if((!_||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},_))for(r in k)a[r]&&y(a[r],x);if((!_||!O||O===S)&&(O=x.prototype,_))for(r in k)a[r]&&y(a[r].prototype,O);if(_&&p(w)!==O&&y(w,O),i&&!c(O,R))for(r in E=!0,h(O,R,{get:function(){return u(this)?this[P]:void 0}}),k)a[r]&&f(a[r],P,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:_,TYPED_ARRAY_TAG:E&&P,aTypedArray:function(t){if(T(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(y){if(j.call(x,t))return t}else for(var e in k)if(c(k,r)){var n=a[e];if(n&&(t===n||j.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in k){var o=a[r];o&&c(o.prototype,t)&&delete o.prototype[t]}O[t]&&!n||l(O,t,n?e:_&&m[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(y){if(n)for(r in k)(o=a[r])&&c(o,t)&&delete o[t];if(x[t]&&!n)return;try{return l(x,t,n?e:_&&g[t]||e)}catch(t){}}for(r in k)!(o=a[r])||o[t]&&!n||l(o,t,e)}},isView:function(t){var e=s(t);return"DataView"===e||c(k,e)},isTypedArray:T,TypedArray:x,TypedArrayPrototype:O}},function(t,e,n){var r=n(3),o=n(77),i=n(23),a=n(53),u=n(81),c=n(111),s=o("wks"),f=r.Symbol,l=c?f:f&&f.withoutSetter||a;t.exports=function(t){return i(s,t)||(u&&i(f,t)?s[t]=f[t]:s[t]=l("Symbol."+t)),s[t]}},function(t,e,n){n(1)({target:"Object",stat:!0,sham:!n(20)},{create:n(39)})},function(t,e,n){var r=n(1),o=n(2),i=n(25),a=n(62),u=n(120);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){n(1)({target:"Object",stat:!0},{setPrototypeOf:n(51)})},function(t,e,n){var r=n(1),o=n(40),i=n(42),a=n(24),u=n(21),c=n(39),s=n(134),f=n(2),l=o("Reflect","construct"),h=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),y=h||p;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var o=n.prototype,f=c(u(o)?o:Object.prototype),y=Function.apply.call(t,f,e);return u(y)?y:f}})},function(t,e,n){var r=n(29),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(20),o=n(104),i=n(24),a=n(47),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(21);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(33);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(20),o=n(22),i=n(46);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(3),o=n(26),i=n(23),a=n(75),u=n(76),c=n(38),s=c.get,f=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var c=!!u&&!!u.unsafe,s=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(c?!h&&t[e]&&(s=!0):delete t[e],s?t[e]=n:o(t,e,n)):s?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||u(this)}))},function(t,e,n){var r=n(50),o=n(73),i=n(25),a=n(19),u=n(83),c=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l;return function(p,y,d,v){for(var g,m,b=i(p),w=o(b),x=r(y,d,3),O=a(w.length),S=0,j=v||u,R=e?j(p,O):n?j(p,0):void 0;O>S;S++)if((h||S in w)&&(m=x(g=w[S],S,b),t))if(e)R[S]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(R,g)}else if(f)return!1;return l?-1:s||f?f:R}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(20),o=n(22).f,i=Function.prototype,a=i.toString,u=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(t){return""}}})},function(t,e,n){var r=n(73),o=n(33);t.exports=function(t){return r(o(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){"use strict";var r=n(1),o=n(21),i=n(56),a=n(41),u=n(19),c=n(31),s=n(60),f=n(14),l=n(68),h=n(36),p=l("slice"),y=h("slice",{ACCESSORS:!0,0:0,1:2}),d=f("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!y},{slice:function(t,e){var n,r,f,l=c(this),h=u(l.length),p=a(t,h),y=a(void 0===e?h:e,h);if(i(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(l,p,y);for(r=new(void 0===n?Array:n)(g(y-p,0)),f=0;p<y;p++,f++)p in l&&s(r,f,l[p]);return r.length=f,r}})},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(56),a=n(21),u=n(25),c=n(19),s=n(60),f=n(83),l=n(68),h=n(14),p=n(88),y=h("isConcatSpreadable"),d=p>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),v=l("concat"),g=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!d||!v},{concat:function(t){var e,n,r,o,i,a=u(this),l=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(g(i=-1===e?a:arguments[e])){if(h+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,h++)n in i&&s(l,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(l,h++,i)}return l.length=h,l}})},function(t,e,n){var r=n(20),o=n(2),i=n(23),a=Object.defineProperty,u={},c=function(t){throw t};t.exports=function(t,e){if(i(u,t))return u[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,f=i(e,0)?e[0]:c,l=i(e,1)?e[1]:void 0;return u[t]=!!n&&!o((function(){if(s&&!r)return!0;var t={length:-1};s?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,f,l)}))}},function(t,e,n){var r=n(20),o=n(103),i=n(46),a=n(31),u=n(47),c=n(23),s=n(104),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=u(e,!0),s)try{return f(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r,o,i,a=n(155),u=n(3),c=n(21),s=n(26),f=n(23),l=n(64),h=n(54),p=u.WeakMap;if(a){var y=new p,d=y.get,v=y.has,g=y.set;r=function(t,e){return g.call(y,t,e),e},o=function(t){return d.call(y,t)||{}},i=function(t){return v.call(y,t)}}else{var m=l("state");h[m]=!0,r=function(t,e){return s(t,m,e),e},o=function(t){return f(t,m)?t[m]:{}},i=function(t){return f(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r,o=n(24),i=n(112),a=n(78),u=n(54),c=n(113),s=n(74),f=n(64),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},y=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;y=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete y.prototype[a[n]];return y()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=o(t),n=new h,h.prototype=null,n[l]=t):n=y(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(108),o=n(3),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(29),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(1),o=n(116);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){var r=n(3),o=n(124),i=n(116),a=n(26);for(var u in o){var c=r[u],s=c&&c.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(t){s.forEach=i}}},function(t,e,n){var r=n(24),o=n(42),i=n(14)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(21);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(109),o=n(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(22).f,o=n(23),i=n(14)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(42);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(24),o=n(160);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e){t.exports=!1},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(31),o=n(19),i=n(41),a=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),f=i(a,s);if(t&&n!=n){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(32);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(1),o=n(157);r({target:"Array",stat:!0,forced:!n(67)((function(t){Array.from(t)}))},{from:o})},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(47),o=n(22),i=n(46);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){n(1)({target:"Array",stat:!0},{isArray:n(56)})},function(t,e,n){var r=n(23),o=n(25),i=n(64),a=n(120),u=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(77),o=n(53),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=u[a(t)];return n==s||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(86),o=n(32),i=n(14)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(14)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(2),o=n(14),i=n(88),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(1),o=n(70);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){"use strict";var r,o,i=n(121),a=n(170),u=RegExp.prototype.exec,c=String.prototype.replace,s=u,f=(r=/a/,o=/b*/g,u.call(r,"a"),u.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(s=function(t){var e,n,r,o,a=this,s=l&&a.sticky,p=i.call(a),y=a.source,d=0,v=t;return s&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(y="(?: "+y+")",v=" "+v,d++),n=new RegExp("^(?:"+y+")",p)),h&&(n=new RegExp("^"+y+"$(?!\\s)",p)),f&&(e=a.lastIndex),r=u.call(s?n:a,v),s?r?(r.input=r.input.slice(d),r[0]=r[0].slice(d),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:f&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=s},function(t,e,n){"use strict";var r=n(1),o=n(28).filter,i=n(68),a=n(36),u=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!u||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1),o=n(25),i=n(82);r({target:"Object",stat:!0,forced:n(2)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(2),o=n(32),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(3),o=n(21),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(3),o=n(26);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(105),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(52),o=n(105);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(1),o=n(3),i=n(80),a=[].slice,u=function(t){return function(e,n){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:u(o.setTimeout),setInterval:u(o.setInterval)})},function(t,e,n){var r=n(40);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(109),o=n(78);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(21),o=n(56),i=n(14)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(14),o=n(59),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(66),o=n(59),i=n(14)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r={};r[n(14)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(1),o=n(159),i=n(62),a=n(51),u=n(49),c=n(26),s=n(27),f=n(14),l=n(52),h=n(59),p=n(119),y=p.IteratorPrototype,d=p.BUGGY_SAFARI_ITERATORS,v=f("iterator"),g=function(){return this};t.exports=function(t,e,n,f,p,m,b){o(n,e,f);var w,x,O,S=function(t){if(t===p&&E)return E;if(!d&&t in P)return P[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},j=e+" Iterator",R=!1,P=t.prototype,_=P[v]||P["@@iterator"]||p&&P[p],E=!d&&_||S(p),k="Array"==e&&P.entries||_;if(k&&(w=i(k.call(new t)),y!==Object.prototype&&w.next&&(l||i(w)===y||(a?a(w,y):"function"!=typeof w[v]&&c(w,v,g)),u(w,j,!0,!0),l&&(h[j]=g))),"values"==p&&_&&"values"!==_.name&&(R=!0,E=function(){return _.call(this)}),l&&!b||P[v]===E||c(P,v,E),h[e]=E,p)if(x={values:S("values"),keys:m?E:S("keys"),entries:S("entries")},b)for(O in x)(d||R||!(O in P))&&s(P,O,x[O]);else r({target:e,proto:!0,forced:d||R},x);return x}},function(t,e,n){var r,o,i=n(3),a=n(80),u=i.process,c=u&&u.versions,s=c&&c.v8;s?o=(r=s.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(21),o=n(51);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e,n){var r=n(33),o="["+n(91)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(27);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(24),o=n(84),i=n(19),a=n(50),u=n(85),c=n(117),s=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var h,p,y,d,v,g,m,b=a(e,n,f?2:1);if(l)h=t;else{if("function"!=typeof(p=u(t)))throw TypeError("Target is not iterable");if(o(p)){for(y=0,d=i(t.length);d>y;y++)if((v=f?b(r(m=t[y])[0],m[1]):b(t[y]))&&v instanceof s)return v;return new s(!1)}h=p.call(t)}for(g=h.next;!(m=g.call(h)).done;)if("object"==typeof(v=c(h,b,m.value,f))&&v&&v instanceof s)return v;return new s(!1)}).stop=function(t){return new s(!0,t)}},function(t,e,n){"use strict";var r=n(40),o=n(22),i=n(14),a=n(20),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(42),o=n(25),i=n(73),a=n(19),u=function(t){return function(e,n,u,c){r(n);var s=o(e),f=i(s),l=a(s.length),h=t?l-1:0,p=t?-1:1;if(u<2)for(;;){if(h in f){c=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(c=n(c,f[h],h,s));return c}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){"use strict";var r=n(1),o=n(28).every,i=n(57),a=n(36),u=i("every"),c=a("every");r({target:"Array",proto:!0,forced:!u||!c},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(55).indexOf,i=n(57),a=n(36),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),f=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!s||!f},{indexOf:function(t){return c?u.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(95).left,i=n(57),a=n(36),u=i("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!u||!c},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(1)({target:"Function",proto:!0},{bind:n(134)})},function(t,e,n){"use strict";n(69);var r=n(27),o=n(2),i=n(14),a=n(70),u=n(26),c=i("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=i("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var y=i(t),d=!o((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),v=d&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[y]=/./[y]),n.exec=function(){return e=!0,null},n[y](""),!e}));if(!d||!v||"replace"===t&&(!s||!f||h)||"split"===t&&!p){var g=/./[y],m=n(y,""[t],(function(t,e,n,r,o){return e.exec===a?d&&!o?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=m[0],w=m[1];r(String.prototype,t,b),r(RegExp.prototype,y,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}l&&u(RegExp.prototype[y],"sham",!0)}},function(t,e,n){"use strict";var r=n(123).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(32),o=n(70);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(20),o=n(2),i=n(74);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),o=n(75),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(23),o=n(107),i=n(37),a=n(22);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var f=n[s];r(t,f)||u(t,f,c(e,f))}}},function(t,e,n){var r=n(40),o=n(48),i=n(110),a=n(24);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(3);t.exports=r},function(t,e,n){var r=n(23),o=n(31),i=n(55).indexOf,a=n(54);t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)!r(a,n)&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(81);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(20),o=n(22),i=n(24),a=n(82);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),u=r.length,c=0;u>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(40);t.exports=r("document","documentElement")},function(t,e,n){var r=n(14);e.f=r},function(t,e,n){var r=n(108),o=n(23),i=n(114),a=n(22).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){"use strict";var r=n(28).forEach,o=n(57),i=n(36),a=o("forEach"),u=i("forEach");t.exports=a&&u?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(24);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(14),o=n(39),i=n(22),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){"use strict";var r,o,i,a=n(62),u=n(26),c=n(23),s=n(14),f=n(52),l=s("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),f||c(r,l)||u(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(24);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(21),o=n(32),i=n(14)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(29),o=n(33),i=function(t){return function(e,n){var i,a,u=String(o(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(i=u.charCodeAt(c))<55296||i>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):i:t?u.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(1),o=n(169);r({global:!0,forced:parseInt!=o},{parseInt:o})},function(t,e,n){"use strict";var r=n(3),o=n(20),i=n(127),a=n(26),u=n(92),c=n(2),s=n(63),f=n(29),l=n(19),h=n(128),p=n(172),y=n(62),d=n(51),v=n(48).f,g=n(22).f,m=n(129),b=n(49),w=n(38),x=w.get,O=w.set,S=r.ArrayBuffer,j=S,R=r.DataView,P=R&&R.prototype,_=Object.prototype,E=r.RangeError,k=p.pack,T=p.unpack,A=function(t){return[255&t]},M=function(t){return[255&t,t>>8&255]},C=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},I=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},D=function(t){return k(t,23,4)},L=function(t){return k(t,52,8)},F=function(t,e){g(t.prototype,e,{get:function(){return x(this)[e]}})},B=function(t,e,n,r){var o=h(n),i=x(t);if(o+e>i.byteLength)throw E("Wrong index");var a=x(i.buffer).bytes,u=o+i.byteOffset,c=a.slice(u,u+e);return r?c:c.reverse()},G=function(t,e,n,r,o,i){var a=h(n),u=x(t);if(a+e>u.byteLength)throw E("Wrong index");for(var c=x(u.buffer).bytes,s=a+u.byteOffset,f=r(+o),l=0;l<e;l++)c[s+l]=f[i?l:e-l-1]};if(i){if(!c((function(){S(1)}))||!c((function(){new S(-1)}))||c((function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name}))){for(var N,U=(j=function(t){return s(this,j),new S(h(t))}).prototype=S.prototype,W=v(S),H=0;W.length>H;)(N=W[H++])in j||a(j,N,S[N]);U.constructor=j}d&&y(P)!==_&&d(P,_);var V=new R(new j(2)),Y=P.setInt8;V.setInt8(0,2147483648),V.setInt8(1,2147483649),!V.getInt8(0)&&V.getInt8(1)||u(P,{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},{unsafe:!0})}else j=function(t){s(this,j,"ArrayBuffer");var e=h(t);O(this,{bytes:m.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},R=function(t,e,n){s(this,R,"DataView"),s(t,j,"DataView");var r=x(t).byteLength,i=f(e);if(i<0||i>r)throw E("Wrong offset");if(i+(n=void 0===n?r-i:l(n))>r)throw E("Wrong length");O(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(F(j,"byteLength"),F(R,"buffer"),F(R,"byteLength"),F(R,"byteOffset")),u(R.prototype,{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var e=B(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=B(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return I(B(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return I(B(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return T(B(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return T(B(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){G(this,1,t,A,e)},setUint8:function(t,e){G(this,1,t,A,e)},setInt16:function(t,e){G(this,2,t,M,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){G(this,2,t,M,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){G(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){G(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){G(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){G(this,8,t,L,e,arguments.length>2?arguments[2]:void 0)}});b(j,"ArrayBuffer"),b(R,"DataView"),t.exports={ArrayBuffer:j,DataView:R}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(29),o=n(19);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(25),o=n(41),i=n(19);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){var r=n(54),o=n(21),i=n(23),a=n(22).f,u=n(53),c=n(175),s=u("meta"),f=0,l=Object.isExtensible||function(){return!0},h=function(t){a(t,s,{value:{objectID:"O"+ ++f,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,s)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[s].objectID},getWeakData:function(t,e){if(!i(t,s)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[s].weakData},onFreeze:function(t){return c&&p.REQUIRED&&l(t)&&!i(t,s)&&h(t),t}};r[s]=!0},function(t,e,n){var r=n(180);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(33),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),u+">"+a+"</"+e+">"}},function(t,e,n){var r=n(2);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){"use strict";var r=n(42),o=n(21),i=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?u(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var r=n(1),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,u=0,c=arguments.length,s=0;u<c;)s<(n=i(arguments[u++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(t,e,n){var r,o,i,a=n(3),u=n(2),c=n(32),s=n(50),f=n(113),l=n(74),h=n(137),p=a.location,y=a.setImmediate,d=a.clearImmediate,v=a.process,g=a.MessageChannel,m=a.Dispatch,b=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},O=function(t){return function(){x(t)}},S=function(t){x(t.data)},j=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};y&&d||(y=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},d=function(t){delete w[t]},"process"==c(v)?r=function(t){v.nextTick(O(t))}:m&&m.now?r=function(t){m.now(O(t))}:g&&!h?(i=(o=new g).port2,o.port1.onmessage=S,r=s(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||u(j)||"file:"===p.protocol?r="onreadystatechange"in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),x(t)}}:function(t){setTimeout(O(t),0)}:(r=j,a.addEventListener("message",S,!1))),t.exports={set:y,clear:d}},function(t,e,n){var r=n(80);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(42),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(100),o=n(24),i=n(19),a=n(33),u=n(101),c=n(102);r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),s=String(this);if(!a.global)return c(a,s);var f=a.unicode;a.lastIndex=0;for(var l,h=[],p=0;null!==(l=c(a,s));){var y=String(l[0]);h[p]=y,""===y&&(a.lastIndex=u(s,i(a.lastIndex),f)),p++}return 0===p?null:h}]}))},function(t,e,n){"use strict";var r=n(100),o=n(24),i=n(25),a=n(19),u=n(29),c=n(33),s=n(101),f=n(102),l=Math.max,h=Math.min,p=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,m=v?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!v&&g||"string"==typeof r&&-1===r.indexOf(m)){var i=n(e,t,this,r);if(i.done)return i.value}var c=o(t),p=String(this),y="function"==typeof r;y||(r=String(r));var d=c.global;if(d){var w=c.unicode;c.lastIndex=0}for(var x=[];;){var O=f(c,p);if(null===O)break;if(x.push(O),!d)break;""===String(O[0])&&(c.lastIndex=s(p,a(c.lastIndex),w))}for(var S,j="",R=0,P=0;P<x.length;P++){O=x[P];for(var _=String(O[0]),E=l(h(u(O.index),p.length),0),k=[],T=1;T<O.length;T++)k.push(void 0===(S=O[T])?S:String(S));var A=O.groups;if(y){var M=[_].concat(k,E,p);void 0!==A&&M.push(A);var C=String(r.apply(void 0,M))}else C=b(_,p,E,k,A,r);E>=R&&(j+=p.slice(R,E)+C,R=E+_.length)}return j+p.slice(R)}];function b(t,n,r,o,a,u){var c=r+t.length,s=o.length,f=d;return void 0!==a&&(a=i(a),f=y),e.call(u,f,(function(e,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":u=a[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>s){var l=p(f/10);return 0===l?e:l<=s?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):e}u=o[f-1]}return void 0===u?"":u}))}}))},function(t,e,n){"use strict";var r=n(100),o=n(122),i=n(24),a=n(33),u=n(45),c=n(101),s=n(19),f=n(102),l=n(70),h=n(2),p=[].push,y=Math.min,d=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var u,c,s,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,d=new RegExp(t.source,h+"g");(u=l.call(d,r))&&!((c=d.lastIndex)>y&&(f.push(r.slice(y,u.index)),u.length>1&&u.index<r.length&&p.apply(f,u.slice(1)),s=u[0].length,y=c,f.length>=i));)d.lastIndex===u.index&&d.lastIndex++;return y===r.length?!s&&d.test("")||f.push(""):f.push(r.slice(y)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var l=i(t),h=String(this),p=u(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(d?"y":"g"),m=new p(d?l:"^(?:"+l.source+")",g),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===h.length)return null===f(m,h)?[h]:[];for(var w=0,x=0,O=[];x<h.length;){m.lastIndex=d?x:0;var S,j=f(m,d?h:h.slice(x));if(null===j||(S=y(s(m.lastIndex+(d?0:x)),h.length))===w)x=c(h,x,v);else{if(O.push(h.slice(w,x)),O.length===b)return O;for(var R=1;R<=j.length-1;R++)if(O.push(j[R]),O.length===b)return O;x=w=S}}return O.push(h.slice(w)),O}]}),!d)},function(t,e,n){"use strict";var r=n(1),o=n(90).trim;r({target:"String",proto:!0,forced:n(219)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=n(1),o=n(132);r({target:"String",proto:!0,forced:n(133)("bold")},{bold:function(){return o(this,"b","","")}})},,,,,,,,,,function(t,e,n){n(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(3),o=n(76),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(31),o=n(48).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){"use strict";var r=n(50),o=n(25),i=n(117),a=n(84),u=n(19),c=n(60),s=n(85);t.exports=function(t){var e,n,f,l,h,p,y=o(t),d="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,m=void 0!==g,b=s(y),w=0;if(m&&(g=r(g,v>2?arguments[2]:void 0,2)),null==b||d==Array&&a(b))for(n=new d(e=u(y.length));e>w;w++)p=m?g(y[w],w):y[w],c(n,w,p);else for(h=(l=b.call(y)).next,n=new d;!(f=h.call(l)).done;w++)p=m?i(l,g,[f.value,w],!0):f.value,c(n,w,p);return n.length=w,n}},function(t,e,n){"use strict";var r=n(1),o=n(55).includes,i=n(118);r({target:"Array",proto:!0,forced:!n(36)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(119).IteratorPrototype,o=n(39),i=n(46),a=n(49),u=n(59),c=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),u[s]=c,t}},function(t,e,n){var r=n(21);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(86),o=n(66);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(1),o=n(163),i=n(33);r({target:"String",proto:!0,forced:!n(164)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(122);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(14)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(20),o=n(3),i=n(65),a=n(27),u=n(23),c=n(32),s=n(89),f=n(47),l=n(2),h=n(39),p=n(48).f,y=n(37).f,d=n(22).f,v=n(90).trim,g=o.Number,m=g.prototype,b="Number"==c(h(m)),w=function(t){var e,n,r,o,i,a,u,c,s=f(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=v(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,u=0;u<a;u++)if((c=i.charCodeAt(u))<48||c>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(b?l((function(){m.valueOf.call(n)})):"Number"!=c(n))?s(new g(w(e)),n,O):w(e)},S=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;S.length>j;j++)u(g,x=S[j])&&!u(O,x)&&d(O,x,y(g,x));O.prototype=m,m.constructor=O,a(o,"Number",O)}},function(t,e,n){"use strict";var r=n(1),o=n(29),i=n(167),a=n(168),u=n(2),c=1..toFixed,s=Math.floor,f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)};r({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){c.call({})}))},{toFixed:function(t){var e,n,r,u,c=i(this),l=o(t),h=[0,0,0,0,0,0],p="",y="0",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*h[n],h[n]=r%1e7,r=s(r/1e7)},v=function(t){for(var e=6,n=0;--e>=0;)n+=h[e],h[e]=s(n/t),n=n%t*1e7},g=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*f(2,69,1))-69)<0?c*f(2,-e,1):c/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(f(10,r,1),0),r=e-1;r>=23;)v(1<<23),r-=23;v(1<<r),d(1,1),v(2),y=g()}else d(0,n),d(1<<-e,0),y=g()+a.call("0",l);return y=l>0?p+((u=y.length)<=l?"0."+a.call("0",l-u)+y:y.slice(0,u-l)+"."+y.slice(u-l)):p+y}})},function(t,e,n){var r=n(32);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){"use strict";var r=n(29),o=n(33);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(3),o=n(90).trim,i=n(91),a=r.parseInt,u=/^[+-]?0[Xx]/,c=8!==a(i+"08")||22!==a(i+"0x16");t.exports=c?function(t,e){var n=o(String(t));return a(n,e>>>0||(u.test(n)?16:10))}:a},function(t,e,n){"use strict";var r=n(2);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(126),a=n(24),u=n(41),c=n(19),s=n(45),f=i.ArrayBuffer,l=i.DataView,h=f.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var n=a(this).byteLength,r=u(t,n),o=u(void 0===e?n:e,n),i=new(s(this,f))(c(o-r)),p=new l(this),y=new l(i),d=0;r<o;)y.setUint8(d++,p.getUint8(r++));return i}})},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;t.exports={pack:function(t,e,u){var c,s,f,l=new Array(u),h=8*u-e-1,p=(1<<h)-1,y=p>>1,d=23===e?r(2,-24)-r(2,-77):0,v=t<0||0===t&&1/t<0?1:0,g=0;for((t=n(t))!=t||t===1/0?(s=t!=t?1:0,c=p):(c=o(i(t)/a),t*(f=r(2,-c))<1&&(c--,f*=2),(t+=c+y>=1?d/f:d*r(2,1-y))*f>=2&&(c++,f/=2),c+y>=p?(s=0,c=p):c+y>=1?(s=(t*f-1)*r(2,e),c+=y):(s=t*r(2,y-1)*r(2,e),c=0));e>=8;l[g++]=255&s,s/=256,e-=8);for(c=c<<e|s,h+=e;h>0;l[g++]=255&c,c/=256,h-=8);return l[--g]|=128*v,l},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,u=a>>1,c=i-7,s=o-1,f=t[s--],l=127&f;for(f>>=7;c>0;l=256*l+t[s],s--,c-=8);for(n=l&(1<<-c)-1,l>>=-c,c+=e;c>0;n=256*n+t[s],s--,c-=8);if(0===l)l=1-u;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=u}return(f?-1:1)*n*r(2,l-e)}}},function(t,e,n){"use strict";var r=n(174),o=n(176);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r=n(1),o=n(3),i=n(65),a=n(27),u=n(130),c=n(93),s=n(63),f=n(21),l=n(2),h=n(67),p=n(49),y=n(89);t.exports=function(t,e,n){var d=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),g=d?"set":"add",m=o[t],b=m&&m.prototype,w=m,x={},O=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof m||!(v||b.forEach&&!l((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,d,g),u.REQUIRED=!0;else if(i(t,!0)){var S=new w,j=S[g](v?{}:-0,1)!=S,R=l((function(){S.has(1)})),P=h((function(t){new m(t)})),_=!v&&l((function(){for(var t=new m,e=5;e--;)t[g](e,e);return!t.has(-0)}));P||((w=e((function(e,n){s(e,w,t);var r=y(new m,e,w);return null!=n&&c(n,r[g],r,d),r}))).prototype=b,b.constructor=w),(R||_)&&(O("delete"),O("has"),d&&O("get")),(_||j)&&O(g),v&&b.clear&&delete b.clear}return x[t]=w,r({global:!0,forced:w!=m},x),p(w,t),v||n.setStrong(w,t,d),w}},function(t,e,n){var r=n(2);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(22).f,o=n(39),i=n(92),a=n(50),u=n(63),c=n(93),s=n(87),f=n(94),l=n(20),h=n(130).fastKey,p=n(38),y=p.set,d=p.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,r){u(t,f,e),y(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&c(r,t[s],t,n)})),p=d(e),v=function(t,e,n){var r,o,i=p(t),a=g(t,e);return a?a.value=n:(i.last=a={index:o=h(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),l?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},g=function(t,e){var n,r=p(t),o=h(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(f.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=p(this),n=g(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),i(f.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",o=d(e),i=d(r);s(t,e,(function(t,e){y(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){n(178)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(1),o=n(3),i=n(20),a=n(179),u=n(13),c=n(126),s=n(63),f=n(46),l=n(26),h=n(19),p=n(128),y=n(131),d=n(47),v=n(23),g=n(66),m=n(21),b=n(39),w=n(51),x=n(48).f,O=n(181),S=n(28).forEach,j=n(94),R=n(22),P=n(37),_=n(38),E=n(89),k=_.get,T=_.set,A=R.f,M=P.f,C=Math.round,I=o.RangeError,D=c.ArrayBuffer,L=c.DataView,F=u.NATIVE_ARRAY_BUFFER_VIEWS,B=u.TYPED_ARRAY_TAG,G=u.TypedArray,N=u.TypedArrayPrototype,U=u.aTypedArrayConstructor,W=u.isTypedArray,H=function(t,e){for(var n=0,r=e.length,o=new(U(t))(r);r>n;)o[n]=e[n++];return o},V=function(t,e){A(t,e,{get:function(){return k(this)[e]}})},Y=function(t){var e;return t instanceof D||"ArrayBuffer"==(e=g(t))||"SharedArrayBuffer"==e},q=function(t,e){return W(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},X=function(t,e){return q(t,e=d(e,!0))?f(2,t[e]):M(t,e)},z=function(t,e,n){return!(q(t,e=d(e,!0))&&m(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?A(t,e,n):(t[e]=n.value,t)};i?(F||(P.f=X,R.f=z,V(N,"buffer"),V(N,"byteOffset"),V(N,"byteLength"),V(N,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:X,defineProperty:z}),t.exports=function(t,e,n){var i=t.match(/\d+$/)[0]/8,u=t+(n?"Clamped":"")+"Array",c="get"+t,f="set"+t,d=o[u],v=d,g=v&&v.prototype,R={},P=function(t,e){A(t,e,{get:function(){return function(t,e){var n=k(t);return n.view[c](e*i+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=k(t);n&&(r=(r=C(r))<0?0:r>255?255:255&r),o.view[f](e*i+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};F?a&&(v=e((function(t,e,n,r){return s(t,v,u),E(m(e)?Y(e)?void 0!==r?new d(e,y(n,i),r):void 0!==n?new d(e,y(n,i)):new d(e):W(e)?H(v,e):O.call(v,e):new d(p(e)),t,v)})),w&&w(v,G),S(x(d),(function(t){t in v||l(v,t,d[t])})),v.prototype=g):(v=e((function(t,e,n,r){s(t,v,u);var o,a,c,f=0,l=0;if(m(e)){if(!Y(e))return W(e)?H(v,e):O.call(v,e);o=e,l=y(n,i);var d=e.byteLength;if(void 0===r){if(d%i)throw I("Wrong length");if((a=d-l)<0)throw I("Wrong length")}else if((a=h(r)*i)+l>d)throw I("Wrong length");c=a/i}else c=p(e),o=new D(a=c*i);for(T(t,{buffer:o,byteOffset:l,byteLength:a,length:c,view:new L(o)});f<c;)P(t,f++)})),w&&w(v,G),g=v.prototype=b(N)),g.constructor!==v&&l(g,"constructor",v),B&&l(g,B,u),R[u]=v,r({global:!0,forced:v!=d,sham:!F},R),"BYTES_PER_ELEMENT"in v||l(v,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in g||l(g,"BYTES_PER_ELEMENT",i),j(u)}):t.exports=function(){}},function(t,e,n){var r=n(3),o=n(2),i=n(67),a=n(13).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new u(2),1,void 0).length}))},function(t,e,n){var r=n(29);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(25),o=n(19),i=n(85),a=n(84),u=n(50),c=n(13).aTypedArrayConstructor;t.exports=function(t){var e,n,s,f,l,h,p=r(t),y=arguments.length,d=y>1?arguments[1]:void 0,v=void 0!==d,g=i(p);if(null!=g&&!a(g))for(h=(l=g.call(p)).next,p=[];!(f=h.call(l)).done;)p.push(f.value);for(v&&y>2&&(d=u(d,arguments[2],2)),n=o(p.length),s=new(c(this))(n),e=0;n>e;e++)s[e]=v?d(p[e],e):p[e];return s}},function(t,e,n){"use strict";var r=n(13),o=n(183),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(25),o=n(41),i=n(19),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),u=i(n.length),c=o(t,u),s=o(e,u),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?u:o(f,u))-s,u-c),h=1;for(s<c&&c<s+l&&(h=-1,s+=l-1,c+=l-1);l-- >0;)s in n?n[c]=n[s]:delete n[c],c+=h,s+=h;return n}},function(t,e,n){"use strict";var r=n(13),o=n(28).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=n(129),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(13),o=n(28).filter,i=n(45),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=o(a(this),t,arguments.length>1?arguments[1]:void 0),n=i(this,this.constructor),r=0,c=e.length,s=new(u(n))(c);c>r;)s[r]=e[r++];return s}))},function(t,e,n){"use strict";var r=n(13),o=n(28).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=n(28).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=n(28).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=n(55).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=n(55).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(3),o=n(13),i=n(4),a=n(14)("iterator"),u=r.Uint8Array,c=i.values,s=i.keys,f=i.entries,l=o.aTypedArray,h=o.exportTypedArrayMethod,p=u&&u.prototype[a],y=!!p&&("values"==p.name||null==p.name),d=function(){return c.call(l(this))};h("entries",(function(){return f.call(l(this))})),h("keys",(function(){return s.call(l(this))})),h("values",d,!y),h(a,d,!y)},function(t,e,n){"use strict";var r=n(13),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",(function(t){return a.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(13),o=n(195),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(31),o=n(29),i=n(19),a=n(57),u=n(36),c=Math.min,s=[].lastIndexOf,f=!!s&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),h=u("indexOf",{ACCESSORS:!0,1:0}),p=f||!l||!h;t.exports=p?function(t){if(f)return s.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:s},function(t,e,n){"use strict";var r=n(13),o=n(28).map,i=n(45),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(u(i(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(13),o=n(95).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=n(95).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var t,e=o(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(13),o=n(19),i=n(131),a=n(25),u=n(2),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){c(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),u=o(r.length),s=0;if(u+e>n)throw RangeError("Wrong length");for(;s<u;)this[e+s]=r[s++]}),u((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(13),o=n(45),i=n(2),a=r.aTypedArray,u=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,s=[].slice;c("slice",(function(t,e){for(var n=s.call(a(this),t,e),r=o(this,this.constructor),i=0,c=n.length,f=new(u(r))(c);c>i;)f[i]=n[i++];return f}),i((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(13),o=n(28).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(13),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].sort;i("sort",(function(t){return a.call(o(this),t)}))},function(t,e,n){"use strict";var r=n(13),o=n(19),i=n(41),a=n(45),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=u(this),r=n.length,c=i(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},function(t,e,n){"use strict";var r=n(3),o=n(13),i=n(2),a=r.Int8Array,u=o.aTypedArray,c=o.exportTypedArrayMethod,s=[].toLocaleString,f=[].slice,l=!!a&&i((function(){s.call(new a(1))}));c("toLocaleString",(function(){return s.apply(l?f.call(u(this)):u(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(13).exportTypedArrayMethod,o=n(2),i=n(3).Uint8Array,a=i&&i.prototype||{},u=[].toString,c=[].join;o((function(){u.call({})}))&&(u=function(){return c.call(this)});var s=a.toString!=u;r("toString",u,s)},function(t,e,n){"use strict";var r=n(1),o=n(132);r({target:"String",proto:!0,forced:n(133)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(1),o=n(41),i=n(29),a=n(19),u=n(25),c=n(83),s=n(60),f=n(68),l=n(36),h=f("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var n,r,f,l,h,p,v=u(this),g=a(v.length),m=o(t,g),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=g-m):(n=b-2,r=d(y(i(e),0),g-m)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=c(v,r),l=0;l<r;l++)(h=m+l)in v&&s(f,l,v[h]);if(f.length=r,n<r){for(l=m;l<g-r;l++)p=l+n,(h=l+r)in v?v[p]=v[h]:delete v[p];for(l=g;l>g-r+n;l--)delete v[l-1]}else if(n>r)for(l=g-r;l>m;l--)p=l+n-1,(h=l+r-1)in v?v[p]=v[h]:delete v[p];for(l=0;l<n;l++)v[l+m]=arguments[l+2];return v.length=g-r+n,f}})},function(t,e,n){var r=n(1),o=n(20);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:n(112)})},function(t,e,n){var r=n(1),o=n(2),i=n(31),a=n(37).f,u=n(20),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(1),o=n(20),i=n(107),a=n(31),u=n(37),c=n(60);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,s=i(r),f={},l=0;s.length>l;)void 0!==(n=o(r,e=s[l++]))&&c(f,e,n);return f}})},function(t,e,n){"use strict";var r,o,i,a,u=n(1),c=n(52),s=n(3),f=n(40),l=n(213),h=n(27),p=n(92),y=n(49),d=n(94),v=n(21),g=n(42),m=n(63),b=n(32),w=n(76),x=n(93),O=n(67),S=n(45),j=n(136).set,R=n(214),P=n(215),_=n(216),E=n(138),k=n(217),T=n(38),A=n(65),M=n(14),C=n(88),I=M("species"),D="Promise",L=T.get,F=T.set,B=T.getterFor(D),G=l,N=s.TypeError,U=s.document,W=s.process,H=f("fetch"),V=E.f,Y=V,q="process"==b(W),X=!!(U&&U.createEvent&&s.dispatchEvent),z=A(D,(function(){if(!(w(G)!==String(G))){if(66===C)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!G.prototype.finally)return!0;if(C>=51&&/native code/.test(G))return!1;var t=G.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[I]=e,!(t.then((function(){}))instanceof e)})),Q=z||!O((function(t){G.all(t).catch((function(){}))})),$=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;R((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var u,c,s,f=r[a++],l=i?f.ok:f.fail,h=f.resolve,p=f.reject,y=f.domain;try{l?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?u=o:(y&&y.enter(),u=l(o),y&&(y.exit(),s=!0)),u===f.promise?p(N("Promise-chain cycle")):(c=$(u))?c.call(u,h,p):h(u)):p(o)}catch(t){y&&!s&&y.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&J(t,e)}))}},Z=function(t,e,n){var r,o;X?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},(o=s["on"+t])?o(r):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},J=function(t,e){j.call(s,(function(){var n,r=e.value;if(tt(e)&&(n=k((function(){q?W.emit("unhandledRejection",r,t):Z("unhandledrejection",t,r)})),e.rejection=q||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){j.call(s,(function(){q?W.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,K(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw N("Promise can't be resolved itself");var o=$(n);o?R((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,K(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};z&&(G=function(t){m(this,G,D),g(t),r.call(this);var e=L(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){F(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(G.prototype,{then:function(t,e){var n=B(this),r=V(S(this,G));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=q?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=L(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},E.f=V=function(t){return t===G||t===i?new o(t):Y(t)},c||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new G((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return P(G,H.apply(s,arguments))}}))),u({global:!0,wrap:!0,forced:z},{Promise:G}),y(G,D,!1,!0),d(D),i=f(D),u({target:D,stat:!0,forced:z},{reject:function(t){var e=V(this);return e.reject.call(void 0,t),e.promise}}),u({target:D,stat:!0,forced:c||z},{resolve:function(t){return P(c&&this===i?G:this,t)}}),u({target:D,stat:!0,forced:Q},{all:function(t){var e=this,n=V(e),r=n.resolve,o=n.reject,i=k((function(){var n=g(e.resolve),i=[],a=0,u=1;x(t,(function(t){var c=a++,s=!1;i.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=V(e),r=n.reject,o=k((function(){var o=g(e.resolve);x(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(3);t.exports=r.Promise},function(t,e,n){var r,o,i,a,u,c,s,f,l=n(3),h=n(37).f,p=n(32),y=n(136).set,d=n(137),v=l.MutationObserver||l.WebKitMutationObserver,g=l.process,m=l.Promise,b="process"==p(g),w=h(l,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(b&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},b?a=function(){g.nextTick(r)}:v&&!d?(u=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u}):m&&m.resolve?(s=m.resolve(void 0),f=s.then,a=function(){f.call(s,r)}):a=function(){y.call(l,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(24),o=n(21),i=n(138);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function l(){}function h(){}function p(){}var y={};y[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(j([])));v&&v!==e&&n.call(v,o)&&(y=v);var g=p.prototype=l.prototype=Object.create(y);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return h.prototype=g.constructor=p,p.constructor=h,h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[i]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),u(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(2),o=n(91);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"create",(function(){return m})),n.d(r,"clone",(function(){return b})),n.d(r,"copy",(function(){return w})),n.d(r,"fromValues",(function(){return x})),n.d(r,"set",(function(){return O})),n.d(r,"identity",(function(){return S})),n.d(r,"transpose",(function(){return j})),n.d(r,"invert",(function(){return R})),n.d(r,"adjoint",(function(){return P})),n.d(r,"determinant",(function(){return _})),n.d(r,"multiply",(function(){return E})),n.d(r,"translate",(function(){return k})),n.d(r,"scale",(function(){return T})),n.d(r,"rotate",(function(){return A})),n.d(r,"rotateX",(function(){return M})),n.d(r,"rotateY",(function(){return C})),n.d(r,"rotateZ",(function(){return I})),n.d(r,"fromTranslation",(function(){return D})),n.d(r,"fromScaling",(function(){return L})),n.d(r,"fromRotation",(function(){return F})),n.d(r,"fromXRotation",(function(){return B})),n.d(r,"fromYRotation",(function(){return G})),n.d(r,"fromZRotation",(function(){return N})),n.d(r,"fromRotationTranslation",(function(){return U})),n.d(r,"fromQuat2",(function(){return W})),n.d(r,"getTranslation",(function(){return H})),n.d(r,"getScaling",(function(){return V})),n.d(r,"getRotation",(function(){return Y})),n.d(r,"fromRotationTranslationScale",(function(){return q})),n.d(r,"fromRotationTranslationScaleOrigin",(function(){return X})),n.d(r,"fromQuat",(function(){return z})),n.d(r,"frustum",(function(){return Q})),n.d(r,"perspective",(function(){return $})),n.d(r,"perspectiveFromFieldOfView",(function(){return K})),n.d(r,"ortho",(function(){return Z})),n.d(r,"lookAt",(function(){return J})),n.d(r,"targetTo",(function(){return tt})),n.d(r,"str",(function(){return et})),n.d(r,"frob",(function(){return nt})),n.d(r,"add",(function(){return rt})),n.d(r,"subtract",(function(){return ot})),n.d(r,"multiplyScalar",(function(){return it})),n.d(r,"multiplyScalarAndAdd",(function(){return at})),n.d(r,"exactEquals",(function(){return ut})),n.d(r,"equals",(function(){return ct})),n.d(r,"mul",(function(){return st})),n.d(r,"sub",(function(){return ft}));n(153),n(6),n(0),n(79);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.x=e,this.y=n}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e){this.x=t,this.y=e}}])&&o(e.prototype,n),r&&o(e,r),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.leftButtonPressed=!1,this.scrollButonPressed=!1,this.rightButtonPressed=!1,this.viewportPosition=new i(0,0),be.canvas.addEventListener("contextmenu",(function(t){return t.preventDefault()})),be.canvas.addEventListener("mousemove",(function(t){return e.updatePosition(t)})),be.canvas.addEventListener("mousedown",(function(t){return e.updateButtonDown(t)})),be.canvas.addEventListener("mouseup",(function(t){return e.updateButtonUp(t)}))}var e,n,r;return e=t,(n=[{key:"updateButtonDown",value:function(t){this.leftButtonPressed=0===t.button,this.scrollButonPressed=1===t.button,this.rightButtonPressed=2===t.button}},{key:"updateButtonUp",value:function(t){this.leftButtonPressed=0!==t.button&&this.leftButtonPressed,this.scrollButonPressed=1!==t.button&&this.scrollButonPressed,this.rightButtonPressed=2!==t.button&&this.rightButtonPressed}},{key:"updatePosition",value:function(t){var e=be.canvas.getBoundingClientRect();this.viewportPosition.x=t.clientX-e.left,this.viewportPosition.y=t.clientY-e.top}}])&&a(e.prototype,n),r&&a(e,r),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.keyPresses={},window.addEventListener("keydown",(function(t){return e.keyPresses[t.key]=!0})),window.addEventListener("keyup",(function(t){return e.keyPresses[t.key]=!1}))}var e,n,r;return e=t,(n=[{key:"isPressed",value:function(t){return void 0!==this.keyPresses[t]&&!1!==this.keyPresses[t]}}])&&c(e.prototype,n),r&&c(e,r),t}();n(30);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._game=null,this.scenes={},this.currentScene=null,this.openingSceneName=null,this.currentSceneName=void 0}var e,n,r;return e=t,(n=[{key:"addScene",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"==typeof this.scenes[t])throw new Error("There is already a scene with the name '".concat(t,"'"));this.scenes[t]=e,!0!==n&&null!==this.openingSceneName||(this.openingSceneName=t)}},{key:"loadOpeningScene",value:function(){this.loadScene(this.openingSceneName)}},{key:"loadScene",value:function(t){if(null===this._game)throw new Error("Game not initialized.");var e=this._game.running;e&&this._game.stopLoop(),this.unloadCurrentScene(),this.currentScene=this.scenes[t](),this.currentScene.name=t,this.currentScene.game=this._game,e&&this._game.resumeLoop()}},{key:"unloadCurrentScene",value:function(){null!==this.currentScene&&(this.currentScene._destroy(),this.currentScene=null,this.currentSceneName=null,be.renderManager.clearRenderStack())}},{key:"game",set:function(t){this._game=t}}])&&f(e.prototype,n),r&&f(e,r),t}();n(7),n(10),n(11),n(43),n(58),n(158),n(61),n(4),n(34),n(5),n(12),n(162),n(8),n(44),n(9);function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p,y=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=new i(0,0),this.width=0,this.height=0,this.set(e,n,r,o)}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n,r){this.setPosition(t,e),this.width=n,this.height=r}},{key:"setPosition",value:function(t,e){this.position.set(t,e)}},{key:"updateFromRect",value:function(t){this.set(t.x,t.y,t.width,t.height)}},{key:"overlappingRectangle",value:function(t){return this.x1>=t.x&&this.x<=t.x1&&this.y1<=t.y&&this.y>=t.y1}},{key:"x",get:function(){return this.position.x},set:function(t){this.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.position.y=t}},{key:"x1",get:function(){return this.position.x+this.width}},{key:"y1",get:function(){return this.position.y-this.height}}])&&h(e.prototype,n),r&&h(e,r),t}();n(165),n(166),n(125),n(69);!function(t){t.Image="Image",t.Text="Text",t.Geometric="Geometric"}(p||(p={}));var d=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=void 0,this.ui=!1,this.layer=null,this.position=new i(0,0)},v=(n(171),n(173),n(177),n(182),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),1e-6),g="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function m(){var t=new g(16);return g!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function b(t){var e=new g(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function x(t,e,n,r,o,i,a,u,c,s,f,l,h,p,y,d){var v=new g(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=o,v[5]=i,v[6]=a,v[7]=u,v[8]=c,v[9]=s,v[10]=f,v[11]=l,v[12]=h,v[13]=p,v[14]=y,v[15]=d,v}function O(t,e,n,r,o,i,a,u,c,s,f,l,h,p,y,d,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=c,t[8]=s,t[9]=f,t[10]=l,t[11]=h,t[12]=p,t[13]=y,t[14]=d,t[15]=v,t}function S(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function j(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function R(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],h=e[10],p=e[11],y=e[12],d=e[13],v=e[14],g=e[15],m=n*u-r*a,b=n*c-o*a,w=n*s-i*a,x=r*c-o*u,O=r*s-i*u,S=o*s-i*c,j=f*d-l*y,R=f*v-h*y,P=f*g-p*y,_=l*v-h*d,E=l*g-p*d,k=h*g-p*v,T=m*k-b*E+w*_+x*P-O*R+S*j;return T?(T=1/T,t[0]=(u*k-c*E+s*_)*T,t[1]=(o*E-r*k-i*_)*T,t[2]=(d*S-v*O+g*x)*T,t[3]=(h*O-l*S-p*x)*T,t[4]=(c*P-a*k-s*R)*T,t[5]=(n*k-o*P+i*R)*T,t[6]=(v*w-y*S-g*b)*T,t[7]=(f*S-h*w+p*b)*T,t[8]=(a*E-u*P+s*j)*T,t[9]=(r*P-n*E-i*j)*T,t[10]=(y*O-d*w+g*m)*T,t[11]=(l*w-f*O-p*m)*T,t[12]=(u*R-a*_-c*j)*T,t[13]=(n*_-r*R+o*j)*T,t[14]=(d*b-y*x-v*m)*T,t[15]=(f*x-l*b+h*m)*T,t):null}function P(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],h=e[10],p=e[11],y=e[12],d=e[13],v=e[14],g=e[15];return t[0]=u*(h*g-p*v)-l*(c*g-s*v)+d*(c*p-s*h),t[1]=-(r*(h*g-p*v)-l*(o*g-i*v)+d*(o*p-i*h)),t[2]=r*(c*g-s*v)-u*(o*g-i*v)+d*(o*s-i*c),t[3]=-(r*(c*p-s*h)-u*(o*p-i*h)+l*(o*s-i*c)),t[4]=-(a*(h*g-p*v)-f*(c*g-s*v)+y*(c*p-s*h)),t[5]=n*(h*g-p*v)-f*(o*g-i*v)+y*(o*p-i*h),t[6]=-(n*(c*g-s*v)-a*(o*g-i*v)+y*(o*s-i*c)),t[7]=n*(c*p-s*h)-a*(o*p-i*h)+f*(o*s-i*c),t[8]=a*(l*g-p*d)-f*(u*g-s*d)+y*(u*p-s*l),t[9]=-(n*(l*g-p*d)-f*(r*g-i*d)+y*(r*p-i*l)),t[10]=n*(u*g-s*d)-a*(r*g-i*d)+y*(r*s-i*u),t[11]=-(n*(u*p-s*l)-a*(r*p-i*l)+f*(r*s-i*u)),t[12]=-(a*(l*v-h*d)-f*(u*v-c*d)+y*(u*h-c*l)),t[13]=n*(l*v-h*d)-f*(r*v-o*d)+y*(r*h-o*l),t[14]=-(n*(u*v-c*d)-a*(r*v-o*d)+y*(r*c-o*u)),t[15]=n*(u*h-c*l)-a*(r*h-o*l)+f*(r*c-o*u),t}function _(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],c=t[7],s=t[8],f=t[9],l=t[10],h=t[11],p=t[12],y=t[13],d=t[14],v=t[15];return(e*a-n*i)*(l*v-h*d)-(e*u-r*i)*(f*v-h*y)+(e*c-o*i)*(f*d-l*y)+(n*u-r*a)*(s*v-h*p)-(n*c-o*a)*(s*d-l*p)+(r*c-o*u)*(s*y-f*p)}function E(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],h=e[9],p=e[10],y=e[11],d=e[12],v=e[13],g=e[14],m=e[15],b=n[0],w=n[1],x=n[2],O=n[3];return t[0]=b*r+w*u+x*l+O*d,t[1]=b*o+w*c+x*h+O*v,t[2]=b*i+w*s+x*p+O*g,t[3]=b*a+w*f+x*y+O*m,b=n[4],w=n[5],x=n[6],O=n[7],t[4]=b*r+w*u+x*l+O*d,t[5]=b*o+w*c+x*h+O*v,t[6]=b*i+w*s+x*p+O*g,t[7]=b*a+w*f+x*y+O*m,b=n[8],w=n[9],x=n[10],O=n[11],t[8]=b*r+w*u+x*l+O*d,t[9]=b*o+w*c+x*h+O*v,t[10]=b*i+w*s+x*p+O*g,t[11]=b*a+w*f+x*y+O*m,b=n[12],w=n[13],x=n[14],O=n[15],t[12]=b*r+w*u+x*l+O*d,t[13]=b*o+w*c+x*h+O*v,t[14]=b*i+w*s+x*p+O*g,t[15]=b*a+w*f+x*y+O*m,t}function k(t,e,n){var r,o,i,a,u,c,s,f,l,h,p,y,d=n[0],v=n[1],g=n[2];return e===t?(t[12]=e[0]*d+e[4]*v+e[8]*g+e[12],t[13]=e[1]*d+e[5]*v+e[9]*g+e[13],t[14]=e[2]*d+e[6]*v+e[10]*g+e[14],t[15]=e[3]*d+e[7]*v+e[11]*g+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],h=e[9],p=e[10],y=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=c,t[6]=s,t[7]=f,t[8]=l,t[9]=h,t[10]=p,t[11]=y,t[12]=r*d+u*v+l*g+e[12],t[13]=o*d+c*v+h*g+e[13],t[14]=i*d+s*v+p*g+e[14],t[15]=a*d+f*v+y*g+e[15]),t}function T(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function A(t,e,n,r){var o,i,a,u,c,s,f,l,h,p,y,d,g,m,b,w,x,O,S,j,R,P,_,E,k=r[0],T=r[1],A=r[2],M=Math.hypot(k,T,A);return M<v?null:(k*=M=1/M,T*=M,A*=M,o=Math.sin(n),a=1-(i=Math.cos(n)),u=e[0],c=e[1],s=e[2],f=e[3],l=e[4],h=e[5],p=e[6],y=e[7],d=e[8],g=e[9],m=e[10],b=e[11],w=k*k*a+i,x=T*k*a+A*o,O=A*k*a-T*o,S=k*T*a-A*o,j=T*T*a+i,R=A*T*a+k*o,P=k*A*a+T*o,_=T*A*a-k*o,E=A*A*a+i,t[0]=u*w+l*x+d*O,t[1]=c*w+h*x+g*O,t[2]=s*w+p*x+m*O,t[3]=f*w+y*x+b*O,t[4]=u*S+l*j+d*R,t[5]=c*S+h*j+g*R,t[6]=s*S+p*j+m*R,t[7]=f*S+y*j+b*R,t[8]=u*P+l*_+d*E,t[9]=c*P+h*_+g*E,t[10]=s*P+p*_+m*E,t[11]=f*P+y*_+b*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function M(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],u=e[6],c=e[7],s=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+s*r,t[5]=a*o+f*r,t[6]=u*o+l*r,t[7]=c*o+h*r,t[8]=s*o-i*r,t[9]=f*o-a*r,t[10]=l*o-u*r,t[11]=h*o-c*r,t}function C(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],c=e[3],s=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-s*r,t[1]=a*o-f*r,t[2]=u*o-l*r,t[3]=c*o-h*r,t[8]=i*r+s*o,t[9]=a*r+f*o,t[10]=u*r+l*o,t[11]=c*r+h*o,t}function I(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],c=e[3],s=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+s*r,t[1]=a*o+f*r,t[2]=u*o+l*r,t[3]=c*o+h*r,t[4]=s*o-i*r,t[5]=f*o-a*r,t[6]=l*o-u*r,t[7]=h*o-c*r,t}function D(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function L(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,e,n){var r,o,i,a=n[0],u=n[1],c=n[2],s=Math.hypot(a,u,c);return s<v?null:(a*=s=1/s,u*=s,c*=s,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=a*a*i+o,t[1]=u*a*i+c*r,t[2]=c*a*i-u*r,t[3]=0,t[4]=a*u*i-c*r,t[5]=u*u*i+o,t[6]=c*u*i+a*r,t[7]=0,t[8]=a*c*i+u*r,t[9]=u*c*i-a*r,t[10]=c*c*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function B(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=r+r,c=o+o,s=i+i,f=r*u,l=r*c,h=r*s,p=o*c,y=o*s,d=i*s,v=a*u,g=a*c,m=a*s;return t[0]=1-(p+d),t[1]=l+m,t[2]=h-g,t[3]=0,t[4]=l-m,t[5]=1-(f+d),t[6]=y+v,t[7]=0,t[8]=h+g,t[9]=y-v,t[10]=1-(f+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function W(t,e){var n=new g(3),r=-e[0],o=-e[1],i=-e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=r*r+o*o+i*i+a*a;return l>0?(n[0]=2*(u*a+f*r+c*i-s*o)/l,n[1]=2*(c*a+f*o+s*r-u*i)/l,n[2]=2*(s*a+f*i+u*o-c*r)/l):(n[0]=2*(u*a+f*r+c*i-s*o),n[1]=2*(c*a+f*o+s*r-u*i),n[2]=2*(s*a+f*i+u*o-c*r)),U(t,e,n),t}function H(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function V(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],u=e[6],c=e[8],s=e[9],f=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(i,a,u),t[2]=Math.hypot(c,s,f),t}function Y(t,e){var n=new g(3);V(n,e);var r=1/n[0],o=1/n[1],i=1/n[2],a=e[0]*r,u=e[1]*o,c=e[2]*i,s=e[4]*r,f=e[5]*o,l=e[6]*i,h=e[8]*r,p=e[9]*o,y=e[10]*i,d=a+f+y,v=0;return d>0?(v=2*Math.sqrt(d+1),t[3]=.25*v,t[0]=(l-p)/v,t[1]=(h-c)/v,t[2]=(u-s)/v):a>f&&a>y?(v=2*Math.sqrt(1+a-f-y),t[3]=(l-p)/v,t[0]=.25*v,t[1]=(u+s)/v,t[2]=(h+c)/v):f>y?(v=2*Math.sqrt(1+f-a-y),t[3]=(h-c)/v,t[0]=(u+s)/v,t[1]=.25*v,t[2]=(l+p)/v):(v=2*Math.sqrt(1+y-a-f),t[3]=(u-s)/v,t[0]=(h+c)/v,t[1]=(l+p)/v,t[2]=.25*v),t}function q(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=e[3],c=o+o,s=i+i,f=a+a,l=o*c,h=o*s,p=o*f,y=i*s,d=i*f,v=a*f,g=u*c,m=u*s,b=u*f,w=r[0],x=r[1],O=r[2];return t[0]=(1-(y+v))*w,t[1]=(h+b)*w,t[2]=(p-m)*w,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(l+v))*x,t[6]=(d+g)*x,t[7]=0,t[8]=(p+m)*O,t[9]=(d-g)*O,t[10]=(1-(l+y))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function X(t,e,n,r,o){var i=e[0],a=e[1],u=e[2],c=e[3],s=i+i,f=a+a,l=u+u,h=i*s,p=i*f,y=i*l,d=a*f,v=a*l,g=u*l,m=c*s,b=c*f,w=c*l,x=r[0],O=r[1],S=r[2],j=o[0],R=o[1],P=o[2],_=(1-(d+g))*x,E=(p+w)*x,k=(y-b)*x,T=(p-w)*O,A=(1-(h+g))*O,M=(v+m)*O,C=(y+b)*S,I=(v-m)*S,D=(1-(h+d))*S;return t[0]=_,t[1]=E,t[2]=k,t[3]=0,t[4]=T,t[5]=A,t[6]=M,t[7]=0,t[8]=C,t[9]=I,t[10]=D,t[11]=0,t[12]=n[0]+j-(_*j+T*R+C*P),t[13]=n[1]+R-(E*j+A*R+I*P),t[14]=n[2]+P-(k*j+M*R+D*P),t[15]=1,t}function z(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,u=r+r,c=o+o,s=n*a,f=r*a,l=r*u,h=o*a,p=o*u,y=o*c,d=i*a,v=i*u,g=i*c;return t[0]=1-l-y,t[1]=f+g,t[2]=h-v,t[3]=0,t[4]=f-g,t[5]=1-s-y,t[6]=p+d,t[7]=0,t[8]=h+v,t[9]=p-d,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Q(t,e,n,r,o,i,a){var u=1/(n-e),c=1/(o-r),s=1/(i-a);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*c,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(o+r)*c,t[10]=(a+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*s,t[15]=0,t}function $(t,e,n,r,o){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(r-o),t[10]=(o+r)*i,t[14]=2*o*r*i):(t[10]=-1,t[14]=-2*r),t}function K(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(a+u),s=2/(o+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(a-u)*c*.5,t[9]=(o-i)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Z(t,e,n,r,o,i,a){var u=1/(e-n),c=1/(r-o),s=1/(i-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*u,t[13]=(o+r)*c,t[14]=(a+i)*s,t[15]=1,t}function J(t,e,n,r){var o,i,a,u,c,s,f,l,h,p,y=e[0],d=e[1],g=e[2],m=r[0],b=r[1],w=r[2],x=n[0],O=n[1],j=n[2];return Math.abs(y-x)<v&&Math.abs(d-O)<v&&Math.abs(g-j)<v?S(t):(f=y-x,l=d-O,h=g-j,o=b*(h*=p=1/Math.hypot(f,l,h))-w*(l*=p),i=w*(f*=p)-m*h,a=m*l-b*f,(p=Math.hypot(o,i,a))?(o*=p=1/p,i*=p,a*=p):(o=0,i=0,a=0),u=l*a-h*i,c=h*o-f*a,s=f*i-l*o,(p=Math.hypot(u,c,s))?(u*=p=1/p,c*=p,s*=p):(u=0,c=0,s=0),t[0]=o,t[1]=u,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=l,t[7]=0,t[8]=a,t[9]=s,t[10]=h,t[11]=0,t[12]=-(o*y+i*d+a*g),t[13]=-(u*y+c*d+s*g),t[14]=-(f*y+l*d+h*g),t[15]=1,t)}function tt(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=r[0],c=r[1],s=r[2],f=o-n[0],l=i-n[1],h=a-n[2],p=f*f+l*l+h*h;p>0&&(f*=p=1/Math.sqrt(p),l*=p,h*=p);var y=c*h-s*l,d=s*f-u*h,v=u*l-c*f;return(p=y*y+d*d+v*v)>0&&(y*=p=1/Math.sqrt(p),d*=p,v*=p),t[0]=y,t[1]=d,t[2]=v,t[3]=0,t[4]=l*v-h*d,t[5]=h*y-f*v,t[6]=f*d-l*y,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function et(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function nt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function rt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function ot(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function it(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function at(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function ut(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ct(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],c=t[6],s=t[7],f=t[8],l=t[9],h=t[10],p=t[11],y=t[12],d=t[13],g=t[14],m=t[15],b=e[0],w=e[1],x=e[2],O=e[3],S=e[4],j=e[5],R=e[6],P=e[7],_=e[8],E=e[9],k=e[10],T=e[11],A=e[12],M=e[13],C=e[14],I=e[15];return Math.abs(n-b)<=v*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-w)<=v*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(o-x)<=v*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-O)<=v*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(a-S)<=v*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(u-j)<=v*Math.max(1,Math.abs(u),Math.abs(j))&&Math.abs(c-R)<=v*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(s-P)<=v*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(f-_)<=v*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(l-E)<=v*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(h-k)<=v*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-T)<=v*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(y-A)<=v*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(d-M)<=v*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(g-C)<=v*Math.max(1,Math.abs(g),Math.abs(C))&&Math.abs(m-I)<=v*Math.max(1,Math.abs(m),Math.abs(I))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var st=E,ft=ot;function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ht=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureFactory=void 0,this.gl=void 0,this.program=void 0,this.positionBuffer=void 0,this.textureBuffer=void 0,this.positionAttr=void 0,this.texCoordsAttr=void 0,this.modelMatrixUniform=void 0,this.projectionMatrixUniform=void 0,this.textureMatrixUniform=void 0,this.textureUniform=void 0,this.alphaUniform=void 0,this.projectionMatrix=void 0,this.modelMatrix=void 0,this.textureMatrix=void 0,this.cache=new Map,this.gl=e,this.textureFactory=o,this.program=n.create("#version 300 es\nprecision mediump float;\n\nin vec2 position;\nin vec2 textureCoords;\n\nout vec2 texCoords;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 textureMatrix;\n\nvoid main()\n{\n    gl_Position = projectionMatrix * modelMatrix * vec4(position, 0, 1);\n    texCoords = (textureMatrix * vec4(textureCoords, 0, 1)).xy;\n}","#version 300 es\nprecision mediump float;\n\nout vec4 fragColor;\n\nin vec2 texCoords;\n\nuniform sampler2D texImage;\nuniform float alpha;\n\nvoid main()\n{\n    vec4 texColor = texture(texImage, texCoords);\n    if(texColor.a < 0.0001)\n        discard;\n    fragColor = vec4(texColor.rgb, alpha);\n}"),this.positionBuffer=e.createBuffer(),this.textureBuffer=e.createBuffer(),this.positionAttr=e.getAttribLocation(this.program,"position"),this.texCoordsAttr=e.getAttribLocation(this.program,"textureCoords"),this.modelMatrixUniform=e.getUniformLocation(this.program,"modelMatrix"),this.projectionMatrixUniform=e.getUniformLocation(this.program,"projectionMatrix"),this.textureMatrixUniform=e.getUniformLocation(this.program,"textureMatrix"),this.textureUniform=e.getUniformLocation(this.program,"texImage"),this.alphaUniform=e.getUniformLocation(this.program,"alpha"),this.projectionMatrix=r.create(),r.ortho(this.projectionMatrix,-this.gl.canvas.width/2,this.gl.canvas.width/2,-this.gl.canvas.height/2,this.gl.canvas.height/2,-1,1),this.gl.useProgram(this.program),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-.5,-.5,.5,-.5,-.5,.5,.5,.5]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,1,1,1,0,0,1,0]),this.gl.STATIC_DRAW)}var e,n,o;return e=t,(n=[{key:"renderImage",value:function(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;!1===this.cache.has(t.src)&&this.cache.set(t.src,this.textureFactory.create(t)),null===i&&(i=new y(0,0,t.naturalWidth,t.naturalHeight));var f=this.cache.get(t.src);this.modelMatrix=r.create(),r.translate(this.modelMatrix,this.modelMatrix,[e.x,e.y,0]),r.scale(this.modelMatrix,this.modelMatrix,[n*(u?-1:1),o*(c?-1:1),0]),r.rotateZ(this.modelMatrix,this.modelMatrix,-a*(Math.PI/180)),this.textureMatrix=r.create(),r.translate(this.textureMatrix,this.textureMatrix,[i.x/t.naturalWidth,i.y/t.naturalHeight,0]),r.scale(this.textureMatrix,this.textureMatrix,[i.width/t.naturalWidth,i.height/t.naturalHeight,0]),this.gl.enableVertexAttribArray(this.positionAttr),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.positionAttr,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.texCoordsAttr),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.vertexAttribPointer(this.texCoordsAttr,2,this.gl.FLOAT,!1,0,0),this.gl.uniformMatrix4fv(this.projectionMatrixUniform,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(this.modelMatrixUniform,!1,this.modelMatrix),this.gl.uniformMatrix4fv(this.textureMatrixUniform,!1,this.textureMatrix),s<1?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this.gl.bindTexture(this.gl.TEXTURE_2D,f),this.gl.uniform1i(this.textureUniform,0),this.gl.uniform1f(this.alphaUniform,s),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}])&&lt(e.prototype,n),o&&lt(e,o),t}();n(207);function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=void 0,this.shaderLoader=void 0,this.gl=e,this.shaderLoader=n}var e,n,r;return e=t,(n=[{key:"create",value:function(t,e){var n=this.gl.createProgram(),r=this.shaderLoader.load(this.gl.VERTEX_SHADER,t),o=this.shaderLoader.load(this.gl.FRAGMENT_SHADER,e);return this.link(n,r,o),n}},{key:"link",value:function(t,e,n){this.gl.attachShader(t,e),this.gl.attachShader(t,n),this.gl.linkProgram(t);var r=this.gl.LINK_STATUS;if(!this.gl.getProgramParameter(t,r)){var o=this.gl.getProgramInfoLog(t);throw this.gl.deleteProgram(t),new Error("Unable to initialize the Program: ".concat(o))}}}])&&pt(e.prototype,n),r&&pt(e,r),t}();function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=void 0,this.gl=e}var e,n,r;return e=t,(n=[{key:"load",value:function(t,e){var n=this.gl.createShader(t);this.gl.shaderSource(n,e),this.gl.compileShader(n);var r=this.gl.COMPILE_STATUS;if(!this.gl.getShaderParameter(n,r)){var o=this.gl.getShaderInfoLog(n);throw this.gl.deleteShader(n),new Error("Unable to initialize the shader program: ".concat(o))}return n}}])&&dt(e.prototype,n),r&&dt(e,r),t}();function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var mt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=void 0,this.gl=e}var e,n,r;return e=t,(n=[{key:"create",value:function(t){var e=this,n=this.gl.createTexture();return t.naturalWidth?this.onImageLoaded(t,n):t.addEventListener("load",(function(){return e.onImageLoaded(t,n)})),n}},{key:"onImageLoaded",value:function(t,e){this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST)}}])&&gt(e.prototype,n),r&&gt(e,r),t}();function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=void 0,this.gl=void 0,this.imageRenderer=void 0,this.renderPosition=new i(0,0),this.cacheRect=new y(0,0,0,0),this.canvas=e,this.gl=this.canvas.getContext("webgl2");var n=new yt(this.gl,new vt(this.gl)),r=new mt(this.gl);this.imageRenderer=new ht(this.gl,n,r)}var e,n,r;return e=t,(n=[{key:"clearCanvas",value:function(t){var e=this.hexToRgb(t);this.gl.clearColor(e.r,e.g,e.b,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"hexToRgb",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16)/256,g:parseInt(e[2],16)/256,b:parseInt(e[3],16)/256}:null}},{key:"render",value:function(t,e,n){t.type===p.Image&&this.renderImage(t,!0===t.ui?n:e)}},{key:"renderImage",value:function(t,e){!1!==this.isInsideViewRect(t,e)&&(this.updateRenderPosition(t,e),this.imageRenderer.renderImage(t.image,this.renderPosition,t.width,t.height,t.slice,t.rotation,t.flipHorizontal,t.flipVertical,t.alpha))}},{key:"isInsideViewRect",value:function(t,e){return this.cacheRect.set(t.position.x,t.position.y,t.width,t.height),e.overlappingRectangle(this.cacheRect)}},{key:"updateRenderPosition",value:function(t,e){this.renderPosition.x=Number((t.position.x-e.x-e.width/2).toFixed(0)),this.renderPosition.y=Number((t.position.y-e.y+e.height/2).toFixed(0))}}])&&bt(e.prototype,n),r&&bt(e,r),t}();function xt(t){return function(t){if(Array.isArray(t))return Ot(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var jt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.contextRenderer=null,this.renderStack=[],this._renderLayers=[],this._worldSpaceViewRect=new y(0,0,0,0),this._viewportRect=new y(0,0,0,0),this.contextRenderer=new wt(e)}var e,n,r;return e=t,(n=[{key:"clearCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.contextRenderer.clearCanvas(t)}},{key:"addToRenderStack",value:function(t){this.renderStack.push(t)}},{key:"clearRenderStack",value:function(){this.renderStack=[]}},{key:"render",value:function(){var t=this;this.renderStack.forEach((function(e){!1!==t._renderLayers.includes(e.layer)&&t.contextRenderer.render(e,t._worldSpaceViewRect,t._viewportRect)})),this.clearRenderStack()}},{key:"renderLayers",set:function(t){this._renderLayers=xt(t)}},{key:"worldSpaceViewRect",set:function(t){this._worldSpaceViewRect.updateFromRect(t)}},{key:"viewportRect",set:function(t){this._viewportRect.updateFromRect(t)}}])&&St(e.prototype,n),r&&St(e,r),t}();n(35),n(15),n(16),n(17),n(18);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tt(t);if(e){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(n,t);var e=Et(n);function n(){var t;Pt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).type=p.Geometric,t.color=null,t.geometric=null,t.geometricType=null,t.geometricUsePosition=!1,t}return n}(d),Mt=(n(96),n(71),n(97),n(98),n(99),n(72),"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)),Ct=new Uint8Array(16);function It(){if(!Mt)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mt(Ct)}var Dt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Lt=function(t){return"string"==typeof t&&Dt.test(t)},Ft=[],Bt=0;Bt<256;++Bt)Ft.push((Bt+256).toString(16).substr(1));var Gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]).toLowerCase();if(!Lt(n))throw TypeError("Stringified UUID is invalid");return n};var Nt=function(t,e,n){var r=(t=t||{}).random||(t.rng||It)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Gt(r)};n(135);function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Wt=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uuid=Nt(),this.name=null,this.gameObject=null,this.active=!0,this.firstFrame=!0,this.gameLoopEventHandler=function(t){!1!==e.active&&(!0===e.firstFrame?(e.start(t.detail),e.firstFrame=!1):e.update(t.detail))},this.gameLoopEventHandler.bind(this),window.addEventListener(ge,this.gameLoopEventHandler)}var e,n,r;return e=t,(n=[{key:"start",value:function(t){}},{key:"update",value:function(t){}},{key:"getComponent",value:function(t){return this.gameObject.getComponent(t)}},{key:"findGameObjectByName",value:function(t){return be.gameObjectManager.findGameObjectByName(t)}},{key:"findGameObjectsByTag",value:function(t){return be.gameObjectManager.findGameObjectsByTag(t)}},{key:"findGameObjectByTag",value:function(t){return be.gameObjectManager.findGameObjectByTag(t)}},{key:"_destroy",value:function(){var t=this;window.removeEventListener(ge,this.gameLoopEventHandler),Object.keys(this).forEach((function(e){return delete t[e]}))}},{key:"uuid",get:function(){return this._uuid}}])&&Ut(e.prototype,n),r&&Ut(e,r),t}();function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qt(t);if(e){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(t,e){return!e||"object"!==Ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(a,t);var e,n,r,o=Xt(a);function a(){var t;Vt(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).position=new i(0,0),t.innerPosition=new i(0,0),t.scale=new i(1,1),t.rotation=0,t.parentTransform=null,t}return e=a,(n=[{key:"start",value:function(){this.update()}},{key:"update",value:function(){null===this.parentTransform&&null!==this.gameObject.parent&&(this.parentTransform=this.gameObject.parent.transform),null!==this.parentTransform&&null===this.gameObject.parent&&(this.parentTransform=null),null!==this.parentTransform?(this.position.x=this.parentTransform.position.x+this.innerPosition.x,this.position.y=this.parentTransform.position.y+this.innerPosition.y,this.translateFromParent()):(this.innerPosition.x=this.position.x,this.innerPosition.y=this.position.y)}},{key:"translateFromParent",value:function(){var t=this.parentTransform.rotation*Math.PI/180,e=Math.hypot(this.position.x-this.parentTransform.position.x,this.position.y-this.parentTransform.position.y);this.position.x=this.parentTransform.position.x+e*Math.cos(t),this.position.y=this.parentTransform.position.y-e*Math.sin(t),this.rotation=this.parentTransform.rotation}}])&&Yt(e.prototype,n),r&&Yt(e,r),a}(Wt);function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zt=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uuid=Nt(),this.name=null,this.tag=null,this.layer="Default",this.ui=!1,this.active=!0,this.scene=null,this.firstFrame=!0,this._parent=null,this.components=[],this.inactiveComponents=[],this.inactiveChildren=[],this.gameLoopEventHandler=function(t){!1!==e.active&&(!0===e.firstFrame?(e.start(t.detail),e.firstFrame=!1):e.update(t.detail))},this.addComponent((function(){return new $t}),"Transform"),this.gameLoopEventHandler.bind(this),window.addEventListener(ge,this.gameLoopEventHandler)}var e,n,r;return e=t,(n=[{key:"start",value:function(t){}},{key:"update",value:function(t){}},{key:"findGameObjectByName",value:function(t){return be.gameObjectManager.findGameObjectByName(t)}},{key:"findGameObjectsByTag",value:function(t){return be.gameObjectManager.findGameObjectsByTag(t)}},{key:"findGameObjectByTag",value:function(t){return be.gameObjectManager.findGameObjectByTag(t)}},{key:"addComponent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t();return n.name=e,n.gameObject=this,this.components.push(n),this}},{key:"getComponents",value:function(){return this.components}},{key:"getComponent",value:function(t){return this.components.reduce((function(e,n){return n.name===t?n:e}),null)}},{key:"hasComponent",value:function(t){return null!==this.getComponent(t)}},{key:"removeComponent",value:function(t){var e=this;this.components.every((function(n,r){if(n.name===t)return n._destroy(),delete e.components[r],!1}))}},{key:"removeComponents",value:function(){var t=this;this.components.every((function(e,n){return e._destroy(),delete t.components[n]})),this.components=[]}},{key:"addChild",value:function(t,e){return be.gameObjectManager.addGameObject(t,this.scene,e,this),this}},{key:"getChildren",value:function(){return be.gameObjectManager.findGameObjectsByParent(this)}},{key:"getChild",value:function(t){return be.gameObjectManager.findGameObjectByParentAndName(this,t)}},{key:"destroyChildren",value:function(){be.gameObjectManager.findGameObjectsByParent(this).every((function(t){return be.gameObjectManager.destroyGameObject(t)}))}},{key:"setActive",value:function(t){var e=this;this.components.filter((function(t){return-1===e.inactiveComponents.indexOf(t.uuid)})).forEach((function(e){return e.active=t})),this.getChildren().filter((function(t){return-1===e.inactiveChildren.indexOf(t.uuid)})).forEach((function(e){return e.setActive(t)})),this.transform.update(),this.active=t}},{key:"setComponentActive",value:function(t,e){var n=this.getComponent(t);if(null===n)throw new Error("Component with id ".concat(t," does not exists"));var r=this.inactiveComponents.indexOf(n.uuid);!1===e&&-1===r?this.inactiveComponents.push(n.uuid):!0===e&&-1!==r&&delete this.inactiveComponents[r],n.active=e}},{key:"setChildActive",value:function(t,e){var n=this.getChild(t);if(null===n)throw"GameObject with name ".concat(t," does not exists");var r=this.inactiveChildren.indexOf(n.uuid);!1===e&&-1===r?this.inactiveChildren.push(n.uuid):!0===e&&-1!==r&&delete this.inactiveChildren[r],n.setActive(e)}},{key:"_destroy",value:function(){var t=this;window.removeEventListener(ge,this.gameLoopEventHandler),this.removeComponents(),Object.keys(this).forEach((function(e){return delete t[e]}))}},{key:"uuid",get:function(){return this._uuid}},{key:"transform",get:function(){return this.getComponent("Transform")}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t,this.transform.update()}}])&&Kt(e.prototype,n),r&&Kt(e,r),t}();n(208);function Jt(t){return function(t){if(Array.isArray(t))return ne(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||ee(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ee(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ee(t,e){if(t){if("string"==typeof t)return ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(t,e):void 0}}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var oe=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxObjects=5,this.maxLevels=5,this.sw=0,this.se=1,this.nw=2,this.ne=3,this.level=void 0,this.objects=[],this.quadrants=[],this.bounds=void 0,this.level=e,this.bounds=n}var e,n,r;return e=t,(n=[{key:"insert",value:function(t){this.hasQuadChildren()?this.insertObjectIntoChildrenQuads(t):(this.objects.push(t),this.isQuadFull()&&this.level<this.maxLevels&&this.splitQuad())}},{key:"retrieve",value:function(t){var e=[];if(this.hasQuadChildren()){var n,r=te(this.getChildrenQuadrantForObject(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push.apply(e,Jt(o.retrieve(t)))}}catch(t){r.e(t)}finally{r.f()}}e.push.apply(e,Jt(this.objects));var i=e.indexOf(t);return-1!==i&&e.splice(i,1),e}},{key:"clear",value:function(){var t,e=te(this.quadrants);try{for(e.s();!(t=e.n()).done;)t.value.clear()}catch(t){e.e(t)}finally{e.f()}this.objects=[],this.quadrants=[]}},{key:"splitQuad",value:function(){var e=this.getQuadrantMidPoint(),n=e.x,r=e.y,o=this.level+1,i=this.bounds.width/2,a=this.bounds.height/2;this.quadrants=[new t(o,new y(n-i,r,i,a)),new t(o,new y(n,r,i,a)),new t(o,new y(n-i,r+a,i,a)),new t(o,new y(n,r+a,i,a))];var u,c=te(this.objects);try{for(c.s();!(u=c.n()).done;){var s=u.value;this.insertObjectIntoChildrenQuads(s)}}catch(t){c.e(t)}finally{c.f()}this.objects=[]}},{key:"getChildrenQuadrantForObject",value:function(t){if(0===this.quadrants.length)throw new Error("Current quadrant does not have quadrant children.");var e=this.getQuadrantMidPoint(),n=e.x,r=e.y,o=[];if(t.getRectangle().x<=n&&t.getRectangle().y1<=r&&o.push(this.quadrants[this.sw]),t.getRectangle().x1>=n&&t.getRectangle().y1<=r&&o.push(this.quadrants[this.se]),t.getRectangle().x<=n&&t.getRectangle().y>=r&&o.push(this.quadrants[this.nw]),t.getRectangle().x1>=n&&t.getRectangle().y>=r&&o.push(this.quadrants[this.ne]),0===o.length)throw new Error("Children does not fit in any children quadrant");return o}},{key:"insertObjectIntoChildrenQuads",value:function(t){var e,n=te(this.getChildrenQuadrantForObject(t));try{for(n.s();!(e=n.n()).done;)e.value.insert(t)}catch(t){n.e(t)}finally{n.f()}}},{key:"getQuadrantMidPoint",value:function(){return new i(this.bounds.width/2+this.bounds.x,-1*(this.bounds.height/2-this.bounds.y))}},{key:"hasQuadChildren",value:function(){return this.quadrants.length>0}},{key:"isQuadFull",value:function(){return this.objects.length>this.maxObjects}}])&&re(e.prototype,n),r&&re(e,r),t}();function ie(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ce,se=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.debug=!1,this.renderManager=void 0,this.colliders=[],this.quad=void 0,this.renderManager=e,this.quad=new oe(0,new y(-1025,700,2050,1400))}var e,n,r;return e=t,(n=[{key:"prepare",value:function(){this.debugColliders(),this.debugQuads(this.quad),this.refreshQuad()}},{key:"addCollider",value:function(t){this.colliders.push(t)}},{key:"getCollisionsForCollider",value:function(t){var e=this.broadPhase(t);return this.narrowPhase(t,e)}},{key:"broadPhase",value:function(t){return this.quad.retrieve(t)}},{key:"narrowPhase",value:function(t,e){var n,r=[],o=ie(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;this.checkCollision(t,i)&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"refreshQuad",value:function(){this.quad.clear();var t,e=ie(this.colliders);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.quad.insert(n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"checkCollision",value:function(t,e){return t.getRectangle().x<e.getRectangle().x+e.getRectangle().width&&t.getRectangle().x+t.getRectangle().width>e.getRectangle().x&&t.getRectangle().y-t.getRectangle().height<e.getRectangle().y&&t.getRectangle().y>e.getRectangle().y-e.getRectangle().height}},{key:"debugColliders",value:function(){if(this.debug){var t,e=ie(this.colliders);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.renderManager.addToRenderStack(n.getRenderData())}}catch(t){e.e(t)}finally{e.f()}}}},{key:"debugQuads",value:function(t){if(this.debug){var e=new At;e.position=new i(t.bounds.x,t.bounds.y),e.layer="Default",e.geometric=t.bounds,e.geometricType="Rectangle",e.color="#0000FF",this.renderManager.addToRenderStack(e);var n,r=ie(t.quadrants);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.debugQuads(o)}}catch(t){r.e(t)}finally{r.f()}}}}])&&ue(e.prototype,n),r&&ue(e,r),t}();function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){t.Image="Image",t.Audio="Audio",t.Video="Video"}(ce||(ce={}));var he=function t(){le(this,t),this.type=null,this.url=null,this.loaded=!1,this.element=null},pe=function(){function t(){le(this,t),this.assets=[]}var e,n,r;return e=t,(n=[{key:"getAssetsLoaded",value:function(){return this.assets.reduce((function(t,e){return t&&e.loaded}),!0)}},{key:"createImage",value:function(t){var e=this.createAsset(t,ce.Image);return e.element=new Image,e.element.src=t,e.element.naturalWidth?e.loaded=!0:e.element.addEventListener("load",(function(t){return e.loaded=!0})),e.element}},{key:"createAudio",value:function(t){var e=this.createAsset(t,ce.Image);return e.element=new Audio,e.element.src=t,e.element.duration?e.loaded=!0:e.element.addEventListener("loadeddata",(function(t){return e.loaded=!0})),e.element}},{key:"createVideo",value:function(t){var e=this.createAsset(t,ce.Image);return e.element=document.createElement("video"),e.element.src=t,e.element.duration?e.loaded=!0:e.element.addEventListener("loadeddata",(function(t){return e.loaded=!0})),e.element}},{key:"getImage",value:function(t){return this.getAsset(t,ce.Image)}},{key:"getVideo",value:function(t){return this.getAsset(t,ce.Video)}},{key:"getAudio",value:function(t){return this.getAsset(t,ce.Audio)}},{key:"getAsset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.assets.reduce((function(n,r){return r.url!==t||null!==e&&e!==r.type?n:r}),null).element}},{key:"createAsset",value:function(t,e){var n=new he;return n.type=e,n.url=t,this.assets.push(n),n}}])&&fe(e.prototype,n),r&&fe(e,r),t}();function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var de=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObjects=[]}var e,n,r;return e=t,(n=[{key:"addGameObject",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.findGameObjectByName(n))throw new Error("There is already a GameObject with the name ".concat(n));var o=t();return o.scene=e,o.name=n,o.parent=r,this.gameObjects.push(o),o}},{key:"getGameObjects",value:function(){return this.gameObjects}},{key:"findGameObjectByUuid",value:function(t){return this.gameObjects.reduce((function(e,n){return n.uuid===t?n:e}),null)}},{key:"findGameObjectByName",value:function(t){return this.gameObjects.reduce((function(e,n){return n.name===t?n:e}),null)}},{key:"findGameObjectsByParent",value:function(t){return this.gameObjects.filter((function(e){return e.parent===t}))}},{key:"findGameObjectByParentAndName",value:function(t,e){return this.gameObjects.reduce((function(n,r){return r.name===e&&r.parent===t?r:n}),null)}},{key:"findGameObjectsByTag",value:function(t){return this.gameObjects.filter((function(e){return e.tag===t}))}},{key:"findGameObjectByTag",value:function(t){var e;return null!==(e=this.findGameObjectsByTag(t)[0])&&void 0!==e?e:null}},{key:"destroyAllGameObjects",value:function(){var t=this;this.gameObjects.every((function(e){return t._destroyGameObject(e,!1)})),this.gameObjects=[]}},{key:"destroyGameObject",value:function(t){this._destroyGameObject(t,!0)}},{key:"_destroyGameObject",value:function(t,e){var n=this.gameObjects.indexOf(t);-1!==n&&(e&&this.destroyChildren(t),t._destroy(),delete this.gameObjects[n])}},{key:"destroyChildren",value:function(t){var e=this;this.findGameObjectsByParent(t).every((function(t){e.destroyChildren(t),e.destroyGameObject(t)}))}}])&&ye(e.prototype,n),r&&ye(e,r),t}();function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ge="mini-engine-update",me=document.createElement("canvas");me.id="miniEngineCanvas",me.width=1366,me.height=768;var be=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasBGColor="#000000",this._running=!1,this.frameRequestId=null,this.then=0,this.deltaTime=0,this.setupCanvas(e,n,r),t.sceneManager.game=this}var e,n,r;return e=t,(n=[{key:"setupCanvas",value:function(e,n,r){e.appendChild(t.canvas)}},{key:"addScene",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.sceneManager.addScene(e,n,r)}},{key:"run",value:function(){t.sceneManager.loadOpeningScene(),this.then=Date.now(),this.requestAnimationFrame()}},{key:"stop",value:function(){var e=this;this.stopLoop(),setTimeout((function(){t.sceneManager.unloadCurrentScene(),t.renderManager.clearCanvas(e.canvasBGColor)}),100)}},{key:"gameLoop",value:function(e){this._running=!0;var n=.001*e;this.deltaTime=Math.min(.1,n-this.then),this.then=n,t.renderManager.clearCanvas(this.canvasBGColor),t.collisionManager.prepare(),this.dispatchFrameEvent(ge),t.renderManager.render(),this.requestAnimationFrame()}},{key:"stopLoop",value:function(){window.cancelAnimationFrame(this.frameRequestId),this._running=!1,this.frameRequestId=null}},{key:"resumeLoop",value:function(){0==this._running&&null===this.frameRequestId&&this.requestAnimationFrame()}},{key:"requestAnimationFrame",value:function(){var t=this;this.frameRequestId=window.requestAnimationFrame((function(e){return t.gameLoop(e)}))}},{key:"dispatchFrameEvent",value:function(t){window.dispatchEvent(new CustomEvent(t,{detail:{game:this,deltaTime:this.deltaTime}}))}},{key:"running",get:function(){return this._running}}])&&ve(e.prototype,n),r&&ve(e,r),t}();function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t){return function(t){if(Array.isArray(t))return Oe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}be.canvas=me,be.assetManager=new pe,be.inputManager=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouse=null,this.keyboard=null,this.gamepad=null,this.mouse=new u,this.keyboard=new s},be.gameObjectManager=new de,be.renderManager=new jt(be.canvas),be.sceneManager=new l,be.collisionManager=new se(be.renderManager);var ke=["Default"],Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(i,t);var e,n,r,o=Pe(i);function i(){var t;Se(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n)))._vpHalfWidth=0,t._vpHalfHeight=0,t._viewportRect=new y(0,0,0,0),t._worldSpaceRect=new y(0,0,0,0),t._renderLayers=ke,t}return e=i,(n=[{key:"start",value:function(){this.setupViewportRect()}},{key:"setupViewportRect",value:function(){this._viewportRect.setPosition(-be.canvas.clientWidth/2,be.canvas.clientHeight/2),this._viewportRect.width=be.canvas.clientWidth,this._viewportRect.height=be.canvas.clientHeight,this._vpHalfWidth=this._viewportRect.width/2,this._vpHalfHeight=this._viewportRect.height/2}},{key:"update",value:function(){this.updateWorldSpaceRect(),be.renderManager.renderLayers=this._renderLayers,be.renderManager.viewportRect=this._viewportRect,be.renderManager.worldSpaceViewRect=this._worldSpaceRect}},{key:"updateWorldSpaceRect",value:function(){var t=this.gameObject.transform.position;this._worldSpaceRect.x=t.x-this._vpHalfWidth,this._worldSpaceRect.y=t.y+this._vpHalfHeight,this._worldSpaceRect.width=this._viewportRect.width,this._worldSpaceRect.height=this._viewportRect.height}},{key:"addLayerToRender",value:function(t){this._renderLayers.push(t)}},{key:"renderLayers",set:function(t){this._renderLayers=[].concat(ke,xe(t))},get:function(){return this._renderLayers}},{key:"worldSpaceRect",get:function(){return this._worldSpaceRect}},{key:"viewportRect",get:function(){return this._viewportRect}}])&&je(e.prototype,n),r&&je(e,r),i}(Wt);function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Le(t);if(e){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(i,t);var e,n,r,o=Ie(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).transform.position.x=0,t.transform.position.y=0,t.addComponent((function(){return new Te}),"Camera"),t}return e=i,(n=[{key:"camera",get:function(){return this.getComponent("Camera")}}])&&Me(e.prototype,n),r&&Me(e,r),i}(Zt);function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ge=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=null,this.name=null,this.firstFrame=!0,this.gameLoopEventHandler=function(t){!0===e.firstFrame?(e.start(t.detail),e.firstFrame=!1):e.update(t.detail)},window.addEventListener(ge,this.gameLoopEventHandler),this.addGameObject((function(){return new Fe}),"GameCamera"),this.gameLoopEventHandler.bind(this)}var e,n,r;return e=t,(n=[{key:"start",value:function(t){}},{key:"update",value:function(t){}},{key:"addGameObject",value:function(t,e){return be.gameObjectManager.addGameObject(t,this,e),this}},{key:"getRootGameObjects",value:function(){return be.gameObjectManager.getGameObjects().filter((function(t){return null===t.parent}))}},{key:"findGameObjectByName",value:function(t){return be.gameObjectManager.findGameObjectByName(t)}},{key:"findGameObjectsByTag",value:function(t){return be.gameObjectManager.findGameObjectsByTag(t)}},{key:"findGameObjectByTag",value:function(t){return be.gameObjectManager.findGameObjectByTag(t)}},{key:"destroyGameObject",value:function(t){var e=this.findGameObjectByName(t);null!==e&&be.gameObjectManager.destroyGameObject(e)}},{key:"destroyAllGameObjects",value:function(){be.gameObjectManager.destroyAllGameObjects()}},{key:"_destroy",value:function(){var t=this;window.removeEventListener(ge,this.gameLoopEventHandler),be.gameObjectManager.destroyAllGameObjects(),Object.keys(this).forEach((function(e){return delete t[e]}))}},{key:"gameCamera",get:function(){return this.findGameObjectByName("GameCamera")}}])&&Be(e.prototype,n),r&&Be(e,r),t}();function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qe(t);if(e){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(t,e){return!e||"object"!==Ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(i,t);var e,n,r,o=Ve(i);function i(){var t;Ue(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).mousePressed=!1,t.camera=null,t.vpPos=null,t}return e=i,(n=[{key:"update",value:function(){var t=be.inputManager.mouse;t.leftButtonPressed&&!1===this.mousePressed&&(this.camera=null===this.camera?this.scene.gameCamera.camera:this.camera,this.vpPos=t.viewportPosition,console.log({x:Math.floor(this.vpPos.x+this.camera.worldSpaceRect.x),y:Math.floor(this.camera.worldSpaceRect.y-this.vpPos.y)})),this.mousePressed=t.leftButtonPressed}}])&&We(e.prototype,n),r&&We(e,r),i}(Zt);function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Je(t);if(e){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(t,e){return!e||"object"!==ze(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(n,t);var e=Ke(n);function n(){var t;Qe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).type=p.Image,t.image=null,t.width=0,t.height=0,t.slice=null,t.flipHorizontal=!1,t.flipVertical=!1,t.rotation=null,t.smooth=!1,t.alpha=1,t}return n}(d);function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=un(t);if(e){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(t,e){return!e||"object"!==en(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(i,t);var e,n,r,o=on(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).sprite=null,e.offsetX=0,e.offsetY=0,e.flipHorizontal=!1,e.flipVertical=!1,e.rotation=0,e.smooth=!0,e.renderData=new tn,e.goPosition=null,e.sprite=t.sprite,e.offsetX=t.offsetX?t.offsetX:e.offsetX,e.offsetY=t.offsetY?t.offsetY:e.offsetY,e.smooth=t.smooth?t.smooth:e.smooth,e.rotation=t.rotation?t.rotation:e.rotation,e}return e=i,(n=[{key:"start",value:function(){this.goPosition=this.gameObject.transform.position,this.update()}},{key:"update",value:function(){!0===this.sprite.loaded&&(this.renderData.ui=this.gameObject.ui,this.renderData.layer=this.gameObject.layer,this.renderData.image=this.sprite.image,this.renderData.width=this.sprite.width*this.gameObject.transform.scale.x,this.renderData.height=this.sprite.height*this.gameObject.transform.scale.y,this.renderData.slice=this.sprite.slice,this.renderData.flipHorizontal=this.flipHorizontal,this.renderData.flipVertical=this.flipVertical,this.renderData.rotation=this.gameObject.transform.rotation+this.rotation,this.calculateRenderPosition(),be.renderManager.addToRenderStack(this.renderData))}},{key:"calculateRenderPosition",value:function(){this.renderData.position.x=this.gameObject.transform.position.x+this.offsetX,this.renderData.position.y=this.gameObject.transform.position.y+this.offsetY,this.gameObject.transform.rotation&&this.translateRenderPosition()}},{key:"translateRenderPosition",value:function(){var t=this.gameObject.transform.rotation*Math.PI/180,e=Math.hypot(this.renderData.position.x-this.goPosition.x,this.renderData.position.y-this.goPosition.y);this.renderData.position.x=this.goPosition.x+e*Math.cos(t),this.renderData.position.y=this.goPosition.y-e*Math.sin(t)}}])&&nn(e.prototype,n),r&&nn(e,r),i}(Wt);function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vn(t);if(e){var o=vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(t,e){return!e||"object"!==sn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(a,t);var e,n,r,o=yn(a);function a(t){var e,n=t.x,r=void 0===n?0:n,u=t.y,c=void 0===u?0:u,s=t.width,f=t.height,l=t.offsetX,h=void 0===l?0:l,p=t.offsetY,d=void 0===p?0:p;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).rectangle=void 0,e.renderData=void 0,e.offsetX=void 0,e.offsetY=void 0,e.layer=void 0,e.rectangle=new y(r,c,s,f),e.renderData=new At,e.renderData.position=new i(0,0),e.offsetX=h,e.offsetY=d,e}return e=a,(n=[{key:"start",value:function(){be.collisionManager.addCollider(this),this.setupRenderData(),this.updateRectangleCoordinates(),this.updateRenderDataPosition(),this.layer=this.gameObject.layer}},{key:"update",value:function(){this.updateRectangleCoordinates(),this.updateRenderDataPosition()}},{key:"collidesWithLayer",value:function(t){this.updateRectangleCoordinates();var e,n=fn(be.collisionManager.getCollisionsForCollider(this));try{for(n.s();!(e=n.n()).done;)if(e.value.getLayer()===t)return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"getRectangle",value:function(){return this.rectangle}},{key:"getRenderData",value:function(){return this.renderData}},{key:"getLayer",value:function(){return this.layer}},{key:"updateRenderDataPosition",value:function(){this.renderData.position.x=this.rectangle.x,this.renderData.position.y=this.rectangle.y}},{key:"updateRectangleCoordinates",value:function(){this.rectangle.x=this.gameObject.transform.position.x-this.rectangle.width/2-this.offsetX,this.rectangle.y=this.gameObject.transform.position.y+this.rectangle.height/2+this.offsetY}},{key:"setupRenderData",value:function(){this.renderData.layer="Default",this.renderData.geometric=this.rectangle,this.renderData.geometricType="Rectangle",this.renderData.color="#00FF00"}}])&&hn(e.prototype,n),r&&hn(e,r),a}(Wt);function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bn=function(){function t(e){var n=this,r=e.image,o=e.slice,i=e.scale,a=e.smooth;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=null,this.width=null,this.height=null,this.slice=null,this.scale=null,this.smooth=!0,this._loaded=!1,this.image=r,this.slice=o||this.slice,this.slice&&(this.width=this.slice.width,this.height=this.slice.height),this.scale=i||this.scale,this.smooth=a||this.smooth,this.image.naturalWidth?this.onLoad():this.image.addEventListener("load",(function(){return n.onLoad()}))}var e,n,r;return e=t,(n=[{key:"onLoad",value:function(){this.width=null===this.width?this.image.naturalWidth:this.width,this.height=null===this.height?this.image.naturalHeight:this.height,null!==this.scale&&(this.width*=this.scale.x,this.height*=this.scale.y),this._loaded=!0}},{key:"loaded",get:function(){return this._loaded}}])&&mn(e.prototype,n),r&&mn(e,r),t}();function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rn(t);if(e){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jn(this,n)}}function jn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(i,t);var e,n,r,o=Sn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).animations={},e.playingAnimationId=null,e.spriteRenderer=null,e.defaultSprite=null,e.spriteRenderer=t.spriteRenderer,e}return e=i,(n=[{key:"start",value:function(){this.defaultSprite=this.spriteRenderer.sprite}},{key:"update",value:function(){this.playingAnimationId&&!0===this.animations[this.playingAnimationId].playing?this.spriteRenderer.sprite=this.animations[this.playingAnimationId].currentSprite:this.playingAnimationId&&!1===this.animations[this.playingAnimationId].playing&&(this.playingAnimationId=null,this.spriteRenderer.sprite=this.defaultSprite),null===this.playingAnimationId&&(this.defaultSprite=this.spriteRenderer.sprite)}},{key:"addAnimation",value:function(t,e){return this.animations[t]=e,this}},{key:"playAnimation",value:function(t){!1!==this.active&&this.playingAnimationId!=t&&void 0!==this.animations[t]&&(this.stopAnimation(),this.playingAnimationId=t,this.animations[t].play())}},{key:"stopAnimation",value:function(){!1!==this.active&&null!==this.playingAnimationId&&this.animations[this.playingAnimationId].stop()}},{key:"setCurrentAniamtionSpeed",value:function(t){null!=this.playingAnimationId&&(this.animations[this.playingAnimationId].speed=t)}},{key:"setAnimationSpeed",value:function(t,e){void 0!==this.animations[t]&&(this.animations[t].speed=e)}}])&&xn(e.prototype,n),r&&xn(e,r),i}(Wt);n(209),n(210),n(211),n(212),n(218);function _n(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function En(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var kn=function(){function t(e){var n=e.sprites,r=e.speed,o=e.loop;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sprites=[],this._playing=!1,this.currentFrame=1,this.currentInterval=null,this.speed=1,this.loop=!1,this.currentSprite=null,this.sprites=n||this.sprites,this.speed=void 0!==r?r:this.speed,this.loop=void 0!==o?o:this.loop,this.currentFrame=1,this.currentSprite=null}var e,n,r,o,i;return e=t,(n=[{key:"play",value:function(){this.sprites.length>0&&!1===this._playing&&(this._playing=!0,this.currentFrame=1,this.currentSprite=this.sprites[this.currentFrame-1],this.update())}},{key:"update",value:(o=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==this._playing||!this.loop&&this.sprites.length===this.currentFrame){t.next=5;break}return t.next=3,new Promise((function(t){e.currentInterval=setTimeout((function(){e.currentFrame=e.sprites.length===e.currentFrame?1:e.currentFrame+1,e.currentSprite=e.sprites[e.currentFrame-1],t()}),Math.floor(1e3/(24*e.speed)))}));case 3:t.next=0;break;case 5:this._playing=!1;case 6:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){_n(i,n,r,a,u,"next",t)}function u(t){_n(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"stop",value:function(){this._playing=!1,clearInterval(this.currentInterval)}},{key:"playing",get:function(){return this._playing}}])&&En(e.prototype,n),r&&En(e,r),t}();function Tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){Mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cn=new Image;Cn.src="image/demo/player-top-down.png";var In={image:Cn,scale:new i(2,2),smooth:!1},Dn=new kn({sprites:[new bn(An(An({},In),{},{slice:{x:32,y:0,width:32,height:32}})),new bn(An(An({},In),{},{slice:{x:64,y:0,width:32,height:32}})),new bn(An(An({},In),{},{slice:{x:96,y:0,width:32,height:32}})),new bn(An(An({},In),{},{slice:{x:128,y:0,width:32,height:32}})),new bn(An(An({},In),{},{slice:{x:160,y:0,width:32,height:32}})),new bn(An(An({},In),{},{slice:{x:0,y:0,width:32,height:32}}))],speed:.4,loop:!0});function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e){return(Gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wn(t);if(e){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(t,e){return!e||"object"!==Ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gn(t,e)}(a,t);var e,n,r,o=Nn(a);function a(){var t;Fn(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).inputManager=null,t.transform=null,t.tilemap=null,t.animator=null,t.mousePosition=new i(0,0),t.walkSpeed=250,t.rotationSpeed=3,t.angle=0,t.walkingAnimation=!1,t}return e=a,(n=[{key:"start",value:function(){this.tilemap=this.findGameObjectByName("Foreground").getComponent("TilemapRenderer"),this.transform=this.getComponent("Transform"),this.animator=this.getComponent("Animator"),this.inputManager=this.findGameObjectByName("InputManager")}},{key:"update",value:function(t){this.rotate(),this.walk(t.deltaTime)}},{key:"walk",value:function(t){var e=this.inputManager.axis.y*Math.floor(this.walkSpeed*t),n=this.inputManager.axis.x*Math.floor(this.walkSpeed*t);e=(n=e?n/1.4:n)?e/1.4:e,this.transform.position.x+=n,0!==n&&this.isTouchingForeground()&&(this.transform.position.x-=n),this.transform.position.y+=e,0!==e&&this.isTouchingForeground()&&(this.transform.position.y-=e),(n||e)&&!1===this.walkingAnimation?(this.walkingAnimation=!0,this.animator.playAnimation("PlayerWalking")):n||e||!0!==this.walkingAnimation||(this.walkingAnimation=!1,this.animator.stopAnimation())}},{key:"rotate",value:function(){this.angle=Math.atan2(this.inputManager.mousePosition.y-this.transform.position.y,this.inputManager.mousePosition.x-this.transform.position.x),this.transform.rotation=180*-this.angle/Math.PI}},{key:"isTouchingForeground",value:function(){return this.gameObject.getComponent("RectangleCollider").collidesWithLayer("Foreground")}}])&&Bn(e.prototype,n),r&&Bn(e,r),a}(Wt),Vn=["Bot","Foreground","Projectile","Player"];function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$n(t);if(e){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qn(this,n)}}function Qn(t,e){return!e||"object"!==Yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $n(t){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(a,t);var e,n,r,o=zn(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).shooted=!1,e.speed=15,e.deltaX=0,e.deltay=0,e.weapon=null,e.cachedParent=null,e.innerPosX=0,e.innerPosY=0,e.transform.innerPosition.set(e.innerPosX,e.innerPosY),e.weapon=t,e.layer="Projectile",e.tag="Projectile",e.addComponent((function(){return new cn({sprite:new bn({image:be.assetManager.getImage("image/demo/projectile.png"),scale:new i(2,2),smooth:!1})})}),"SpriteRenderer"),e}return e=a,(n=[{key:"update",value:function(){this.shooted&&(this.transform.position.x+=this.deltaX,this.transform.position.y+=this.deltaY)}},{key:"fire",value:function(t){var e=this;this.deltaX=Math.cos(t)*this.speed,this.deltaY=Math.sin(t)*this.speed,this.shooted=!0,this.cachedParent=this._parent,this._parent=null,setTimeout((function(){e.shooted=!1,e.transform.innerPosition.set(e.innerPosX,e.innerPosY),e.parent=e.cachedParent,e.weapon.restoreProjectile(e)}),500)}}])&&qn(e.prototype,n),r&&qn(e,r),a}(Zt);function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=or(t);if(e){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}(i,t);var e,n,r,o=nr(i);function i(){var t;Jn(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).inputManager=null,t.firePressed=!1,t.projectileAmount=20,t.projectiles=[],t}return e=i,(n=[{key:"start",value:function(){this.inputManager=this.findGameObjectByName("InputManager"),this.setupProjectiles()}},{key:"setupProjectiles",value:function(){for(var t=this,e=0;e<this.projectileAmount;e++){var n="Projectile".concat(e);this.gameObject.addChild((function(){return new Kn(t)}),n),this.gameObject.setChildActive(n,!1),this.projectiles.push(this.gameObject.getChild(n))}}},{key:"update",value:function(){this.fire()}},{key:"fire",value:function(){if(this.projectiles.length>0&&this.inputManager.fire&&!1===this.firePressed){var t=this.projectiles.pop();this.gameObject.setChildActive(t.name,!0),t.fire(this.getComponent("Movements").angle)}this.firePressed=this.inputManager.fire}},{key:"restoreProjectile",value:function(t){this.gameObject.setChildActive(t.name,!1),this.projectiles.push(t)}}])&&tr(e.prototype,n),r&&tr(e,r),i}(Wt);function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lr(t);if(e){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fr(this,n)}}function fr(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(a,t);var e,n,r,o=sr(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).collider=new y(0,0,32,32),t.tag="Player",t.layer="Player",t.transform.position.x=0,t.transform.position.y=0,t.addComponent((function(){return new cn({sprite:new bn({image:be.assetManager.getImage("image/demo/player-top-down.png"),slice:new y(0,0,32,32),scale:new i(2,2),smooth:!1}),rotation:90})}),"SpriteRenderer"),t.addComponent((function(){return new Pn({spriteRenderer:t.getComponent("SpriteRenderer")})}),"Animator"),t.getComponent("Animator").addAnimation("PlayerWalking",Dn),t.addComponent((function(){return new Hn}),"Movements"),t.addComponent((function(){return new ir}),"Weapon"),t.addComponent((function(){return new gn({width:32,height:32})}),"RectangleCollider"),t}return e=a,(n=[{key:"createChild",value:function(){this.addChild((function(){return new Zt}),"Child"),this.getChild("Child").transform.innerPosition.x=64,this.getChild("Child").addComponent((function(){return new cn({sprite:new bn({image:be.assetManager.getImage("image/demo/avatar.png"),scale:new i(2,2),smooth:!1}),offsetX:64,rotation:90})}),"SpriteRenderer2")}}])&&ur(e.prototype,n),r&&ur(e,r),a}(Zt);function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e){return(vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=br(t);if(e){var o=br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mr(this,n)}}function mr(t,e){return!e||"object"!==pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(i,t);var e,n,r,o=gr(i);function i(){var t;yr(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).camera=null,t.player=null,t.foreground=null,t}return e=i,(n=[{key:"start",value:function(){this.camera=this.gameObject.camera,this.player=this.gameObject.findGameObjectByTag("Player"),this.foreground=this.gameObject.findGameObjectByTag("Foreground")}},{key:"update",value:function(){var t=(this.foreground.width-be.canvas.width)/2;this.foreground.height,be.canvas.height,(t=t<0?be.canvas.width/2:t)<0&&be.canvas.height,this.gameObject.transform.position.x=this.player.transform.position.x,this.gameObject.transform.position.y=this.player.transform.position.y}},{key:"clamp",value:function(t,e,n){return Math.max(e,Math.min(t,n))}}])&&dr(e.prototype,n),r&&dr(e,r),i}(Wt);n(139),n(140),n(141),n(142);function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sr(t,e){return(Sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pr(t);if(e){var o=Pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}function Rr(t,e){return!e||"object"!==xr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pr(t){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sr(t,e)}(i,t);var e,n,r,o=jr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).tileset=null,e.tilemapData=null,e.tileScale=1,e.showTileset=!1,e.tilemapProcessd=!1,e.processedData=[],e._width=0,e._height=0,e._realTiles=[],e._realWidth=0,e._realHeight=0,e.tileset=t.tileset,e.tilemapData=t.tilemapData,e.tileScale=void 0!==t.tileScale?t.tileScale:e.tileScale,e}return e=i,(n=[{key:"start",value:function(){this.update()}},{key:"update",value:function(){this.tileset.loaded&&!0===this.showTileset&&!1===this.tilemapProcessd?(this.processTileset(),this.updateTilesPosition()):this.tileset.loaded&&!1===this.tilemapProcessd&&(this.processTilemap(),this.updateTilesPosition()),this.tileset.loaded&&!0===this.tilemapProcessd&&this.processedData.forEach((function(t){return be.renderManager.addToRenderStack(t)}))}},{key:"processTileset",value:function(){for(var t=0,e=0;e<this.tileset.gridHeight;e++)for(var n=0;n<this.tileset.gridWidth;n++){var r=this.tileset.getTile(t);null!==r&&(this.updateSizeInfo(n,e),this.processTile(r,n,e)),t++}this.tilemapProcessd=!0}},{key:"processTilemap",value:function(){var t=this;this.tilemapData.trim().split("\n").forEach((function(e,n){var r=e.match(/.{1,5}/g);r&&r.forEach((function(e,r){var o=e.trim().replace("[","").replace("]",""),i=t.tileset.getTile(parseInt(o));null!==i&&(t.updateSizeInfo(r+1,n+1),t.processTile(i,r,n))}))})),this.tilemapProcessd=!0}},{key:"updateSizeInfo",value:function(t,e){this._width<t&&(this._width=t,this._realWidth=this._width*this.tileset.tileWidth*this.tileScale),this._height<e&&(this._height=e,this._realHeight=this._height*this.tileset.tileHeight*this.tileScale)}},{key:"processTile",value:function(t,e,n){var r=new tn,o=this.tileset.tileWidth*this.tileScale,i=this.tileset.tileHeight*this.tileScale;r.position.x=this.gameObject.transform.position.x+e*o+o/2,r.position.y=this.gameObject.transform.position.y-n*i-i/2,r.ui=!1,r.image=this.tileset.image,r.layer=this.gameObject.layer,r.width=t.width*this.tileScale,r.height=t.height*this.tileScale,r.slice=t,this.processedData.push(r)}},{key:"processRealTile",value:function(t){this._realTiles.push(new y(t.position.x,t.position.y,t.width,t.height))}},{key:"updateTilesPosition",value:function(){var t=this;this.processedData.forEach((function(e){e.position.x-=Math.floor(t._realWidth/2),e.position.y+=Math.floor(t._realHeight/2),t.processRealTile(e)}))}},{key:"isTouchingRect",value:function(t){var e=!1;return this._realTiles.every((function(n){return!n.overlappingRectangle(t)||(e=!0,!1)})),e}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"realWidth",get:function(){return this._realWidth}},{key:"realHeight",get:function(){return this._realHeight}}])&&Or(e.prototype,n),r&&Or(e,r),i}(Wt),Er="\n[001][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][072]\n[008][082][035][035][035][035][035][035][035][035][035][035][035][023][082][035][035][023][082][035][035][035][035][035][035][035][035][035][035][035][023][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][009]                                                       [034][083]          [034][083]                                                       [008][009]\n[008][009]                    [001][002][072]                                                                     [001][002][072]                     [008][009]  \n[008][009]                    [034][035][083]                                                                     [034][035][083]                     [008][009]\n[008][009]                                                       [001][072]          [001][072]                                                       [008][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][086][002][002][002][072]               [001][002][002][002][085][009]          [008][086][002][002][002][072]               [001][002][002][002][085][009]\n[008][082][035][035][035][083]               [034][035][035][035][035][083]          [034][035][035][035][035][083]               [034][035][035][035][023][009]\n[008][009]                                                                                                                                            [008][009]\n[008][009]                                                                                                                                            [008][009]\n[008][086][002][002][002][072]               [001][002][002][002][002][072]          [001][002][002][002][002][072]               [001][002][002][002][085][009]\n[008][082][035][035][035][083]               [034][035][035][035][023][009]          [008][082][035][035][035][083]               [034][035][035][035][023][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][009]                                                       [034][083]          [034][083]                                                       [008][009]\n[008][009]                    [001][002][072]                                                                     [001][002][072]                     [008][009]\n[008][009]                    [034][035][083]                                                                     [034][035][083]                     [008][009]\n[008][009]                                                       [001][072]          [001][072]                                                       [008][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][086][002][002][002][002][002][002][002][002][002][002][002][085][086][002][002][085][086][002][002][002][002][002][002][002][002][002][002][002][085][009]\n[034][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][083]\n";function kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tr=function(){function t(e){var n=this,r=e.image,o=e.tileWidth,a=e.tileHeight,u=e.gridWidth,c=e.gridHeight,s=e.offset,f=e.tileOffset;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=null,this.offset=new i(0,0),this.gridWidth=0,this.gridHeight=0,this.tileWidth=0,this.tileHeight=0,this.tileOffset=new i(0,0),this._tiles=[],this._loaded=!1,this.image=r,this.tileWidth=o,this.tileHeight=a,this.gridWidth=u,this.gridHeight=c,this.offset=s||this.offset,this.tileOffset=f||this.tileOffset,this.image.naturalWidth?this.generateTiles():this.image.addEventListener("load",(function(){return n.generateTiles()}))}var e,n,r;return e=t,(n=[{key:"generateTiles",value:function(){for(var t=0,e=0;e<this.gridHeight;e++)for(var n=0;n<this.gridWidth;n++)this._tiles[t]=new y(n*this.tileWidth+this.offset.x+this.tileOffset.x,e*this.tileHeight-this.offset.y-this.tileOffset.y,this.tileWidth,this.tileHeight),t++;this._loaded=!0}},{key:"getTile",value:function(t){return this._tiles[t]?this._tiles[t]:null}},{key:"tiles",get:function(){return this._tiles}},{key:"loaded",get:function(){return this._loaded}}])&&kr(e.prototype,n),r&&kr(e,r),t}();function Ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mr=function(){function t(e){var n=e.x,r=e.y,o=e.width,i=e.height,a=e.layer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rectangle=void 0,this.renderData=void 0,this.layer=void 0,this.collisions=[],this.rectangle=new y(n,-1*r,o,i),this.layer=a,this.setupRenderData()}var e,n,r;return e=t,(n=[{key:"collidesWithLayer",value:function(t){throw new Error("Method not implemented.")}},{key:"getRectangle",value:function(){return this.rectangle}},{key:"getRenderData",value:function(){return this.renderData}},{key:"getLayer",value:function(){return this.layer}},{key:"addCollision",value:function(t){this.collisions.push(t)}},{key:"clearCollisions",value:function(){this.collisions=[]}},{key:"setupRenderData",value:function(){this.renderData=new At,this.renderData.position=new i(this.rectangle.x,this.rectangle.y),this.renderData.layer="Default",this.renderData.geometric=this.rectangle,this.renderData.geometricType="Rectangle",this.renderData.color="#00FF00"}}])&&Ar(e.prototype,n),r&&Ar(e,r),t}();function Cr(t){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dr(t,e){return(Dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Br(t);if(e){var o=Br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fr(this,n)}}function Fr(t,e){return!e||"object"!==Cr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dr(t,e)}(i,t);var e,n,r,o=Lr(i);function i(t){var e,n=t.tilemapData,r=t.tileWidth,a=t.tileHeight,u=t.tileScale;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).tilemapData=void 0,e.tileWidth=void 0,e.tileHeight=void 0,e.colliders=[],e.tilemapData=n,e.tileWidth=r*u,e.tileHeight=a*u,e}return e=i,(n=[{key:"start",value:function(t){var e=this,n=this.tilemapData.trim().split("\n"),r=n.length,o=n[0].length/5*this.tileWidth/2,i=r*this.tileHeight/2;n.forEach((function(t,n){var r=t.match(/.{1,5}/g);r&&r.forEach((function(t,r){if(t.trim().replace("[","").replace("]","")){var a=r*e.tileWidth,u=n*e.tileHeight,c=new Mr({x:a-o,y:u-i,width:e.tileWidth,height:e.tileHeight,layer:e.gameObject.layer});e.colliders.push(c),be.collisionManager.addCollider(c)}}))}))}}])&&Ir(e.prototype,n),r&&Ir(e,r),i}(Wt);function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,e){return(Wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr(t);if(e){var o=Yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vr(this,n)}}function Vr(t,e){return!e||"object"!==Nr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wr(t,e)}(i,t);var e,n,r,o=Hr(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).width=0,t.height=0,t.tilemapRenderer=null,t.tag="Foreground",t.layer="Foreground",t.addComponent((function(){return new _r({tileset:new Tr({image:be.assetManager.getImage("image/demo/earth-cave.png"),tileWidth:16,tileHeight:16,gridWidth:11,gridHeight:10}),tilemapData:Er,tileScale:4})}),"TilemapRenderer"),t.addComponent((function(){return new Gr({tilemapData:Er,tileWidth:16,tileHeight:16,tileScale:4})})),t.tilemapRenderer=t.getComponent("TilemapRenderer"),t}return e=i,(n=[{key:"update",value:function(){this.tilemapRenderer.tileset.loaded&&0===this.width&&(this.width=this.tilemapRenderer.realWidth,this.height=this.tilemapRenderer.realHeight)}}])&&Ur(e.prototype,n),r&&Ur(e,r),i}(Zt);function Xr(t){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e){return(Qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zr(t);if(e){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(t,e){return!e||"object"!==Xr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qr(t,e)}(a,t);var e,n,r,o=$r(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this)).player=null,n.tilemap=null,n.walkSpeed=180,n.aimAngle=0,n.previousDirection=new i(1,0),n.currentDirection=new i(1,0),n.walkingAnimation=!1,n.currentSpeed=new i(0,0),n.playerDistance=128,n.tag="Bot",n.layer="Bot",n.transform.position.set(t,e),n.addComponent((function(){return new cn({sprite:new bn({image:be.assetManager.getImage("image/demo/player-top-down.png"),slice:new y(0,0,32,32),scale:new i(2,2),smooth:!1}),rotation:90})}),"SpriteRenderer"),n.addComponent((function(){return new Pn({spriteRenderer:n.getComponent("SpriteRenderer")})}),"Animator"),n.getComponent("Animator").addAnimation("PlayerWalking",Dn),n.addComponent((function(){return new gn({width:32,height:32})}),"RectangleCollider"),n}return e=a,(n=[{key:"start",value:function(){this.player=this.findGameObjectByTag("Player"),this.tilemap=this.findGameObjectByName("Foreground").getComponent("TilemapRenderer")}},{key:"update",value:function(t){this.updateAimAngle(),this.updateCurrentDirection(),this.move(t.deltaTime)}},{key:"updateAimAngle",value:function(){this.aimAngle=Math.atan2(this.player.transform.position.y-this.transform.position.y,this.player.transform.position.x-this.transform.position.x),this.transform.rotation=180*-this.aimAngle/Math.PI}},{key:"updateCurrentDirection",value:function(){this.currentDirection.x=Math.cos(this.aimAngle),this.currentDirection.y=Math.sin(this.aimAngle)}},{key:"move",value:function(t){if(!(Math.abs(this.player.transform.position.x-this.transform.position.x)<=this.playerDistance&&Math.abs(this.player.transform.position.y-this.transform.position.y)<=this.playerDistance)){var e=this.currentDirection.x*(this.walkSpeed*t),n=this.currentDirection.y*(this.walkSpeed*t);this.transform.position.x+=e,0!==e&&this.isTouchingForeground()&&(this.transform.position.x-=e),this.transform.position.y+=n,0!==n&&this.isTouchingForeground()&&(this.transform.position.y-=n)}}},{key:"isTouchingForeground",value:function(){return this.getComponent("RectangleCollider").collidesWithLayer("Foreground")}},{key:"animate",value:function(){}}])&&zr(e.prototype,n),r&&zr(e,r),a}(Zt);function to(t){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function no(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ao(t);if(e){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return io(this,n)}}function io(t,e){return!e||"object"!==to(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}(a,t);var e,n,r,o=oo(a);function a(){var t;eo(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).axis=new i(0,0),t.mousePosition=new i(0,0),t.fire=!1,t.keyboard=null,t.mouse=null,t.camera=null,t}return e=a,(n=[{key:"start",value:function(){this.keyboard=be.inputManager.keyboard,this.mouse=be.inputManager.mouse,this.camera=this.findGameObjectByName("GameCamera").getComponent("Camera"),this.update()}},{key:"update",value:function(){this.updateAxis(),this.updateMousePosition(),this.updateFire()}},{key:"updateAxis",value:function(){this.axis.x=this.keyboard.isPressed("a")||this.keyboard.isPressed("A")?-1:this.keyboard.isPressed("d")||this.keyboard.isPressed("D")?1:0,this.axis.y=this.keyboard.isPressed("s")||this.keyboard.isPressed("S")?-1:this.keyboard.isPressed("w")||this.keyboard.isPressed("W")?1:0}},{key:"updateMousePosition",value:function(){this.mousePosition.x=Math.floor(this.mouse.viewportPosition.x+this.camera.worldSpaceRect.x),this.mousePosition.y=Math.floor(this.camera.worldSpaceRect.y-this.mouse.viewportPosition.y)}},{key:"updateFire",value:function(){this.fire=this.mouse.leftButtonPressed}}])&&no(e.prototype,n),r&&no(e,r),a}(Zt);n(143);function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=po(t);if(e){var o=po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ho(this,n)}}function ho(t,e){return!e||"object"!==co(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(n,t);var e=lo(n);function n(){var t;so(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).type=p.Text,t.color=null,t.text=null,t.font=null,t.textSize=null,t.lineSeparation=null,t.bold=!1,t.italic=!1,t}return n}(d);function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xo(t);if(e){var o=xo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wo(this,n)}}function wo(t,e){return!e||"object"!==vo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(i,t);var e,n,r,o=bo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).text="",e.font="Sans",e.size=12,e.color="#000000",e.bold=!1,e.italic=!1,e.lineSeparation=5,e.width=0,e.height=0,e.renderData=new yo,e.text=t.text?t.text:e.text,e.font=t.font?t.font:e.font,e.size=t.size?t.size:e.size,e.color=t.color?t.color:e.color,e.bold=t.bold?t.bold:e.bold,e.italic=t.italic?t.italic:e.italic,e.lineSeparation=t.lineSeparation?t.lineSeparation:e.lineSeparation,e.width=t.width?t.width:e.width,e.height=t.height?t.height:e.height,e}return e=i,(n=[{key:"start",value:function(){this.update()}},{key:"update",value:function(){this.renderData.layer=this.gameObject.layer,this.renderData.ui=this.gameObject.ui,this.renderData.text=this.text,this.renderData.textSize=this.size,this.renderData.color=this.color,this.renderData.font=this.font,this.renderData.position.x=this.gameObject.transform.position.x,this.renderData.position.y=this.gameObject.transform.position.y,this.renderData.lineSeparation=this.lineSeparation,this.renderData.bold=this.bold,this.renderData.italic=this.italic,be.renderManager.addToRenderStack(this.renderData)}}])&&go(e.prototype,n),r&&go(e,r),i}(Wt);function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ro(t,e){return(Ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Eo(t);if(e){var o=Eo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _o(this,n)}}function _o(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eo(t){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ro(t,e)}(a,t);var e,n,r,o=Po(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).ui=!0,t.addComponent((function(){return new Oo({text:["Life: 100","Ammo: 50"],color:"#FFFFFF",size:20,width:200,height:200,font:"Courier New"})}),"TextRenderer"),t.addComponent((function(){return new cn({sprite:new bn({image:be.assetManager.getImage("image/demo/avatar.png"),scale:new i(2,2),smooth:!1}),offsetX:-32})}),"SpriteRenderer"),t}return e=a,(n=[{key:"start",value:function(){this.transform.position.set(100-be.canvas.clientWidth/2,be.canvas.clientHeight/2-50)}}])&&jo(e.prototype,n),r&&jo(e,r),a}(Zt);function To(t){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(t,e){return(Mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Do(t);if(e){var o=Do(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(t,e){return!e||"object"!==To(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Do(t){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mo(t,e)}(i,t);var e,n,r,o=Co(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).assetsLoaded=!1,t.gameObjectsLoaded=!1,t.loadAssets(),t}return e=i,(n=[{key:"start",value:function(t){t.game.canvasBGColor="#080500",this.update()}},{key:"update",value:function(){!1===this.assetsLoaded&&(this.assetsLoaded=be.assetManager.getAssetsLoaded()),this.assetsLoaded&&!1===this.gameObjectsLoaded&&(this.setupGameObjects(),this.gameObjectsLoaded=!0)}},{key:"loadAssets",value:function(){be.assetManager.createImage("image/demo/earth-cave.png"),be.assetManager.createImage("image/demo/player-top-down.png"),be.assetManager.createImage("image/demo/projectile.png"),be.assetManager.createImage("image/demo/avatar.png")}},{key:"setupGameObjects",value:function(){this.addGameObject((function(){return new qr}),"Foreground").addGameObject((function(){return new Xe}),"SpotPointer").addGameObject((function(){return new uo}),"InputManager").addGameObject((function(){return new hr}),"Player").addGameObject((function(){return new ko}),"PlayerStats").addGameObject((function(){return new Jr(690,385)}),"Bot"),this.gameCamera.camera.renderLayers=Vn,this.gameCamera.addComponent((function(){return new wr}))}}])&&Ao(e.prototype,n),r&&Ao(e,r),i}(Ge),Fo=document.getElementById("app"),Bo=new be(Fo,1366,768);Bo.addScene("TopDown",(function(){return new Lo}),!0),Bo.run()}]);