!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=226)}([function(t,e,n){var r=n(1),i=n(21);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(23).f})},function(t,e,n){var r=n(12),i=n(38).f,o=n(26),a=n(28),u=n(75),s=n(108),c=n(66);t.exports=function(t,e){var n,f,l,h,p,d=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[d]||u(d,{}):(r[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=i(n,f))&&p.value:n[f],!c(y?f:d+(v?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;s(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),a(n,f,h,t)}}},function(t,e,n){"use strict";var r=n(33),i=n(119),o=n(61),a=n(40),u=n(89),s=a.set,c=a.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){s(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(88),i=n(28),o=n(161);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";var r=n(124).charAt,i=n(40),o=n(89),a=i.set,u=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(12),i=n(125),o=n(2),a=n(26),u=n(18),s=u("iterator"),c=u("toStringTag"),f=o.values;for(var l in i){var h=r[l],p=h&&h.prototype;if(p){if(p[s]!==f)try{a(p,s,f)}catch(t){p[s]=f}if(p[c]||a(p,c,l),i[l])for(var d in o)if(p[d]!==o[d])try{a(p,d,o[d])}catch(t){p[d]=o[d]}}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(1),i=n(12),o=n(42),a=n(56),u=n(21),s=n(83),c=n(113),f=n(6),l=n(22),h=n(60),p=n(19),d=n(24),y=n(25),v=n(33),g=n(48),m=n(47),b=n(41),w=n(84),x=n(49),S=n(157),O=n(112),_=n(38),R=n(23),E=n(105),j=n(26),A=n(28),P=n(77),k=n(65),M=n(58),T=n(57),C=n(18),I=n(116),H=n(117),D=n(51),L=n(40),F=n(29).forEach,B=k("hidden"),G=C("toPrimitive"),U=L.set,N=L.getterFor("Symbol"),X=Object.prototype,W=i.Symbol,V=o("JSON","stringify"),Y=_.f,z=R.f,q=S.f,K=E.f,$=P("symbols"),Q=P("op-symbols"),J=P("string-to-symbol-registry"),Z=P("symbol-to-string-registry"),tt=P("wks"),et=i.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=u&&f((function(){return 7!=b(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(X,e);r&&delete X[e],z(t,e,n),r&&t!==X&&z(X,e,r)}:z,it=function(t,e){var n=$[t]=b(W.prototype);return U(n,{type:"Symbol",tag:t,description:e}),u||(n.description=e),n},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},at=function(t,e,n){t===X&&at(Q,e,n),d(t);var r=g(e,!0);return d(n),l($,r)?(n.enumerable?(l(t,B)&&t[B][r]&&(t[B][r]=!1),n=b(n,{enumerable:m(0,!1)})):(l(t,B)||z(t,B,m(1,{})),t[B][r]=!0),rt(t,r,n)):z(t,r,n)},ut=function(t,e){d(t);var n=v(e),r=w(n).concat(lt(n));return F(r,(function(e){u&&!st.call(n,e)||at(t,e,n[e])})),t},st=function(t){var e=g(t,!0),n=K.call(this,e);return!(this===X&&l($,e)&&!l(Q,e))&&(!(n||!l(this,e)||!l($,e)||l(this,B)&&this[B][e])||n)},ct=function(t,e){var n=v(t),r=g(e,!0);if(n!==X||!l($,r)||l(Q,r)){var i=Y(n,r);return!i||!l($,r)||l(n,B)&&n[B][r]||(i.enumerable=!0),i}},ft=function(t){var e=q(v(t)),n=[];return F(e,(function(t){l($,t)||l(M,t)||n.push(t)})),n},lt=function(t){var e=t===X,n=q(e?Q:v(t)),r=[];return F(n,(function(t){!l($,t)||e&&!l(X,t)||r.push($[t])})),r};(s||(A((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=T(t),n=function(t){this===X&&n.call(Q,t),l(this,B)&&l(this[B],e)&&(this[B][e]=!1),rt(this,e,m(1,t))};return u&&nt&&rt(X,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return N(this).tag})),A(W,"withoutSetter",(function(t){return it(T(t),t)})),E.f=st,R.f=at,_.f=ct,x.f=S.f=ft,O.f=lt,I.f=function(t){return it(C(t),t)},u&&(z(W.prototype,"description",{configurable:!0,get:function(){return N(this).description}}),a||A(X,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),F(w(tt),(function(t){H(t)})),r({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(J,e))return J[e];var n=W(e);return J[e]=n,Z[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(Z,t))return Z[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!u},{create:function(t,e){return void 0===e?b(t):ut(b(t),e)},defineProperty:at,defineProperties:ut,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:lt}),r({target:"Object",stat:!0,forced:f((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(y(t))}}),V)&&r({target:"JSON",stat:!0,forced:!s||f((function(){var t=W();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!ot(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),i[1]=e,V.apply(null,i)}});W.prototype[G]||j(W.prototype,G,W.prototype.valueOf),D(W,"Symbol"),M[B]=!0},function(t,e,n){var r=n(28),i=Date.prototype,o=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",(function(){var t=a.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,n){"use strict";var r=n(1),i=n(21),o=n(12),a=n(22),u=n(19),s=n(23).f,c=n(108),f=o.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var d=p.toString,y="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=d.call(t);if(a(l,t))return"";var n=y?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(117)("iterator")},function(t,e,n){"use strict";var r=n(28),i=n(24),o=n(6),a=n(123),u=RegExp.prototype,s=u.toString,c=o((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),f="toString"!=s.name;(c||f)&&r(RegExp.prototype,"toString",(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(104))},function(t,e,n){n(1)({target:"Object",stat:!0,sham:!n(21)},{create:n(41)})},function(t,e,n){var r=n(1),i=n(6),o=n(25),a=n(54),u=n(121);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){n(1)({target:"Object",stat:!0},{setPrototypeOf:n(55)})},function(t,e,n){var r=n(1),i=n(42),o=n(44),a=n(24),u=n(19),s=n(41),c=n(126),f=n(6),l=i("Reflect","construct"),h=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),d=h||p;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(p&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var i=n.prototype,f=s(u(i)?i:Object.prototype),d=Function.apply.call(t,f,e);return u(d)?d:f}})},function(t,e,n){"use strict";var r,i=n(137),o=n(21),a=n(12),u=n(19),s=n(22),c=n(67),f=n(26),l=n(28),h=n(23).f,p=n(54),d=n(55),y=n(18),v=n(57),g=a.Int8Array,m=g&&g.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,x=g&&p(g),S=m&&p(m),O=Object.prototype,_=O.isPrototypeOf,R=y("toStringTag"),E=v("TYPED_ARRAY_TAG"),j=i&&!!d&&"Opera"!==c(a.opera),A=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k=function(t){return u(t)&&s(P,c(t))};for(r in P)a[r]||(j=!1);if((!j||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},j))for(r in P)a[r]&&d(a[r],x);if((!j||!S||S===O)&&(S=x.prototype,j))for(r in P)a[r]&&d(a[r].prototype,S);if(j&&p(w)!==S&&d(w,S),o&&!s(S,R))for(r in A=!0,h(S,R,{get:function(){return u(this)?this[E]:void 0}}),P)a[r]&&f(a[r],E,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:A&&E,aTypedArray:function(t){if(k(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d){if(_.call(x,t))return t}else for(var e in P)if(s(P,r)){var n=a[e];if(n&&(t===n||_.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(o){if(n)for(var r in P){var i=a[r];i&&s(i.prototype,t)&&delete i.prototype[t]}S[t]&&!n||l(S,t,n?e:j&&m[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(o){if(d){if(n)for(r in P)(i=a[r])&&s(i,t)&&delete i[t];if(x[t]&&!n)return;try{return l(x,t,n?e:j&&g[t]||e)}catch(t){}}for(r in P)!(i=a[r])||i[t]&&!n||l(i,t,e)}},isView:function(t){var e=c(t);return"DataView"===e||s(P,e)},isTypedArray:k,TypedArray:x,TypedArrayPrototype:S}},function(t,e,n){var r=n(12),i=n(77),o=n(22),a=n(57),u=n(83),s=n(113),c=i("wks"),f=r.Symbol,l=s?f:f&&f.withoutSetter||a;t.exports=function(t){return o(c,t)||(u&&o(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(34),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(6);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(21),i=n(106),o=n(24),a=n(48),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(19);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(37);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(21),i=n(23),o=n(47);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(1),i=n(128);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){var r=n(12),i=n(26),o=n(22),a=n(75),u=n(76),s=n(40),c=s.get,f=s.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var s=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(s?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},function(t,e,n){var r=n(52),i=n(64),o=n(25),a=n(20),u=n(85),s=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l;return function(p,d,y,v){for(var g,m,b=o(p),w=i(b),x=r(d,y,3),S=a(w.length),O=0,_=v||u,R=e?_(p,S):n?_(p,0):void 0;S>O;O++)if((h||O in w)&&(m=x(g=w[O],O,b),t))if(e)R[O]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:s.call(R,g)}else if(f)return!1;return l?-1:c||f?f:R}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,n){"use strict";var r=n(1),i=n(19),o=n(60),a=n(43),u=n(20),s=n(33),c=n(62),f=n(18),l=n(70),h=n(39),p=l("slice"),d=h("slice",{ACCESSORS:!0,0:0,1:2}),y=f("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!d},{slice:function(t,e){var n,r,f,l=s(this),h=u(l.length),p=a(t,h),d=a(void 0===e?h:e,h);if(o(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[y])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(l,p,d);for(r=new(void 0===n?Array:n)(g(d-p,0)),f=0;p<d;p++,f++)p in l&&c(r,f,l[p]);return r.length=f,r}})},function(t,e,n){"use strict";var r=n(1),i=n(6),o=n(60),a=n(19),u=n(25),s=n(20),c=n(62),f=n(85),l=n(70),h=n(18),p=n(90),d=h("isConcatSpreadable"),y=p>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),v=l("concat"),g=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(t){var e,n,r,i,o,a=u(this),l=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(g(o=-1===e?a:arguments[e])){if(h+(i=s(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in o&&c(l,h,o[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(l,h++,o)}return l.length=h,l}})},function(t,e,n){var r=n(12),i=n(125),o=n(128),a=n(26);for(var u in i){var s=r[u],c=s&&s.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(t){c.forEach=o}}},function(t,e,n){var r=n(64),i=n(37);t.exports=function(t){return r(i(t))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(21),i=n(23).f,o=Function.prototype,a=o.toString,u=/^\s*function ([^ (]*)/;r&&!("name"in o)&&i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(t){return""}}})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(21),i=n(105),o=n(47),a=n(33),u=n(48),s=n(22),c=n(106),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=u(e,!0),c)try{return f(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(21),i=n(6),o=n(22),a=Object.defineProperty,u={},s=function(t){throw t};t.exports=function(t,e){if(o(u,t))return u[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,f=o(e,0)?e[0]:s,l=o(e,1)?e[1]:void 0;return u[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?a(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,f,l)}))}},function(t,e,n){var r,i,o,a=n(156),u=n(12),s=n(19),c=n(26),f=n(22),l=n(65),h=n(58),p=u.WeakMap;if(a){var d=new p,y=d.get,v=d.has,g=d.set;r=function(t,e){return g.call(d,t,e),e},i=function(t){return y.call(d,t)||{}},o=function(t){return v.call(d,t)}}else{var m=l("state");h[m]=!0,r=function(t,e){return c(t,m,e),e},i=function(t){return f(t,m)?t[m]:{}},o=function(t){return f(t,m)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r,i=n(24),o=n(114),a=n(78),u=n(58),s=n(115),c=n(74),f=n(65),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[l]=t):n=d(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(110),i=n(12),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(34),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){n(1)({target:"Array",stat:!0},{isArray:n(60)})},function(t,e,n){var r=n(24),i=n(44),o=n(18)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(19);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(111),i=n(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(23).f,i=n(22),o=n(18)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(44);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(1),i=n(158);r({target:"Array",stat:!0,forced:!n(68)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){var r=n(22),i=n(25),o=n(65),a=n(121),u=o("IE_PROTO"),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(24),i=n(160);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e){t.exports=!1},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(33),i=n(20),o=n(43),a=function(t){return function(e,n,a){var u,s=r(e),c=i(s.length),f=o(a,c);if(t&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(36);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(48),i=n(23),o=n(47);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(6),i=n(36),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(77),i=n(57),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(6),i=/#|\.prototype\./,o=function(t,e){var n=u[a(t)];return n==c||n!=s&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=o.data={},s=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(88),i=n(36),o=n(18)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(18)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(1),i=n(59).indexOf,o=n(50),a=n(39),u=[].indexOf,s=!!u&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),f=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!f},{indexOf:function(t){return s?u.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(6),i=n(18),o=n(90),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(1),i=n(29).filter,o=n(70),a=n(39),u=o("filter"),s=a("filter");r({target:"Array",proto:!0,forced:!u||!s},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1),i=n(25),o=n(84);r({target:"Object",stat:!0,forced:n(6)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){"use strict";var r,i,o=n(123),a=n(208),u=RegExp.prototype.exec,s=String.prototype.replace,c=u,f=(r=/a/,i=/b*/g,u.call(r,"a"),u.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(c=function(t){var e,n,r,i,a=this,c=l&&a.sticky,p=o.call(a),d=a.source,y=0,v=t;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,y++),n=new RegExp("^(?:"+d+")",p)),h&&(n=new RegExp("^"+d+"$(?!\\s)",p)),f&&(e=a.lastIndex),r=u.call(c?n:a,v),c?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:f&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){var r=n(12),i=n(19),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(12),i=n(26);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(107),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(56),i=n(107);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(1),i=n(12),o=n(80),a=[].slice,u=function(t){return function(e,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},function(t,e,n){var r=n(42);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(1),i=n(82).left,o=n(50),a=n(39),u=o("reduce"),s=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!u||!s},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(44),i=n(25),o=n(64),a=n(20),u=function(t){return function(e,n,u,s){r(n);var c=i(e),f=o(c),l=a(c.length),h=t?l-1:0,p=t?-1:1;if(u<2)for(;;){if(h in f){s=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(s=n(s,f[h],h,c));return s}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){var r=n(6);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(111),i=n(78);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(19),i=n(60),o=n(18)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(18),i=n(61),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r=n(67),i=n(61),o=n(18)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r={};r[n(18)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(1),i=n(159),o=n(54),a=n(55),u=n(51),s=n(26),c=n(28),f=n(18),l=n(56),h=n(61),p=n(120),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=f("iterator"),g=function(){return this};t.exports=function(t,e,n,f,p,m,b){i(n,e,f);var w,x,S,O=function(t){if(t===p&&A)return A;if(!y&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},_=e+" Iterator",R=!1,E=t.prototype,j=E[v]||E["@@iterator"]||p&&E[p],A=!y&&j||O(p),P="Array"==e&&E.entries||j;if(P&&(w=o(P.call(new t)),d!==Object.prototype&&w.next&&(l||o(w)===d||(a?a(w,d):"function"!=typeof w[v]&&s(w,v,g)),u(w,_,!0,!0),l&&(h[_]=g))),"values"==p&&j&&"values"!==j.name&&(R=!0,A=function(){return j.call(this)}),l&&!b||E[v]===A||s(E,v,A),h[e]=A,p)if(x={values:O("values"),keys:m?A:O("keys"),entries:O("entries")},b)for(S in x)(y||R||!(S in E))&&c(E,S,x[S]);else r({target:e,proto:!0,forced:y||R},x);return x}},function(t,e,n){var r,i,o=n(12),a=n(80),u=o.process,s=u&&u.versions,c=s&&s.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){n(1)({target:"Function",proto:!0},{bind:n(126)})},function(t,e,n){"use strict";var r=n(162),i=n(164);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){var r=n(24),i=n(86),o=n(20),a=n(52),u=n(87),s=n(118),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var h,p,d,y,v,g,m,b=a(e,n,f?2:1);if(l)h=t;else{if("function"!=typeof(p=u(t)))throw TypeError("Target is not iterable");if(i(p)){for(d=0,y=o(t.length);y>d;d++)if((v=f?b(r(m=t[d])[0],m[1]):b(t[d]))&&v instanceof c)return v;return new c(!1)}h=p.call(t)}for(g=h.next;!(m=g.call(h)).done;)if("object"==typeof(v=s(h,b,m.value,f))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){var r=n(19),i=n(55);t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},function(t,e,n){var r=n(28);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(42),i=n(23),o=n(18),a=n(21),u=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(37),i="["+n(98)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(1),i=n(133);r({target:"String",proto:!0,forced:n(134)("bold")},{bold:function(){return i(this,"b","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(73);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){"use strict";n(100);var r=n(28),i=n(6),o=n(18),a=n(73),u=n(26),s=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=o("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var d=o(t),y=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=y&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!y||!v||"replace"===t&&(!c||!f||h)||"split"===t&&!p){var g=/./[d],m=n(d,""[t],(function(t,e,n,r,i){return e.exec===a?y&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=m[0],w=m[1];r(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}l&&u(RegExp.prototype[d],"sham",!0)}},function(t,e,n){"use strict";var r=n(124).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(36),i=n(73);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(21),i=n(6),o=n(74);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(12),i=n(75),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(22),i=n(109),o=n(38),a=n(23);t.exports=function(t,e){for(var n=i(e),u=a.f,s=o.f,c=0;c<n.length;c++){var f=n[c];r(t,f)||u(t,f,s(e,f))}}},function(t,e,n){var r=n(42),i=n(49),o=n(112),a=n(24);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(12);t.exports=r},function(t,e,n){var r=n(22),i=n(33),o=n(59).indexOf,a=n(58);t.exports=function(t,e){var n,u=i(t),s=0,c=[];for(n in u)!r(a,n)&&r(u,n)&&c.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~o(c,n)||c.push(n));return c}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(83);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(21),i=n(23),o=n(24),a=n(84);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),u=r.length,s=0;u>s;)i.f(t,n=r[s++],e[n]);return t}},function(t,e,n){var r=n(42);t.exports=r("document","documentElement")},function(t,e,n){var r=n(18);e.f=r},function(t,e,n){var r=n(110),i=n(22),o=n(116),a=n(23).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(24);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(18),i=n(41),o=n(23),a=r("unscopables"),u=Array.prototype;null==u[a]&&o.f(u,a,{configurable:!0,value:i(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){"use strict";var r,i,o,a=n(54),u=n(26),s=n(22),c=n(18),f=n(56),l=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),f||s(r,l)||u(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(6);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(1),i=n(43),o=n(34),a=n(20),u=n(25),s=n(85),c=n(62),f=n(70),l=n(39),h=f("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var n,r,f,l,h,p,v=u(this),g=a(v.length),m=i(t,g),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=g-m):(n=b-2,r=y(d(o(e),0),g-m)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=s(v,r),l=0;l<r;l++)(h=m+l)in v&&c(f,l,v[h]);if(f.length=r,n<r){for(l=m;l<g-r;l++)p=l+n,(h=l+r)in v?v[p]=v[h]:delete v[p];for(l=g;l>g-r+n;l--)delete v[l-1]}else if(n>r)for(l=g-r;l>m;l--)p=l+n-1,(h=l+r-1)in v?v[p]=v[h]:delete v[p];for(l=0;l<n;l++)v[l+m]=arguments[l+2];return v.length=g-r+n,f}})},function(t,e,n){"use strict";var r=n(24);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(34),i=n(37),o=function(t){return function(e,n){var o,a,u=String(i(e)),s=r(n),c=u.length;return s<0||s>=c?t?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?t?u.charAt(s):o:t?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(44),i=n(19),o=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?u(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";var r=n(1),i=n(29).every,o=n(50),a=n(39),u=o("every"),s=a("every");r({target:"Array",proto:!0,forced:!u||!s},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(29).forEach,i=n(50),o=n(39),a=i("forEach"),u=o("forEach");t.exports=a&&u?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(1),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,u=0,s=arguments.length,c=0;u<s;)c<(n=o(arguments[u++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(i)}})},function(t,e,n){var r=n(58),i=n(19),o=n(22),a=n(23).f,u=n(57),s=n(163),c=u("meta"),f=0,l=Object.isExtensible||function(){return!0},h=function(t){a(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[c].objectID},getWeakData:function(t,e){if(!o(t,c)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[c].weakData},onFreeze:function(t){return s&&p.REQUIRED&&l(t)&&!o(t,c)&&h(t),t}};r[c]=!0},function(t,e,n){"use strict";var r=n(21),i=n(12),o=n(66),a=n(28),u=n(22),s=n(36),c=n(94),f=n(48),l=n(6),h=n(41),p=n(49).f,d=n(38).f,y=n(23).f,v=n(97).trim,g=i.Number,m=g.prototype,b="Number"==s(h(m)),w=function(t){var e,n,r,i,o,a,u,s,c=f(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=v(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,u=0;u<a;u++)if((s=o.charCodeAt(u))<48||s>i)return NaN;return parseInt(o,r)}return+c};if(o("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(b?l((function(){m.valueOf.call(n)})):"Number"!=s(n))?c(new g(w(e)),n,S):w(e)},O=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;O.length>_;_++)u(g,x=O[_])&&!u(S,x)&&y(S,x,d(g,x));S.prototype=m,m.constructor=S,a(i,"Number",S)}},function(t,e,n){"use strict";var r=n(1),i=n(34),o=n(166),a=n(167),u=n(6),s=1..toFixed,c=Math.floor,f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)};r({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){s.call({})}))},{toFixed:function(t){var e,n,r,u,s=o(this),l=i(t),h=[0,0,0,0,0,0],p="",d="0",y=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*h[n],h[n]=r%1e7,r=c(r/1e7)},v=function(t){for(var e=6,n=0;--e>=0;)n+=h[e],h[e]=c(n/t),n=n%t*1e7},g=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(s*f(2,69,1))-69)<0?s*f(2,-e,1):s/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(y(0,n),r=l;r>=7;)y(1e7,0),r-=7;for(y(f(10,r,1),0),r=e-1;r>=23;)v(1<<23),r-=23;v(1<<r),y(1,1),v(2),d=g()}else y(0,n),y(1<<-e,0),d=g()+a.call("0",l);return d=l>0?p+((u=d.length)<=l?"0."+a.call("0",l-u)+d:d.slice(0,u-l)+"."+d.slice(u-l)):p+d}})},function(t,e,n){var r=n(37),i=/"/g;t.exports=function(t,e,n,o){var a=String(r(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),u+">"+a+"</"+e+">"}},function(t,e,n){var r=n(6);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var r=n(19),i=n(36),o=n(18)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(12),i=n(21),o=n(137),a=n(26),u=n(95),s=n(6),c=n(63),f=n(34),l=n(20),h=n(138),p=n(173),d=n(54),y=n(55),v=n(49).f,g=n(23).f,m=n(139),b=n(51),w=n(40),x=w.get,S=w.set,O=r.ArrayBuffer,_=O,R=r.DataView,E=R&&R.prototype,j=Object.prototype,A=r.RangeError,P=p.pack,k=p.unpack,M=function(t){return[255&t]},T=function(t){return[255&t,t>>8&255]},C=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},I=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},H=function(t){return P(t,23,4)},D=function(t){return P(t,52,8)},L=function(t,e){g(t.prototype,e,{get:function(){return x(this)[e]}})},F=function(t,e,n,r){var i=h(n),o=x(t);if(i+e>o.byteLength)throw A("Wrong index");var a=x(o.buffer).bytes,u=i+o.byteOffset,s=a.slice(u,u+e);return r?s:s.reverse()},B=function(t,e,n,r,i,o){var a=h(n),u=x(t);if(a+e>u.byteLength)throw A("Wrong index");for(var s=x(u.buffer).bytes,c=a+u.byteOffset,f=r(+i),l=0;l<e;l++)s[c+l]=f[o?l:e-l-1]};if(o){if(!s((function(){O(1)}))||!s((function(){new O(-1)}))||s((function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name}))){for(var G,U=(_=function(t){return c(this,_),new O(h(t))}).prototype=O.prototype,N=v(O),X=0;N.length>X;)(G=N[X++])in _||a(_,G,O[G]);U.constructor=_}y&&d(E)!==j&&y(E,j);var W=new R(new _(2)),V=E.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||u(E,{setInt8:function(t,e){V.call(this,t,e<<24>>24)},setUint8:function(t,e){V.call(this,t,e<<24>>24)}},{unsafe:!0})}else _=function(t){c(this,_,"ArrayBuffer");var e=h(t);S(this,{bytes:m.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},R=function(t,e,n){c(this,R,"DataView"),c(t,_,"DataView");var r=x(t).byteLength,o=f(e);if(o<0||o>r)throw A("Wrong offset");if(o+(n=void 0===n?r-o:l(n))>r)throw A("Wrong length");S(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(L(_,"byteLength"),L(R,"buffer"),L(R,"byteLength"),L(R,"byteOffset")),u(R.prototype,{getInt8:function(t){return F(this,1,t)[0]<<24>>24},getUint8:function(t){return F(this,1,t)[0]},getInt16:function(t){var e=F(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=F(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return I(F(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return I(F(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return k(F(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return k(F(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){B(this,1,t,M,e)},setUint8:function(t,e){B(this,1,t,M,e)},setInt16:function(t,e){B(this,2,t,T,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){B(this,2,t,T,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){B(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){B(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){B(this,4,t,H,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){B(this,8,t,D,e,arguments.length>2?arguments[2]:void 0)}});b(_,"ArrayBuffer"),b(R,"DataView"),t.exports={ArrayBuffer:_,DataView:R}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(34),i=n(20);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(25),i=n(43),o=n(20);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,u=i(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);c>u;)e[u++]=t;return e}},function(t,e,n){var r=n(177);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(1),i=n(207);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){var r=n(1),i=n(6),o=n(33),a=n(38).f,u=n(21),s=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||s,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){var r,i,o,a=n(12),u=n(6),s=n(36),c=n(52),f=n(115),l=n(74),h=n(144),p=a.location,d=a.setImmediate,y=a.clearImmediate,v=a.process,g=a.MessageChannel,m=a.Dispatch,b=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},S=function(t){return function(){x(t)}},O=function(t){x(t.data)},_=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&y||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},y=function(t){delete w[t]},"process"==s(v)?r=function(t){v.nextTick(S(t))}:m&&m.now?r=function(t){m.now(S(t))}:g&&!h?(o=(i=new g).port2,i.port1.onmessage=O,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||u(_)||"file:"===p.protocol?r="onreadystatechange"in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),x(t)}}:function(t){setTimeout(S(t),0)}:(r=_,a.addEventListener("message",O,!1))),t.exports={set:d,clear:y}},function(t,e,n){var r=n(80);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(44),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(205),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,a=[],u=t.length,s=0;for(r=0;r<u;++r)(o=t.charCodeAt(r))<128?a[s++]=o:o<2048?(a[s++]=192|o>>6,a[s++]=128|63&o):o<55296||o>=57344?(a[s++]=224|o>>12,a[s++]=128|o>>6&63,a[s++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),a[s++]=240|o>>18,a[s++]=128|o>>12&63,a[s++]=128|o>>6&63,a[s++]=128|63&o);t=a}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],f=[];for(r=0;r<64;++r){var l=t[r]||0;c[r]=92^l,f[r]=54^l}Sha256.call(this,e,n),this.update(f),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,a=t.length,u=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),e)for(i=this.start;o<a&&i<64;++o)u[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?u[i>>2]|=r<<SHIFT[3&i++]:r<2048?(u[i>>2]|=(192|r>>6)<<SHIFT[3&i++],u[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(u[i>>2]|=(224|r>>12)<<SHIFT[3&i++],u[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],u[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),u[i>>2]|=(240|r>>18)<<SHIFT[3&i++],u[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],u[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],u[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=u[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,a,u,s,c=this.h0,f=this.h1,l=this.h2,h=this.h3,p=this.h4,d=this.h5,y=this.h6,v=this.h7,g=this.blocks;for(t=16;t<64;++t)e=((i=g[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=g[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,g[t]=g[t-16]+e+g[t-7]+n<<0;for(s=f&l,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,v=(i=g[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,v=(i=g[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(o=c&f)^c&l^s,v=h+(i=v+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&d^~p&y)+K[t]+g[t])<<0,h=i+(e+r)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(a=h&c)^h&f^o,y=l+(i=y+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&p^~v&d)+K[t+1]+g[t+1])<<0,e=((l=i+(e+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(u=l&h)^l&c^a,d=f+(i=d+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&v^~y&p)+K[t+2]+g[t+2])<<0,e=((f=i+(e+r)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(s=f&l)^f&h^u,p=c+(i=p+(n=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&y^~d&v)+K[t+3]+g[t+3])<<0,c=i+(e+r)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+f<<0,this.h2=this.h2+l<<0,this.h3=this.h3+h<<0,this.h4=this.h4+p<<0,this.h5=this.h5+d<<0,this.h6=this.h6+y<<0,this.h7=this.h7+v<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,u=this.h7,s=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(s+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]),s},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,u=this.h7,s=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||s.push(u>>24&255,u>>16&255,u>>8&255,255&u),s},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(204),__webpack_require__(104))},,,,,,,,,,function(t,e,n){var r=n(12),i=n(76),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(33),i=n(49).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(52),i=n(25),o=n(118),a=n(86),u=n(20),s=n(62),c=n(87);t.exports=function(t){var e,n,f,l,h,p,d=i(t),y="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,m=void 0!==g,b=c(d),w=0;if(m&&(g=r(g,v>2?arguments[2]:void 0,2)),null==b||y==Array&&a(b))for(n=new y(e=u(d.length));e>w;w++)p=m?g(d[w],w):d[w],s(n,w,p);else for(h=(l=b.call(d)).next,n=new y;!(f=h.call(l)).done;w++)p=m?o(l,g,[f.value,w],!0):f.value,s(n,w,p);return n.length=w,n}},function(t,e,n){"use strict";var r=n(120).IteratorPrototype,i=n(41),o=n(47),a=n(51),u=n(61),s=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),u[c]=s,t}},function(t,e,n){var r=n(19);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(88),i=n(67);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r=n(1),i=n(12),o=n(66),a=n(28),u=n(130),s=n(93),c=n(63),f=n(19),l=n(6),h=n(68),p=n(51),d=n(94);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),g=y?"set":"add",m=i[t],b=m&&m.prototype,w=m,x={},S=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof m||!(v||b.forEach&&!l((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,y,g),u.REQUIRED=!0;else if(o(t,!0)){var O=new w,_=O[g](v?{}:-0,1)!=O,R=l((function(){O.has(1)})),E=h((function(t){new m(t)})),j=!v&&l((function(){for(var t=new m,e=5;e--;)t[g](e,e);return!t.has(-0)}));E||((w=e((function(e,n){c(e,w,t);var r=d(new m,e,w);return null!=n&&s(n,r[g],r,y),r}))).prototype=b,b.constructor=w),(R||j)&&(S("delete"),S("has"),y&&S("get")),(j||_)&&S(g),v&&b.clear&&delete b.clear}return x[t]=w,r({global:!0,forced:w!=m},x),p(w,t),v||n.setStrong(w,t,y),w}},function(t,e,n){var r=n(6);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(23).f,i=n(41),o=n(95),a=n(52),u=n(63),s=n(93),c=n(89),f=n(96),l=n(21),h=n(130).fastKey,p=n(40),d=p.set,y=p.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){u(t,f,e),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&s(r,t[c],t,n)})),p=y(e),v=function(t,e,n){var r,i,o=p(t),a=g(t,e);return a?a.value=n:(o.last=a={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),l?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var n,r=p(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(f.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=p(this),n=g(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(f.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=y(e),o=y(r);c(t,e,(function(t,e){d(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(1),i=n(64),o=n(33),a=n(50),u=[].join,s=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:s||!c},{join:function(t){return u.call(o(this),void 0===t?",":t)}})},function(t,e,n){var r=n(36);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){"use strict";var r=n(34),i=n(37);t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(1),i=n(59).includes,o=n(119);r({target:"Array",proto:!0,forced:!n(39)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(1),i=n(170),o=n(37);r({target:"String",proto:!0,forced:!n(171)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(135);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(18)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(1),i=n(6),o=n(136),a=n(24),u=n(43),s=n(20),c=n(46),f=o.ArrayBuffer,l=o.DataView,h=f.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var n=a(this).byteLength,r=u(t,n),i=u(void 0===e?n:e,n),o=new(c(this,f))(s(i-r)),p=new l(this),d=new l(o),y=0;r<i;)d.setUint8(y++,p.getUint8(r++));return o}})},function(t,e){var n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(t,e,u){var s,c,f,l=new Array(u),h=8*u-e-1,p=(1<<h)-1,d=p>>1,y=23===e?r(2,-24)-r(2,-77):0,v=t<0||0===t&&1/t<0?1:0,g=0;for((t=n(t))!=t||t===1/0?(c=t!=t?1:0,s=p):(s=i(o(t)/a),t*(f=r(2,-s))<1&&(s--,f*=2),(t+=s+d>=1?y/f:y*r(2,1-d))*f>=2&&(s++,f/=2),s+d>=p?(c=0,s=p):s+d>=1?(c=(t*f-1)*r(2,e),s+=d):(c=t*r(2,d-1)*r(2,e),s=0));e>=8;l[g++]=255&c,c/=256,e-=8);for(s=s<<e|c,h+=e;h>0;l[g++]=255&s,s/=256,h-=8);return l[--g]|=128*v,l},unpack:function(t,e){var n,i=t.length,o=8*i-e-1,a=(1<<o)-1,u=a>>1,s=o-7,c=i-1,f=t[c--],l=127&f;for(f>>=7;s>0;l=256*l+t[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=e;s>0;n=256*n+t[c],c--,s-=8);if(0===l)l=1-u;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=u}return(f?-1:1)*n*r(2,l-e)}}},function(t,e,n){n(175)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(1),i=n(12),o=n(21),a=n(176),u=n(17),s=n(136),c=n(63),f=n(47),l=n(26),h=n(20),p=n(138),d=n(140),y=n(48),v=n(22),g=n(67),m=n(19),b=n(41),w=n(55),x=n(49).f,S=n(178),O=n(29).forEach,_=n(96),R=n(23),E=n(38),j=n(40),A=n(94),P=j.get,k=j.set,M=R.f,T=E.f,C=Math.round,I=i.RangeError,H=s.ArrayBuffer,D=s.DataView,L=u.NATIVE_ARRAY_BUFFER_VIEWS,F=u.TYPED_ARRAY_TAG,B=u.TypedArray,G=u.TypedArrayPrototype,U=u.aTypedArrayConstructor,N=u.isTypedArray,X=function(t,e){for(var n=0,r=e.length,i=new(U(t))(r);r>n;)i[n]=e[n++];return i},W=function(t,e){M(t,e,{get:function(){return P(this)[e]}})},V=function(t){var e;return t instanceof H||"ArrayBuffer"==(e=g(t))||"SharedArrayBuffer"==e},Y=function(t,e){return N(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},z=function(t,e){return Y(t,e=y(e,!0))?f(2,t[e]):T(t,e)},q=function(t,e,n){return!(Y(t,e=y(e,!0))&&m(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?M(t,e,n):(t[e]=n.value,t)};o?(L||(E.f=z,R.f=q,W(G,"buffer"),W(G,"byteOffset"),W(G,"byteLength"),W(G,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:z,defineProperty:q}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,u=t+(n?"Clamped":"")+"Array",s="get"+t,f="set"+t,y=i[u],v=y,g=v&&v.prototype,R={},E=function(t,e){M(t,e,{get:function(){return function(t,e){var n=P(t);return n.view[s](e*o+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=P(t);n&&(r=(r=C(r))<0?0:r>255?255:255&r),i.view[f](e*o+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};L?a&&(v=e((function(t,e,n,r){return c(t,v,u),A(m(e)?V(e)?void 0!==r?new y(e,d(n,o),r):void 0!==n?new y(e,d(n,o)):new y(e):N(e)?X(v,e):S.call(v,e):new y(p(e)),t,v)})),w&&w(v,B),O(x(y),(function(t){t in v||l(v,t,y[t])})),v.prototype=g):(v=e((function(t,e,n,r){c(t,v,u);var i,a,s,f=0,l=0;if(m(e)){if(!V(e))return N(e)?X(v,e):S.call(v,e);i=e,l=d(n,o);var y=e.byteLength;if(void 0===r){if(y%o)throw I("Wrong length");if((a=y-l)<0)throw I("Wrong length")}else if((a=h(r)*o)+l>y)throw I("Wrong length");s=a/o}else s=p(e),i=new H(a=s*o);for(k(t,{buffer:i,byteOffset:l,byteLength:a,length:s,view:new D(i)});f<s;)E(t,f++)})),w&&w(v,B),g=v.prototype=b(G)),g.constructor!==v&&l(g,"constructor",v),F&&l(g,F,u),R[u]=v,r({global:!0,forced:v!=y,sham:!L},R),"BYTES_PER_ELEMENT"in v||l(v,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in g||l(g,"BYTES_PER_ELEMENT",o),_(u)}):t.exports=function(){}},function(t,e,n){var r=n(12),i=n(6),o=n(68),a=n(17).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,s=r.Int8Array;t.exports=!a||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!o((function(t){new s,new s(null),new s(1.5),new s(t)}),!0)||i((function(){return 1!==new s(new u(2),1,void 0).length}))},function(t,e,n){var r=n(34);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(25),i=n(20),o=n(87),a=n(86),u=n(52),s=n(17).aTypedArrayConstructor;t.exports=function(t){var e,n,c,f,l,h,p=r(t),d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=o(p);if(null!=g&&!a(g))for(h=(l=g.call(p)).next,p=[];!(f=h.call(l)).done;)p.push(f.value);for(v&&d>2&&(y=u(y,arguments[2],2)),n=i(p.length),c=new(s(this))(n),e=0;n>e;e++)c[e]=v?y(p[e],e):p[e];return c}},function(t,e,n){"use strict";var r=n(17),i=n(180),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(25),i=n(43),o=n(20),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),u=o(n.length),s=i(t,u),c=i(e,u),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?u:i(f,u))-c,u-s),h=1;for(c<s&&s<c+l&&(h=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=h,c+=h;return n}},function(t,e,n){"use strict";var r=n(17),i=n(29).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=n(139),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return i.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(17),i=n(29).filter,o=n(46),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=i(a(this),t,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),r=0,s=e.length,c=new(u(n))(s);s>r;)c[r]=e[r++];return c}))},function(t,e,n){"use strict";var r=n(17),i=n(29).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=n(29).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=n(29).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=n(59).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=n(59).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(12),i=n(17),o=n(2),a=n(18)("iterator"),u=r.Uint8Array,s=o.values,c=o.keys,f=o.entries,l=i.aTypedArray,h=i.exportTypedArrayMethod,p=u&&u.prototype[a],d=!!p&&("values"==p.name||null==p.name),y=function(){return s.call(l(this))};h("entries",(function(){return f.call(l(this))})),h("keys",(function(){return c.call(l(this))})),h("values",y,!d),h(a,y,!d)},function(t,e,n){"use strict";var r=n(17),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].join;o("join",(function(t){return a.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(17),i=n(192),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(33),i=n(34),o=n(20),a=n(50),u=n(39),s=Math.min,c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),h=u("indexOf",{ACCESSORS:!0,1:0}),p=f||!l||!h;t.exports=p?function(t){if(f)return c.apply(this,arguments)||0;var e=r(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},function(t,e,n){"use strict";var r=n(17),i=n(29).map,o=n(46),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(u(o(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(17),i=n(82).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=n(82).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var t,e=i(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(17),i=n(20),o=n(140),a=n(25),u=n(6),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){s(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),u=i(r.length),c=0;if(u+e>n)throw RangeError("Wrong length");for(;c<u;)this[e+c]=r[c++]}),u((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(17),i=n(46),o=n(6),a=r.aTypedArray,u=r.aTypedArrayConstructor,s=r.exportTypedArrayMethod,c=[].slice;s("slice",(function(t,e){for(var n=c.call(a(this),t,e),r=i(this,this.constructor),o=0,s=n.length,f=new(u(r))(s);s>o;)f[o]=n[o++];return f}),o((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(17),i=n(29).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(17),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",(function(t){return a.call(i(this),t)}))},function(t,e,n){"use strict";var r=n(17),i=n(20),o=n(43),a=n(46),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=u(this),r=n.length,s=o(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-s))}))},function(t,e,n){"use strict";var r=n(12),i=n(17),o=n(6),a=r.Int8Array,u=i.aTypedArray,s=i.exportTypedArrayMethod,c=[].toLocaleString,f=[].slice,l=!!a&&o((function(){c.call(new a(1))}));s("toLocaleString",(function(){return c.apply(l?f.call(u(this)):u(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(17).exportTypedArrayMethod,i=n(6),o=n(12).Uint8Array,a=o&&o.prototype||{},u=[].toString,s=[].join;i((function(){u.call({})}))&&(u=function(){return s.call(this)});var c=a.toString!=u;r("toString",u,c)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";var r=n(1),i=n(133);r({target:"String",proto:!0,forced:n(134)("link")},{link:function(t){return i(this,"a","href",t)}})},function(t,e,n){var r=n(12),i=n(97).trim,o=n(98),a=r.parseInt,u=/^[+-]?0[Xx]/,s=8!==a(o+"08")||22!==a(o+"0x16");t.exports=s?function(t,e){var n=i(String(t));return a(n,e>>>0||(u.test(n)?16:10))}:a},function(t,e,n){"use strict";var r=n(6);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){n(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){var r=n(1),i=n(19),o=n(24),a=n(22),u=n(38),s=n(54);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,f=arguments.length<3?e:arguments[2];return o(e)===f?e[n]:(r=u.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(f):i(c=s(e))?t(c,n,f):void 0}})},function(t,e,n){var r=n(1),i=n(21);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(114)})},function(t,e,n){var r=n(1),i=n(21),o=n(109),a=n(33),u=n(38),s=n(62);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=u.f,c=o(r),f={},l=0;c.length>l;)void 0!==(n=i(r,e=c[l++]))&&s(f,e,n);return f}})},function(t,e,n){"use strict";var r,i,o,a,u=n(1),s=n(56),c=n(12),f=n(42),l=n(214),h=n(28),p=n(95),d=n(51),y=n(96),v=n(19),g=n(44),m=n(63),b=n(36),w=n(76),x=n(93),S=n(68),O=n(46),_=n(143).set,R=n(215),E=n(216),j=n(217),A=n(145),P=n(218),k=n(40),M=n(66),T=n(18),C=n(90),I=T("species"),H="Promise",D=k.get,L=k.set,F=k.getterFor(H),B=l,G=c.TypeError,U=c.document,N=c.process,X=f("fetch"),W=A.f,V=W,Y="process"==b(N),z=!!(U&&U.createEvent&&c.dispatchEvent),q=M(H,(function(){if(!(w(B)!==String(B))){if(66===C)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(s&&!B.prototype.finally)return!0;if(C>=51&&/native code/.test(B))return!1;var t=B.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[I]=e,!(t.then((function(){}))instanceof e)})),K=q||!S((function(t){B.all(t).catch((function(){}))})),$=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;R((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var u,s,c,f=r[a++],l=o?f.ok:f.fail,h=f.resolve,p=f.reject,d=f.domain;try{l?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?u=i:(d&&d.enter(),u=l(i),d&&(d.exit(),c=!0)),u===f.promise?p(G("Promise-chain cycle")):(s=$(u))?s.call(u,h,p):h(u)):p(i)}catch(t){d&&!c&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},J=function(t,e,n){var r,i;z?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(i=c["on"+t])?i(r):"unhandledrejection"===t&&j("Unhandled promise rejection",n)},Z=function(t,e){_.call(c,(function(){var n,r=e.value;if(tt(e)&&(n=P((function(){Y?N.emit("unhandledRejection",r,t):J("unhandledrejection",t,r)})),e.rejection=Y||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){_.call(c,(function(){Y?N.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(i){t(e,n,i,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Q(t,e,!0))},it=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw G("Promise can't be resolved itself");var i=$(n);i?R((function(){var r={done:!1};try{i.call(n,nt(it,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,Q(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};q&&(B=function(t){m(this,B,H),g(t),r.call(this);var e=D(this);try{t(nt(it,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){L(this,{type:H,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(B.prototype,{then:function(t,e){var n=F(this),r=W(O(this,B));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Y?N.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=D(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(rt,t,e)},A.f=W=function(t){return t===B||t===o?new i(t):V(t)},s||"function"!=typeof l||(a=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof X&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(B,X.apply(c,arguments))}}))),u({global:!0,wrap:!0,forced:q},{Promise:B}),d(B,H,!1,!0),y(H),o=f(H),u({target:H,stat:!0,forced:q},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),u({target:H,stat:!0,forced:s||q},{resolve:function(t){return E(s&&this===o?B:this,t)}}),u({target:H,stat:!0,forced:K},{all:function(t){var e=this,n=W(e),r=n.resolve,i=n.reject,o=P((function(){var n=g(e.resolve),o=[],a=0,u=1;x(t,(function(t){var s=a++,c=!1;o.push(void 0),u++,n.call(e,t).then((function(t){c||(c=!0,o[s]=t,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,i=P((function(){var i=g(e.resolve);x(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(12);t.exports=r.Promise},function(t,e,n){var r,i,o,a,u,s,c,f,l=n(12),h=n(38).f,p=n(36),d=n(143).set,y=n(144),v=l.MutationObserver||l.WebKitMutationObserver,g=l.process,m=l.Promise,b="process"==p(g),w=h(l,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(b&&(t=g.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},b?a=function(){g.nextTick(r)}:v&&!y?(u=!0,s=document.createTextNode(""),new v(r).observe(s,{characterData:!0}),a=function(){s.data=u=!u}):m&&m.resolve?(c=m.resolve(void 0),f=c.then,a=function(){f.call(c,r)}):a=function(){d.call(l,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(24),i=n(19),o=n(145);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(12);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof l?e:l,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function l(){}function h(){}function p(){}var d={};d[i]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(_([])));v&&v!==e&&n.call(v,i)&&(d=v);var g=p.prototype=l.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,u){var s=c(t[i],t,o);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return h.prototype=g.constructor=p,p.constructor=h,h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),u(g,a,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(101),i=n(24),o=n(20),a=n(37),u=n(102),s=n(103);r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=i(t),c=String(this);if(!a.global)return s(a,c);var f=a.unicode;a.lastIndex=0;for(var l,h=[],p=0;null!==(l=s(a,c));){var d=String(l[0]);h[p]=d,""===d&&(a.lastIndex=u(c,o(a.lastIndex),f)),p++}return 0===p?null:h}]}))},function(t,e,n){"use strict";var r=n(101),i=n(24),o=n(25),a=n(20),u=n(34),s=n(37),c=n(102),f=n(103),l=Math.max,h=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,m=v?"$":"$0";return[function(n,r){var i=s(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!v&&g||"string"==typeof r&&-1===r.indexOf(m)){var o=n(e,t,this,r);if(o.done)return o.value}var s=i(t),p=String(this),d="function"==typeof r;d||(r=String(r));var y=s.global;if(y){var w=s.unicode;s.lastIndex=0}for(var x=[];;){var S=f(s,p);if(null===S)break;if(x.push(S),!y)break;""===String(S[0])&&(s.lastIndex=c(p,a(s.lastIndex),w))}for(var O,_="",R=0,E=0;E<x.length;E++){S=x[E];for(var j=String(S[0]),A=l(h(u(S.index),p.length),0),P=[],k=1;k<S.length;k++)P.push(void 0===(O=S[k])?O:String(O));var M=S.groups;if(d){var T=[j].concat(P,A,p);void 0!==M&&T.push(M);var C=String(r.apply(void 0,T))}else C=b(j,p,A,P,M,r);A>=R&&(_+=p.slice(R,A)+C,R=A+j.length)}return _+p.slice(R)}];function b(t,n,r,i,a,u){var s=r+t.length,c=i.length,f=y;return void 0!==a&&(a=o(a),f=d),e.call(u,f,(function(e,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=a[o.slice(1,-1)];break;default:var f=+o;if(0===f)return e;if(f>c){var l=p(f/10);return 0===l?e:l<=c?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):e}u=i[f-1]}return void 0===u?"":u}))}}))},function(t,e,n){"use strict";var r=n(101),i=n(135),o=n(24),a=n(37),u=n(46),s=n(102),c=n(20),f=n(103),l=n(73),h=n(6),p=[].push,d=Math.min,y=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);for(var u,s,c,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=new RegExp(t.source,h+"g");(u=l.call(y,r))&&!((s=y.lastIndex)>d&&(f.push(r.slice(d,u.index)),u.length>1&&u.index<r.length&&p.apply(f,u.slice(1)),c=u[0].length,d=s,f.length>=o));)y.lastIndex===u.index&&y.lastIndex++;return d===r.length?!c&&y.test("")||f.push(""):f.push(r.slice(d)),f.length>o?f.slice(0,o):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var l=o(t),h=String(this),p=u(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(y?"y":"g"),m=new p(y?l:"^(?:"+l.source+")",g),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===h.length)return null===f(m,h)?[h]:[];for(var w=0,x=0,S=[];x<h.length;){m.lastIndex=y?x:0;var O,_=f(m,y?h:h.slice(x));if(null===_||(O=d(c(m.lastIndex+(y?0:x)),h.length))===w)x=s(h,x,v);else{if(S.push(h.slice(w,x)),S.length===b)return S;for(var R=1;R<=_.length-1;R++)if(S.push(_[R]),S.length===b)return S;x=w=O}}return S.push(h.slice(w)),S}]}),!y)},function(t,e,n){"use strict";var r=n(1),i=n(97).trim;r({target:"String",proto:!0,forced:n(224)("trim")},{trim:function(){return i(this)}})},function(t,e,n){var r=n(6),i=n(98);t.exports=function(t){return r((function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t}))}},function(t){t.exports=JSON.parse("{}")},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"create",(function(){return St})),n.d(r,"clone",(function(){return Ot})),n.d(r,"copy",(function(){return _t})),n.d(r,"fromValues",(function(){return Rt})),n.d(r,"set",(function(){return Et})),n.d(r,"identity",(function(){return jt})),n.d(r,"transpose",(function(){return At})),n.d(r,"invert",(function(){return Pt})),n.d(r,"adjoint",(function(){return kt})),n.d(r,"determinant",(function(){return Mt})),n.d(r,"multiply",(function(){return Tt})),n.d(r,"translate",(function(){return Ct})),n.d(r,"scale",(function(){return It})),n.d(r,"rotate",(function(){return Ht})),n.d(r,"rotateX",(function(){return Dt})),n.d(r,"rotateY",(function(){return Lt})),n.d(r,"rotateZ",(function(){return Ft})),n.d(r,"fromTranslation",(function(){return Bt})),n.d(r,"fromScaling",(function(){return Gt})),n.d(r,"fromRotation",(function(){return Ut})),n.d(r,"fromXRotation",(function(){return Nt})),n.d(r,"fromYRotation",(function(){return Xt})),n.d(r,"fromZRotation",(function(){return Wt})),n.d(r,"fromRotationTranslation",(function(){return Vt})),n.d(r,"fromQuat2",(function(){return Yt})),n.d(r,"getTranslation",(function(){return zt})),n.d(r,"getScaling",(function(){return qt})),n.d(r,"getRotation",(function(){return Kt})),n.d(r,"fromRotationTranslationScale",(function(){return $t})),n.d(r,"fromRotationTranslationScaleOrigin",(function(){return Qt})),n.d(r,"fromQuat",(function(){return Jt})),n.d(r,"frustum",(function(){return Zt})),n.d(r,"perspective",(function(){return te})),n.d(r,"perspectiveFromFieldOfView",(function(){return ee})),n.d(r,"ortho",(function(){return ne})),n.d(r,"lookAt",(function(){return re})),n.d(r,"targetTo",(function(){return ie})),n.d(r,"str",(function(){return oe})),n.d(r,"frob",(function(){return ae})),n.d(r,"add",(function(){return ue})),n.d(r,"subtract",(function(){return se})),n.d(r,"multiplyScalar",(function(){return ce})),n.d(r,"multiplyScalarAndAdd",(function(){return fe})),n.d(r,"exactEquals",(function(){return le})),n.d(r,"equals",(function(){return he})),n.d(r,"mul",(function(){return pe})),n.d(r,"sub",(function(){return de}));var i;n(0),n(79),n(81);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){t.Image="Image",t.Audio="Audio",t.Video="Video"}(i||(i={}));var u=function t(){a(this,t),this.type=null,this.url=null,this.loaded=!1,this.element=null},s=function(){function t(){a(this,t),this.assets=[]}var e,n,r;return e=t,(n=[{key:"getAssetsLoaded",value:function(){return this.assets.reduce((function(t,e){return t&&e.loaded}),!0)}},{key:"createImage",value:function(t){var e=this.createAsset(t,i.Image);return e.element=new Image,e.element.src=t,e.element.naturalWidth?e.loaded=!0:e.element.addEventListener("load",(function(){return e.loaded=!0})),e.element}},{key:"createAudio",value:function(t){var e=this.createAsset(t,i.Audio);return e.element=new Audio,e.element.src=t,e.element.duration?e.loaded=!0:e.element.addEventListener("canplaythrough",(function(){return e.loaded=!0})),e.element}},{key:"createVideo",value:function(t){var e=this.createAsset(t,i.Video);return e.element=document.createElement("video"),e.element.src=t,e.element.duration?e.loaded=!0:e.element.addEventListener("canplaythrough",(function(){return e.loaded=!0})),e.element}},{key:"getImage",value:function(t){return this.getAsset(t,i.Image)}},{key:"getVideo",value:function(t){return this.getAsset(t,i.Video)}},{key:"getAudio",value:function(t){return this.getAsset(t,i.Audio)}},{key:"getAsset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.assets.reduce((function(n,r){return r.url!==t||null!==e&&e!==r.type?n:r}),null).element}},{key:"createAsset",value:function(t,e){var n=new u;return n.type=e,n.url=t,this.assets.push(n),n}}])&&o(e.prototype,n),r&&o(e,r),t}();n(7),n(9),n(10),n(53),n(69),n(45),n(2),n(30),n(122),n(8),n(35),n(3),n(11),n(4),n(5),n(31),n(13),n(14),n(15),n(16);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f,l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.x=e,this.y=n}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e){this.x=t,this.y=e}}])&&c(e.prototype,n),r&&c(e,r),t}();function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t){t.Image="Image",t.Text="Text",t.Geometric="Geometric"}(f||(f={}));var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=void 0,this.ui=!1,this.layer=null,this._position=new l(0,0)}var e,n,r;return e=t,(n=[{key:"position",set:function(t){this.position.set(t.x,t.y)},get:function(){return this._position}}])&&h(e.prototype,n),r&&h(e,r),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(n,t);var e=g(n);function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).type=f.Geometric,t.color=null,t.geometric=null,t.geometricType=null,t.geometricUsePosition=!1,t}return n}(p),x=(n(127),n(71),n(27),n(91),n(72),n(32),"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)),S=new Uint8Array(16);function O(){if(!x)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(S)}var _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var R=function(t){return"string"==typeof t&&_.test(t)},E=[],j=0;j<256;++j)E.push((j+256).toString(16).substr(1));var A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(E[t[e+0]]+E[t[e+1]]+E[t[e+2]]+E[t[e+3]]+"-"+E[t[e+4]]+E[t[e+5]]+"-"+E[t[e+6]]+E[t[e+7]]+"-"+E[t[e+8]]+E[t[e+9]]+"-"+E[t[e+10]]+E[t[e+11]]+E[t[e+12]]+E[t[e+13]]+E[t[e+14]]+E[t[e+15]]).toLowerCase();if(!R(n))throw TypeError("Stringified UUID is invalid");return n};var P=function(t,e,n){var r=(t=t||{}).random||(t.rng||O)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return A(r)};n(129);function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sceneManager=Ge.getSingleton("SceneManager"),this.gameObjectManager=Ge.getSingleton("GameObjectManager"),this.uuid=P(),this.name=null,this.gameObject=null,this._active=!0,this.firstFrame=!0,this.gameLoopEventHandler=function(){!1!==e._active&&(!0===e.firstFrame?(e.start(),e.firstFrame=!1):e.update())},this.gameLoopEventHandler.bind(this),window.addEventListener(De,this.gameLoopEventHandler)}var e,n,r;return e=t,(n=[{key:"setActive",value:function(t){this._active=t}},{key:"start",value:function(){}},{key:"update",value:function(){}},{key:"getCurrentScene",value:function(){return this.sceneManager.getCurrentScene()}},{key:"getComponent",value:function(t){return this.gameObject.getComponent(t)}},{key:"findGameObjectByName",value:function(t){return this.gameObjectManager.findGameObjectByName(t)}},{key:"findGameObjectsByTag",value:function(t){return this.gameObjectManager.findGameObjectsByTag(t)}},{key:"findGameObjectByTag",value:function(t){return this.gameObjectManager.findGameObjectByTag(t)}},{key:"destroyGameObjectByName",value:function(t){this.destroyGameObject(this.findGameObjectByName(t))}},{key:"destroyGameObject",value:function(t){this.gameObjectManager.destroyGameObject(t)}},{key:"destroy",value:function(){var t=this;window.removeEventListener(De,this.gameLoopEventHandler),Object.keys(this).forEach((function(e){return delete t[e]}))}},{key:"active",get:function(){return this._active}}])&&k(e.prototype,n),r&&k(e,r),t}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=F(t);if(e){var i=F(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(o,t);var e,n,r,i=D(o);function o(){var t;C(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).position=new l(0,0),t.innerPosition=new l(0,0),t.scale=new l(1,1),t.rotation=0,t.parentTransform=null,t}return e=o,(n=[{key:"start",value:function(){this.update()}},{key:"update",value:function(){null===this.parentTransform&&null!==this.gameObject.parent&&(this.parentTransform=this.gameObject.parent.transform),null!==this.parentTransform&&null===this.gameObject.parent&&(this.parentTransform=null),null!==this.parentTransform?this.translateFromParent():(this.innerPosition.x=this.position.x,this.innerPosition.y=this.position.y)}},{key:"translateFromParent",value:function(){var t=this.parentTransform.rotation*Math.PI/180,e=Math.atan2(this.innerPosition.x,this.innerPosition.y),n=Math.hypot(this.innerPosition.x,this.innerPosition.y);this.position.x=this.parentTransform.position.x+n*Math.sin(e-t),this.position.y=this.parentTransform.position.y+n*Math.cos(e-t),this.rotation=this.parentTransform.rotation}},{key:"forceUpdate",value:function(){this.update()}}])&&I(e.prototype,n),r&&I(e,r),o}(M);function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var U=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uuid=P(),this.name=null,this.tag=null,this.layer="Default",this.ui=!1,this._active=!0,this.firstFrame=!0,this._parent=null,this.sceneManager=Ge.getSingleton("SceneManager"),this.gameObjectManager=Ge.getSingleton("GameObjectManager"),this.components=[],this.inactiveComponents=[],this.inactiveChildren=[],this.gameLoopEventHandler=function(){!1!==e._active&&(!0===e.firstFrame?(e.start(),e.firstFrame=!1):e.update())},this.addComponent((function(){return new B}),"Transform"),this.gameLoopEventHandler.bind(this),window.addEventListener(De,this.gameLoopEventHandler)}var e,n,r;return e=t,(n=[{key:"getCurrentScene",value:function(){return this.sceneManager.getCurrentScene()}},{key:"start",value:function(){}},{key:"update",value:function(){}},{key:"findGameObjectByName",value:function(t){return this.gameObjectManager.findGameObjectByName(t)}},{key:"findGameObjectsByTag",value:function(t){return this.gameObjectManager.findGameObjectsByTag(t)}},{key:"findGameObjectByTag",value:function(t){return this.gameObjectManager.findGameObjectByTag(t)}},{key:"addComponent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t();return n.name=e,n.gameObject=this,this.components.push(n),this}},{key:"getComponents",value:function(){return this.components}},{key:"getComponent",value:function(t){return this.components.reduce((function(e,n){return n.name===t?n:e}),null)}},{key:"hasComponent",value:function(t){return null!==this.getComponent(t)}},{key:"removeComponent",value:function(t){var e=this;this.components.every((function(n,r){if(n.name===t)return n.destroy(),delete e.components[r],!1}))}},{key:"removeComponents",value:function(){var t=this;this.components.every((function(e,n){return e.destroy(),delete t.components[n]})),this.components=[]}},{key:"addChild",value:function(t,e){return this.gameObjectManager.addGameObject(t,e,this),this}},{key:"getChildren",value:function(){return this.gameObjectManager.findGameObjectsByParent(this)}},{key:"getChild",value:function(t){return this.gameObjectManager.findGameObjectByParentAndName(this,t)}},{key:"destroyChildren",value:function(){var t=this;this.gameObjectManager.findGameObjectsByParent(this).every((function(e){return t.gameObjectManager.destroyGameObject(e)}))}},{key:"setActive",value:function(t){var e=this;!1===t&&this.updateInactiveCache(),this.components.filter((function(t){return-1===e.inactiveComponents.indexOf(t.uuid)})).forEach((function(e){return e.setActive(t)})),this.getChildren().filter((function(t){return-1===e.inactiveChildren.indexOf(t.uuid)})).forEach((function(e){return e.setActive(t)})),this.transform.forceUpdate(),this._active=t}},{key:"updateInactiveCache",value:function(){var t=this;this.inactiveComponents=[],this.inactiveChildren=[],this.components.filter((function(t){return!1===t.active})).forEach((function(e){return t.inactiveComponents.push(e.uuid)})),this.getChildren().filter((function(t){return!1===t.active})).forEach((function(e){return t.inactiveChildren.push(e.uuid)}))}},{key:"destroyGameObjectByName",value:function(t){this.destroyGameObject(this.findGameObjectByName(t))}},{key:"destroyGameObject",value:function(t){this.gameObjectManager.destroyGameObject(t)}},{key:"destroy",value:function(){var t=this;window.removeEventListener(De,this.gameLoopEventHandler),this.removeComponents(),Object.keys(this).forEach((function(e){return delete t[e]}))}},{key:"uuid",get:function(){return this._uuid}},{key:"transform",get:function(){return this.getComponent("Transform")}},{key:"active",get:function(){return this._active}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t,this.transform.forceUpdate()}}])&&G(e.prototype,n),r&&G(e,r),t}();function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var X=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=new l(0,0),this.width=0,this.height=0,this.set(e,n,r,i)}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n,r){this.setPosition(t,e),this.width=n,this.height=r}},{key:"setPosition",value:function(t,e){this.position.set(t,e)}},{key:"updateFromRect",value:function(t){this.set(t.x,t.y,t.width,t.height)}},{key:"overlappingRectangle",value:function(t){return this.x1>=t.x&&this.x<=t.x1&&this.y1<=t.y&&this.y>=t.y1}},{key:"x",get:function(){return this.position.x},set:function(t){this.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.position.y=t}},{key:"x1",get:function(){return this.position.x+this.width}},{key:"y1",get:function(){return this.position.y-this.height}}])&&N(e.prototype,n),r&&N(e,r),t}();function W(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Y(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var K=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxColliders=20,this.maxLevels=5,this.sw=0,this.se=1,this.nw=2,this.ne=3,this.level=void 0,this.colliders=[],this.quadrants=[],this.bounds=void 0,this.level=e,this.bounds=n}var e,n,r;return e=t,(n=[{key:"insert",value:function(t){this.hasQuadChildren()?this.insertColliderIntoChildrenQuads(t):(this.colliders.push(t),this.isQuadFull()&&this.level<this.maxLevels&&this.splitQuad())}},{key:"retrieve",value:function(t){var e=[];if(this.hasQuadChildren()){var n,r=V(this.getChildrenQuadrantForCollider(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;e.push.apply(e,W(i.retrieve(t)))}}catch(t){r.e(t)}finally{r.f()}}e.push.apply(e,W(this.colliders));var o=e.indexOf(t);return-1!==o&&e.splice(o,1),e}},{key:"clear",value:function(){var t,e=V(this.quadrants);try{for(e.s();!(t=e.n()).done;)t.value.clear()}catch(t){e.e(t)}finally{e.f()}this.colliders=[],this.quadrants=[]}},{key:"splitQuad",value:function(){var e=this.getQuadrantMidPoint(),n=e.x,r=e.y,i=this.level+1,o=this.bounds.width/2,a=this.bounds.height/2;this.quadrants=[new t(i,new X(n-o,r-a,o,a)),new t(i,new X(n,r-a,o,a)),new t(i,new X(n-o,r,o,a)),new t(i,new X(n,r,o,a))];var u,s=V(this.colliders);try{for(s.s();!(u=s.n()).done;){var c=u.value;this.insertColliderIntoChildrenQuads(c)}}catch(t){s.e(t)}finally{s.f()}this.colliders=[]}},{key:"getChildrenQuadrantForCollider",value:function(t){if(0===this.quadrants.length)throw new Error("Current quadrant does not have quadrant children.");var e=this.getQuadrantMidPoint(),n=e.x,r=e.y,i=[];if(t.bottomLeftPoint.x<=n&&t.bottomLeftPoint.y<=r&&i.push(this.quadrants[this.sw]),t.bottomRightPoint.x>=n&&t.bottomRightPoint.y<=r&&i.push(this.quadrants[this.se]),t.topLeftPoint.x<=n&&t.topLeftPoint.y>=r&&i.push(this.quadrants[this.nw]),t.topRightPoint.x>=n&&t.topRightPoint.y>=r&&i.push(this.quadrants[this.ne]),0===i.length)throw new Error("Children does not fit in any children quadrant");return i}},{key:"insertColliderIntoChildrenQuads",value:function(t){var e,n=V(this.getChildrenQuadrantForCollider(t));try{for(n.s();!(e=n.n()).done;)e.value.insert(t)}catch(t){n.e(t)}finally{n.f()}}},{key:"getQuadrantMidPoint",value:function(){return new l(this.bounds.width/2+this.bounds.x,this.bounds.height/2+this.bounds.y)}},{key:"hasQuadChildren",value:function(){return this.quadrants.length>0}},{key:"isQuadFull",value:function(){return this.colliders.length>this.maxColliders}}])&&q(e.prototype,n),r&&q(e,r),t}();function $(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.debug=!0,this.renderManager=void 0,this.colliders=[],this.quad=void 0,this.renderManager=e,this.quad=new K(0,new X(-2500,-2500,5e3,5e3))}var e,n,r;return e=t,(n=[{key:"prepare",value:function(){this.refreshQuad()}},{key:"addCollider",value:function(t){this.colliders.push(t)}},{key:"removeCollider",value:function(t){var e=this.colliders.indexOf(t);-1!==e&&(delete this.colliders[e],this.colliders.splice(e,1))}},{key:"getCollisionsForCollider",value:function(t){var e=this.broadPhase(t);return this.narrowPhase(t,e)}},{key:"broadPhase",value:function(t){return this.quad.retrieve(t)}},{key:"narrowPhase",value:function(t,e){var n,r=[],i=$(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.hasCollision(o)&&r.push(o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"refreshQuad",value:function(){this.quad.clear();var t,e=$(this.colliders);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.quad.insert(n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"debugQuads",value:function(t){if(this.debug){var e=new w;e.position=new l(t.bounds.x,t.bounds.y),e.layer="Default",e.geometric=t.bounds,e.geometricType="Rectangle",e.color="#0000FF",this.renderManager.addToRenderStack(e);var n,r=$(t.quadrants);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.debugQuads(i)}}catch(t){r.e(t)}finally{r.f()}}}}])&&J(e.prototype,n),r&&J(e,r),t}();function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObjects=[]}var e,n,r;return e=t,(n=[{key:"addGameObject",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.findGameObjectByName(e))throw new Error("There is already a GameObject with the name ".concat(e));var r=t();return r.name=e,r.parent=n,this.gameObjects.push(r),r}},{key:"getGameObjects",value:function(){return this.gameObjects}},{key:"findGameObjectByUuid",value:function(t){return this.gameObjects.reduce((function(e,n){return n.uuid===t?n:e}),null)}},{key:"findGameObjectByName",value:function(t){return this.gameObjects.reduce((function(e,n){return n.name===t?n:e}),null)}},{key:"findGameObjectsByParent",value:function(t){return this.gameObjects.filter((function(e){return e.parent===t}))}},{key:"findGameObjectByParentAndName",value:function(t,e){return this.gameObjects.reduce((function(n,r){return r.name===e&&r.parent===t?r:n}),null)}},{key:"findGameObjectsByTag",value:function(t){return this.gameObjects.filter((function(e){return e.tag===t}))}},{key:"findGameObjectByTag",value:function(t){var e;return null!==(e=this.findGameObjectsByTag(t)[0])&&void 0!==e?e:null}},{key:"destroyAllGameObjects",value:function(){var t=this;this.gameObjects.every((function(e){return t._destroyGameObject(e,!1)})),this.gameObjects=[]}},{key:"destroyGameObject",value:function(t){this._destroyGameObject(t,!0)}},{key:"_destroyGameObject",value:function(t,e){var n=this.gameObjects.indexOf(t);-1!==n&&(e&&this.destroyChildren(t),t.destroy(),delete this.gameObjects[n])}},{key:"destroyChildren",value:function(t){var e=this;this.findGameObjectsByParent(t).every((function(t){e.destroyChildren(t),e.destroyGameObject(t)}))}}])&&tt(e.prototype,n),r&&tt(e,r),t}();n(92);function nt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),t}var ut=function(){function t(){var e=this;it(this,t),this.gamepads=[],this.eventHandler=function(t){"gamepadconnected"===t.type?e.gamepadConnected(t.gamepad):"gamepaddisconnected"===t.type&&e.gamepadDisconected(t.gamepad)},window.addEventListener("gamepadconnected",this.eventHandler),window.addEventListener("gamepaddisconnected",this.eventHandler),window.addEventListener(De,(function(){return e.update()}));for(var n=0;n<navigator.getGamepads().length;n++)this.gamepads[n]=new st}return at(t,[{key:"getGamepad",value:function(t){var e;return null!==(e=this.gamepads[t])&&void 0!==e?e:null}},{key:"gamepadConnected",value:function(t){this.gamepads[t.index].updateFromGamepad(t)}},{key:"gamepadDisconected",value:function(t){this.gamepads[t.index].updateFromGamepad(t)}},{key:"update",value:function(){var t,e=nt(navigator.getGamepads());try{for(e.s();!(t=e.n()).done;){var n=t.value;null!==n&&this.gamepads[n.index].updateFromGamepad(n)}}catch(t){e.e(t)}finally{e.f()}}}]),t}(),st=function(){function t(){it(this,t),this._connected=!1,this._id=null,this.buttons=new Map,this.axes=new Map}return at(t,[{key:"updateFromGamepad",value:function(t){var e=this;this._id=t.id,this._connected=t.connected,t.buttons.forEach((function(t,n){return e.buttons.set(n,t.pressed)})),t.axes.forEach((function(t,n){return e.axes.set(n,t)}))}},{key:"getButtonPressed",value:function(t){return this.buttons.get(t)}},{key:"getAxis",value:function(t){return this.axes.get(t)}},{key:"connected",get:function(){return this._connected}},{key:"id",get:function(){return this._id}},{key:"dpadUp",get:function(){var t;return null!==(t=this.buttons.get(12))&&void 0!==t&&t}},{key:"dpadDown",get:function(){var t;return null!==(t=this.buttons.get(13))&&void 0!==t&&t}},{key:"dpadLeft",get:function(){var t;return null!==(t=this.buttons.get(14))&&void 0!==t&&t}},{key:"dpadRight",get:function(){var t;return null!==(t=this.buttons.get(15))&&void 0!==t&&t}},{key:"bottomFace",get:function(){var t;return null!==(t=this.buttons.get(0))&&void 0!==t&&t}},{key:"rightFace",get:function(){var t;return null!==(t=this.buttons.get(1))&&void 0!==t&&t}},{key:"leftFace",get:function(){var t;return null!==(t=this.buttons.get(2))&&void 0!==t&&t}},{key:"topFace",get:function(){var t;return null!==(t=this.buttons.get(3))&&void 0!==t&&t}},{key:"leftShoulder",get:function(){var t;return null!==(t=this.buttons.get(4))&&void 0!==t&&t}},{key:"rightShoulder",get:function(){var t;return null!==(t=this.buttons.get(5))&&void 0!==t&&t}},{key:"leftTrigger",get:function(){var t;return null!==(t=this.buttons.get(6))&&void 0!==t&&t}},{key:"rightTrigger",get:function(){var t;return null!==(t=this.buttons.get(7))&&void 0!==t&&t}},{key:"start",get:function(){var t;return null!==(t=this.buttons.get(8))&&void 0!==t&&t}},{key:"back",get:function(){var t;return null!==(t=this.buttons.get(9))&&void 0!==t&&t}},{key:"leftStickButton",get:function(){var t;return null!==(t=this.buttons.get(10))&&void 0!==t&&t}},{key:"rightStickButton",get:function(){var t;return null!==(t=this.buttons.get(11))&&void 0!==t&&t}},{key:"leftStickHorizontal",get:function(){var t;return null!==(t=this.axes.get(0))&&void 0!==t?t:0}},{key:"leftStickVertical",get:function(){var t;return null!==(t=this.axes.get(1))&&void 0!==t?t:0}},{key:"rightStickHorizontal",get:function(){var t;return null!==(t=this.axes.get(2))&&void 0!==t?t:0}},{key:"rightStickVertical",get:function(){var t;return null!==(t=this.axes.get(3))&&void 0!==t?t:0}}]),t}();var ct=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouse=void 0,this.keyboard=void 0,this.gamepad=void 0,this.mouse=e,this.keyboard=n,this.gamepad=r};function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lt=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.keyPresses={},window.addEventListener("keydown",(function(t){return e.keyPresses[t.key]=!0})),window.addEventListener("keyup",(function(t){return e.keyPresses[t.key]=!1}))}var e,n,r;return e=t,(n=[{key:"isPressed",value:function(t){return void 0!==this.keyPresses[t]&&!1!==this.keyPresses[t]}}])&&ft(e.prototype,n),r&&ft(e,r),t}();function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.leftButtonPressed=!1,this.scrollButonPressed=!1,this.rightButtonPressed=!1,this.gameNode=void 0,this.viewportPosition=new l(0,0),this.lastViewportPosition=new l(0,0),this._hasMoved=!1,this.gameNode=e,this.setup()}var e,n,r;return e=t,(n=[{key:"setup",value:function(){var t=this;this.gameNode.addEventListener("mousemove",(function(e){return t.updatePosition(e)})),this.gameNode.addEventListener("mousedown",(function(e){return t.updateButtonDown(e)})),this.gameNode.addEventListener("mouseup",(function(e){return t.updateButtonUp(e)})),window.addEventListener(De,(function(){return t.update()}))}},{key:"updateButtonDown",value:function(t){this.leftButtonPressed=0===t.button,this.scrollButonPressed=1===t.button,this.rightButtonPressed=2===t.button}},{key:"updateButtonUp",value:function(t){this.leftButtonPressed=0!==t.button&&this.leftButtonPressed,this.scrollButonPressed=1!==t.button&&this.scrollButonPressed,this.rightButtonPressed=2!==t.button&&this.rightButtonPressed}},{key:"updatePosition",value:function(t){var e=this.gameNode.getBoundingClientRect();this.viewportPosition.x=t.clientX-e.left,this.viewportPosition.y=t.clientY-e.top}},{key:"update",value:function(){this.viewportPosition.x!==this.lastViewportPosition.x||this.viewportPosition.y!==this.lastViewportPosition.y?(this._hasMoved=!0,this.lastViewportPosition.set(this.viewportPosition.x,this.viewportPosition.y)):this._hasMoved=!1}},{key:"hasMoved",get:function(){return this._hasMoved}}])&&ht(e.prototype,n),r&&ht(e,r),t}();n(165),n(131),n(132),n(99);function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=null,this.canvasContext=null,this.renderPosition=new l(0,0),this.imagePosition=new l(0,0),this.cacheRect=new X(0,0,0,0),this.canvas=e,this.canvasContext=e.getContext("2d")}var e,n,r;return e=t,(n=[{key:"clearCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),null!==t&&(this.canvasContext.fillStyle=t,this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height))}},{key:"render",value:function(t,e,n){t.type===f.Image&&this.renderImage(t,!0===t.ui?n:e),t.type===f.Text&&!0===t.ui&&this.renderText(t,n),t.type===f.Geometric&&this.renderGeometric(t,!0===t.ui?n:e)}},{key:"renderImage",value:function(t,e){!1!==this.isInsideViewRect(t,e)&&(this.updateRenderPosition(t,e),this.imagePosition.set(0,0),this.canvasContext.save(),t.rotation?(this.canvasContext.translate(this.renderPosition.x+t.width/2,this.renderPosition.y+t.height/2),this.imagePosition.set(-t.width/2,-t.height/2),this.canvasContext.rotate(-t.rotation*Math.PI/180)):(this.canvasContext.translate(this.renderPosition.x,this.renderPosition.y),this.imagePosition.x=t.flipHorizontal?-t.width:this.imagePosition.x,this.imagePosition.y=t.flipVertical?-t.height:this.imagePosition.y),this.canvasContext.imageSmoothingEnabled=t.smooth,this.canvasContext.scale(t.flipHorizontal?-1:1,t.flipVertical?-1:1),void 0!==t.slice&&null!==t.slice?this.canvasContext.drawImage(t.image,t.slice.x,t.slice.y,t.slice.width,t.slice.height,this.imagePosition.x,this.imagePosition.y,t.width,t.height):this.canvasContext.drawImage(t.image,this.imagePosition.x,this.imagePosition.y,t.width,t.height),this.canvasContext.restore())}},{key:"renderText",value:function(t,e){var n=this;this.updateRenderPosition(t,e),this.canvasContext.save();var r=[t.bold?"bold":"",t.italic?"italic":"",t.textSize+"px",t.font];if(this.canvasContext.font=r.join(" "),this.canvasContext.fillStyle=t.color,this.canvasContext.textBaseline="middle",Array.isArray(t.text)){var i=!0,o=0;t.text.forEach((function(e){o=i?o:t.lineSeparation+t.textSize,n.canvasContext.fillText(e,n.renderPosition.x,n.renderPosition.y+o),i=!1}))}else this.canvasContext.fillText(t.text,this.renderPosition.x,this.renderPosition.y);this.canvasContext.restore()}},{key:"renderGeometric",value:function(t,e){switch(this.canvasContext.save(),this.updateRenderPosition(t,e),t.geometricType){case"Rectangle":this.canvasContext.strokeStyle=t.color,this.canvasContext.strokeRect(this.renderPosition.x,this.renderPosition.y,t.geometric.width,t.geometric.height);break;case"Polygon":this.canvasContext.strokeStyle=t.color,this.canvasContext.beginPath(),this.canvasContext.moveTo(t.geometric[0].x-e.x,e.y-t.geometric[0].y),this.canvasContext.lineTo(t.geometric[1].x-e.x,e.y-t.geometric[1].y),this.canvasContext.lineTo(t.geometric[3].x-e.x,e.y-t.geometric[3].y),this.canvasContext.lineTo(t.geometric[2].x-e.x,e.y-t.geometric[2].y),this.canvasContext.closePath(),this.canvasContext.stroke()}this.canvasContext.restore()}},{key:"isInsideViewRect",value:function(t,e){return this.cacheRect.set(t.position.x,t.position.y,t.width,t.height),e.overlappingRectangle(this.cacheRect)}},{key:"updateRenderPosition",value:function(t,e){this.renderPosition.x=t.position.x,this.renderPosition.y=t.position.y,t.type===f.Image&&this.centerImage(t),this.renderPosition.x=Number((this.renderPosition.x-e.x).toFixed(0)),this.renderPosition.y=Number((e.y-this.renderPosition.y).toFixed(0))}},{key:"centerImage",value:function(t){this.renderPosition.x-=Math.floor(t.width/2),this.renderPosition.y+=Math.floor(t.height/2)}}])&&dt(e.prototype,n),r&&dt(e,r),t}();n(168),n(169);function vt(t){return function(t){if(Array.isArray(t))return gt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameRenderer=null,this.UIRenderer=null,this.renderStack=[],this._renderLayers=[],this._worldSpaceViewRect=new X(0,0,0,0),this._viewportRect=new X(0,0,0,0),this.gameRenderer=e,this.UIRenderer=n}var e,n,r;return e=t,(n=[{key:"clearCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.gameRenderer.clearCanvas(t),this.UIRenderer&&this.UIRenderer.clearCanvas(null)}},{key:"addToRenderStack",value:function(t){this.renderStack.push(t)}},{key:"clearRenderStack",value:function(){this.renderStack=[]}},{key:"render",value:function(){var t=this;this.renderStack.forEach((function(e){!1!==t._renderLayers.includes(e.layer)&&(!0!==e.ui?e.type===f.Geometric&&t.UIRenderer?t.UIRenderer.render(e,t._worldSpaceViewRect,t._viewportRect):t.gameRenderer.render(e,t._worldSpaceViewRect,t._viewportRect):t.UIRenderer&&!0===e.ui&&t.UIRenderer.render(e,t._worldSpaceViewRect,t._viewportRect))})),this.clearRenderStack()}},{key:"renderLayers",set:function(t){this._renderLayers=vt(t)}},{key:"worldSpaceViewRect",set:function(t){this._worldSpaceViewRect.updateFromRect(t)}},{key:"viewportRect",set:function(t){this._viewportRect.updateFromRect(t)}}])&&mt(e.prototype,n),r&&mt(e,r),t}(),wt=(n(172),n(174),n(179),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),1e-6),xt="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function St(){var t=new xt(16);return xt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Ot(t){var e=new xt(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function _t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Rt(t,e,n,r,i,o,a,u,s,c,f,l,h,p,d,y){var v=new xt(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=u,v[8]=s,v[9]=c,v[10]=f,v[11]=l,v[12]=h,v[13]=p,v[14]=d,v[15]=y,v}function Et(t,e,n,r,i,o,a,u,s,c,f,l,h,p,d,y,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=p,t[13]=d,t[14]=y,t[15]=v,t}function jt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function At(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Pt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],y=e[13],v=e[14],g=e[15],m=n*u-r*a,b=n*s-i*a,w=n*c-o*a,x=r*s-i*u,S=r*c-o*u,O=i*c-o*s,_=f*y-l*d,R=f*v-h*d,E=f*g-p*d,j=l*v-h*y,A=l*g-p*y,P=h*g-p*v,k=m*P-b*A+w*j+x*E-S*R+O*_;return k?(k=1/k,t[0]=(u*P-s*A+c*j)*k,t[1]=(i*A-r*P-o*j)*k,t[2]=(y*O-v*S+g*x)*k,t[3]=(h*S-l*O-p*x)*k,t[4]=(s*E-a*P-c*R)*k,t[5]=(n*P-i*E+o*R)*k,t[6]=(v*w-d*O-g*b)*k,t[7]=(f*O-h*w+p*b)*k,t[8]=(a*A-u*E+c*_)*k,t[9]=(r*E-n*A-o*_)*k,t[10]=(d*S-y*w+g*m)*k,t[11]=(l*w-f*S-p*m)*k,t[12]=(u*R-a*j-s*_)*k,t[13]=(n*j-r*R+i*_)*k,t[14]=(y*b-d*x-v*m)*k,t[15]=(f*x-l*b+h*m)*k,t):null}function kt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],y=e[13],v=e[14],g=e[15];return t[0]=u*(h*g-p*v)-l*(s*g-c*v)+y*(s*p-c*h),t[1]=-(r*(h*g-p*v)-l*(i*g-o*v)+y*(i*p-o*h)),t[2]=r*(s*g-c*v)-u*(i*g-o*v)+y*(i*c-o*s),t[3]=-(r*(s*p-c*h)-u*(i*p-o*h)+l*(i*c-o*s)),t[4]=-(a*(h*g-p*v)-f*(s*g-c*v)+d*(s*p-c*h)),t[5]=n*(h*g-p*v)-f*(i*g-o*v)+d*(i*p-o*h),t[6]=-(n*(s*g-c*v)-a*(i*g-o*v)+d*(i*c-o*s)),t[7]=n*(s*p-c*h)-a*(i*p-o*h)+f*(i*c-o*s),t[8]=a*(l*g-p*y)-f*(u*g-c*y)+d*(u*p-c*l),t[9]=-(n*(l*g-p*y)-f*(r*g-o*y)+d*(r*p-o*l)),t[10]=n*(u*g-c*y)-a*(r*g-o*y)+d*(r*c-o*u),t[11]=-(n*(u*p-c*l)-a*(r*p-o*l)+f*(r*c-o*u)),t[12]=-(a*(l*v-h*y)-f*(u*v-s*y)+d*(u*h-s*l)),t[13]=n*(l*v-h*y)-f*(r*v-i*y)+d*(r*h-i*l),t[14]=-(n*(u*v-s*y)-a*(r*v-i*y)+d*(r*s-i*u)),t[15]=n*(u*h-s*l)-a*(r*h-i*l)+f*(r*s-i*u),t}function Mt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],p=t[12],d=t[13],y=t[14],v=t[15];return(e*a-n*o)*(l*v-h*y)-(e*u-r*o)*(f*v-h*d)+(e*s-i*o)*(f*y-l*d)+(n*u-r*a)*(c*v-h*p)-(n*s-i*a)*(c*y-l*p)+(r*s-i*u)*(c*d-f*p)}function Tt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],p=e[10],d=e[11],y=e[12],v=e[13],g=e[14],m=e[15],b=n[0],w=n[1],x=n[2],S=n[3];return t[0]=b*r+w*u+x*l+S*y,t[1]=b*i+w*s+x*h+S*v,t[2]=b*o+w*c+x*p+S*g,t[3]=b*a+w*f+x*d+S*m,b=n[4],w=n[5],x=n[6],S=n[7],t[4]=b*r+w*u+x*l+S*y,t[5]=b*i+w*s+x*h+S*v,t[6]=b*o+w*c+x*p+S*g,t[7]=b*a+w*f+x*d+S*m,b=n[8],w=n[9],x=n[10],S=n[11],t[8]=b*r+w*u+x*l+S*y,t[9]=b*i+w*s+x*h+S*v,t[10]=b*o+w*c+x*p+S*g,t[11]=b*a+w*f+x*d+S*m,b=n[12],w=n[13],x=n[14],S=n[15],t[12]=b*r+w*u+x*l+S*y,t[13]=b*i+w*s+x*h+S*v,t[14]=b*o+w*c+x*p+S*g,t[15]=b*a+w*f+x*d+S*m,t}function Ct(t,e,n){var r,i,o,a,u,s,c,f,l,h,p,d,y=n[0],v=n[1],g=n[2];return e===t?(t[12]=e[0]*y+e[4]*v+e[8]*g+e[12],t[13]=e[1]*y+e[5]*v+e[9]*g+e[13],t[14]=e[2]*y+e[6]*v+e[10]*g+e[14],t[15]=e[3]*y+e[7]*v+e[11]*g+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=p,t[11]=d,t[12]=r*y+u*v+l*g+e[12],t[13]=i*y+s*v+h*g+e[13],t[14]=o*y+c*v+p*g+e[14],t[15]=a*y+f*v+d*g+e[15]),t}function It(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ht(t,e,n,r){var i,o,a,u,s,c,f,l,h,p,d,y,v,g,m,b,w,x,S,O,_,R,E,j,A=r[0],P=r[1],k=r[2],M=Math.hypot(A,P,k);return M<wt?null:(A*=M=1/M,P*=M,k*=M,i=Math.sin(n),a=1-(o=Math.cos(n)),u=e[0],s=e[1],c=e[2],f=e[3],l=e[4],h=e[5],p=e[6],d=e[7],y=e[8],v=e[9],g=e[10],m=e[11],b=A*A*a+o,w=P*A*a+k*i,x=k*A*a-P*i,S=A*P*a-k*i,O=P*P*a+o,_=k*P*a+A*i,R=A*k*a+P*i,E=P*k*a-A*i,j=k*k*a+o,t[0]=u*b+l*w+y*x,t[1]=s*b+h*w+v*x,t[2]=c*b+p*w+g*x,t[3]=f*b+d*w+m*x,t[4]=u*S+l*O+y*_,t[5]=s*S+h*O+v*_,t[6]=c*S+p*O+g*_,t[7]=f*S+d*O+m*_,t[8]=u*R+l*E+y*j,t[9]=s*R+h*E+v*j,t[10]=c*R+p*E+g*j,t[11]=f*R+d*E+m*j,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Dt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+f*r,t[6]=u*i+l*r,t[7]=s*i+h*r,t[8]=c*i-o*r,t[9]=f*i-a*r,t[10]=l*i-u*r,t[11]=h*i-s*r,t}function Lt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-f*r,t[2]=u*i-l*r,t[3]=s*i-h*r,t[8]=o*r+c*i,t[9]=a*r+f*i,t[10]=u*r+l*i,t[11]=s*r+h*i,t}function Ft(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+f*r,t[2]=u*i+l*r,t[3]=s*i+h*r,t[4]=c*i-o*r,t[5]=f*i-a*r,t[6]=l*i-u*r,t[7]=h*i-s*r,t}function Bt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Gt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ut(t,e,n){var r,i,o,a=n[0],u=n[1],s=n[2],c=Math.hypot(a,u,s);return c<wt?null:(a*=c=1/c,u*=c,s*=c,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=u*a*o+s*r,t[2]=s*a*o-u*r,t[3]=0,t[4]=a*u*o-s*r,t[5]=u*u*o+i,t[6]=s*u*o+a*r,t[7]=0,t[8]=a*s*o+u*r,t[9]=u*s*o-a*r,t[10]=s*s*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Nt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Xt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Vt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=r+r,s=i+i,c=o+o,f=r*u,l=r*s,h=r*c,p=i*s,d=i*c,y=o*c,v=a*u,g=a*s,m=a*c;return t[0]=1-(p+y),t[1]=l+m,t[2]=h-g,t[3]=0,t[4]=l-m,t[5]=1-(f+y),t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-(f+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Yt(t,e){var n=new xt(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=r*r+i*i+o*o+a*a;return l>0?(n[0]=2*(u*a+f*r+s*o-c*i)/l,n[1]=2*(s*a+f*i+c*r-u*o)/l,n[2]=2*(c*a+f*o+u*i-s*r)/l):(n[0]=2*(u*a+f*r+s*o-c*i),n[1]=2*(s*a+f*i+c*r-u*o),n[2]=2*(c*a+f*o+u*i-s*r)),Vt(t,e,n),t}function zt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function qt(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,u),t[2]=Math.hypot(s,c,f),t}function Kt(t,e){var n=new xt(3);qt(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,u=e[1]*i,s=e[2]*o,c=e[4]*r,f=e[5]*i,l=e[6]*o,h=e[8]*r,p=e[9]*i,d=e[10]*o,y=a+f+d,v=0;return y>0?(v=2*Math.sqrt(y+1),t[3]=.25*v,t[0]=(l-p)/v,t[1]=(h-s)/v,t[2]=(u-c)/v):a>f&&a>d?(v=2*Math.sqrt(1+a-f-d),t[3]=(l-p)/v,t[0]=.25*v,t[1]=(u+c)/v,t[2]=(h+s)/v):f>d?(v=2*Math.sqrt(1+f-a-d),t[3]=(h-s)/v,t[0]=(u+c)/v,t[1]=.25*v,t[2]=(l+p)/v):(v=2*Math.sqrt(1+d-a-f),t[3]=(u-c)/v,t[0]=(h+s)/v,t[1]=(l+p)/v,t[2]=.25*v),t}function $t(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=e[3],s=i+i,c=o+o,f=a+a,l=i*s,h=i*c,p=i*f,d=o*c,y=o*f,v=a*f,g=u*s,m=u*c,b=u*f,w=r[0],x=r[1],S=r[2];return t[0]=(1-(d+v))*w,t[1]=(h+b)*w,t[2]=(p-m)*w,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(l+v))*x,t[6]=(y+g)*x,t[7]=0,t[8]=(p+m)*S,t[9]=(y-g)*S,t[10]=(1-(l+d))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Qt(t,e,n,r,i){var o=e[0],a=e[1],u=e[2],s=e[3],c=o+o,f=a+a,l=u+u,h=o*c,p=o*f,d=o*l,y=a*f,v=a*l,g=u*l,m=s*c,b=s*f,w=s*l,x=r[0],S=r[1],O=r[2],_=i[0],R=i[1],E=i[2],j=(1-(y+g))*x,A=(p+w)*x,P=(d-b)*x,k=(p-w)*S,M=(1-(h+g))*S,T=(v+m)*S,C=(d+b)*O,I=(v-m)*O,H=(1-(h+y))*O;return t[0]=j,t[1]=A,t[2]=P,t[3]=0,t[4]=k,t[5]=M,t[6]=T,t[7]=0,t[8]=C,t[9]=I,t[10]=H,t[11]=0,t[12]=n[0]+_-(j*_+k*R+C*E),t[13]=n[1]+R-(A*_+M*R+I*E),t[14]=n[2]+E-(P*_+T*R+H*E),t[15]=1,t}function Jt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,s=i+i,c=n*a,f=r*a,l=r*u,h=i*a,p=i*u,d=i*s,y=o*a,v=o*u,g=o*s;return t[0]=1-l-d,t[1]=f+g,t[2]=h-v,t[3]=0,t[4]=f-g,t[5]=1-c-d,t[6]=p+y,t[7]=0,t[8]=h+v,t[9]=p-y,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Zt(t,e,n,r,i,o,a){var u=1/(n-e),s=1/(i-r),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*s,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function te(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function ee(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*s*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function ne(t,e,n,r,i,o,a){var u=1/(e-n),s=1/(r-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*s,t[14]=(a+o)*c,t[15]=1,t}function re(t,e,n,r){var i,o,a,u,s,c,f,l,h,p,d=e[0],y=e[1],v=e[2],g=r[0],m=r[1],b=r[2],w=n[0],x=n[1],S=n[2];return Math.abs(d-w)<wt&&Math.abs(y-x)<wt&&Math.abs(v-S)<wt?jt(t):(f=d-w,l=y-x,h=v-S,i=m*(h*=p=1/Math.hypot(f,l,h))-b*(l*=p),o=b*(f*=p)-g*h,a=g*l-m*f,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),u=l*a-h*o,s=h*i-f*a,c=f*o-l*i,(p=Math.hypot(u,s,c))?(u*=p=1/p,s*=p,c*=p):(u=0,s=0,c=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*d+o*y+a*v),t[13]=-(u*d+s*y+c*v),t[14]=-(f*d+l*y+h*v),t[15]=1,t)}function ie(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=r[0],s=r[1],c=r[2],f=i-n[0],l=o-n[1],h=a-n[2],p=f*f+l*l+h*h;p>0&&(f*=p=1/Math.sqrt(p),l*=p,h*=p);var d=s*h-c*l,y=c*f-u*h,v=u*l-s*f;return(p=d*d+y*y+v*v)>0&&(d*=p=1/Math.sqrt(p),y*=p,v*=p),t[0]=d,t[1]=y,t[2]=v,t[3]=0,t[4]=l*v-h*y,t[5]=h*d-f*v,t[6]=f*y-l*d,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function oe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function ae(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function ue(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function se(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function ce(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function fe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function le(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function he(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],h=t[10],p=t[11],d=t[12],y=t[13],v=t[14],g=t[15],m=e[0],b=e[1],w=e[2],x=e[3],S=e[4],O=e[5],_=e[6],R=e[7],E=e[8],j=e[9],A=e[10],P=e[11],k=e[12],M=e[13],T=e[14],C=e[15];return Math.abs(n-m)<=wt*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-b)<=wt*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-w)<=wt*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=wt*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-S)<=wt*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(u-O)<=wt*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(s-_)<=wt*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-R)<=wt*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-E)<=wt*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-j)<=wt*Math.max(1,Math.abs(l),Math.abs(j))&&Math.abs(h-A)<=wt*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(p-P)<=wt*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(d-k)<=wt*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(y-M)<=wt*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(v-T)<=wt*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(g-C)<=wt*Math.max(1,Math.abs(g),Math.abs(C))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var pe=Tt,de=se,ye=n(146);function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ge=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureFactory=void 0,this.gl=void 0,this.program=void 0,this.positionBuffer=void 0,this.textureBuffer=void 0,this.positionCoordsAttr=void 0,this.texCoordsAttr=void 0,this.modelMatrixUniform=void 0,this.projectionMatrixUniform=void 0,this.textureMatrixUniform=void 0,this.textureUniform=void 0,this.alphaUniform=void 0,this.projectionMatrix=void 0,this.modelMatrix=void 0,this.textureMatrix=void 0,this.texcache=new Map,this.gl=e.getContext("webgl2"),this.textureFactory=i,this.program=n.create(this.gl,"#version 300 es\nprecision mediump float;\n\nin vec2 positionCoords;\nin vec2 textureCoords;\n\nout vec2 texCoords;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 textureMatrix;\n\nvoid main()\n{\n    gl_Position = projectionMatrix * modelMatrix * vec4(positionCoords, 0, 1);\n    texCoords = (textureMatrix * vec4(textureCoords, 0, 1)).xy;\n}","#version 300 es\nprecision mediump float;\n\nout vec4 fragColor;\n\nin vec2 texCoords;\n\nuniform sampler2D texImage;\nuniform float alpha;\n\nvoid main()\n{\n    vec4 texColor = texture(texImage, texCoords);\n    if(texColor.a < 0.0001)\n        discard;\n    fragColor = vec4(texColor.rgb, alpha);\n}"),this.positionBuffer=this.gl.createBuffer(),this.textureBuffer=this.gl.createBuffer(),this.positionCoordsAttr=this.gl.getAttribLocation(this.program,"positionCoords"),this.texCoordsAttr=this.gl.getAttribLocation(this.program,"textureCoords"),this.modelMatrixUniform=this.gl.getUniformLocation(this.program,"modelMatrix"),this.projectionMatrixUniform=this.gl.getUniformLocation(this.program,"projectionMatrix"),this.textureMatrixUniform=this.gl.getUniformLocation(this.program,"textureMatrix"),this.textureUniform=this.gl.getUniformLocation(this.program,"texImage"),this.alphaUniform=this.gl.getUniformLocation(this.program,"alpha"),this.projectionMatrix=r.create(),r.ortho(this.projectionMatrix,-e.width/2,e.width/2,-e.height/2,e.height/2,-1,1),this.gl.useProgram(this.program),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,1,0,0,1,0]),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(this.positionCoordsAttr),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.positionCoordsAttr,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.texCoordsAttr),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.vertexAttribPointer(this.texCoordsAttr,2,this.gl.FLOAT,!1,0,0)}var e,n,i;return e=t,(n=[{key:"renderImage",value:function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],l=Object(ye.sha256)(t.src);!1===this.texcache.has(l)&&this.texcache.set(l,this.textureFactory.createFromImage(this.gl,t,f));var h=this.texcache.get(l);this.modelMatrix=r.create(),r.translate(this.modelMatrix,this.modelMatrix,[e.x,e.y,0]),r.scale(this.modelMatrix,this.modelMatrix,[n*(u?-1:1),i*(s?-1:1),0]),r.rotateZ(this.modelMatrix,this.modelMatrix,a*(Math.PI/180)),this.textureMatrix=r.create(),null!==o&&(r.translate(this.textureMatrix,this.textureMatrix,[o.x/t.naturalWidth,o.y/t.naturalHeight,0]),r.scale(this.textureMatrix,this.textureMatrix,[o.width/t.naturalWidth,o.height/t.naturalHeight,0])),this.gl.uniformMatrix4fv(this.projectionMatrixUniform,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(this.modelMatrixUniform,!1,this.modelMatrix),this.gl.uniformMatrix4fv(this.textureMatrixUniform,!1,this.textureMatrix),c<1?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this.gl.bindTexture(this.gl.TEXTURE_2D,h),this.gl.uniform1i(this.textureUniform,0),this.gl.uniform1f(this.alphaUniform,c),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}}])&&ve(e.prototype,n),i&&ve(e,i),t}();n(206);function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var be=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.shaderLoader=void 0,this.shaderLoader=e}var e,n,r;return e=t,(n=[{key:"create",value:function(t,e,n){var r=t.createProgram(),i=this.shaderLoader.load(t,t.VERTEX_SHADER,e),o=this.shaderLoader.load(t,t.FRAGMENT_SHADER,n);return this.link(t,r,i,o),r}},{key:"link",value:function(t,e,n,r){t.attachShader(e,n),t.attachShader(e,r),t.linkProgram(e);var i=t.LINK_STATUS;if(!t.getProgramParameter(e,i)){var o=t.getProgramInfoLog(e);throw t.deleteProgram(e),new Error("Unable to initialize the Program: ".concat(o))}}}])&&me(e.prototype,n),r&&me(e,r),t}();function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"load",value:function(t,e,n){var r=t.createShader(e);t.shaderSource(r,n),t.compileShader(r);var i=t.COMPILE_STATUS;if(!t.getShaderParameter(r,i)){var o=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("Unable to initialize the shader program: ".concat(o))}return r}}])&&we(e.prototype,n),r&&we(e,r),t}();function Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Oe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"createFromImage",value:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.createTexture();return e.naturalWidth?this.create(t,e,i,r):e.addEventListener("load",(function(){return n.create(t,e,i,r)})),i}},{key:"create",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),!1===r?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR))}}])&&Se(e.prototype,n),r&&Se(e,r),t}();n(141),n(100);function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Re=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=void 0,this.gl=void 0,this.imageRenderer=void 0,this.renderPosition=new l(0,0),this.cacheRect=new X(0,0,0,0),this.canvas=e,this.gl=this.canvas.getContext("webgl2"),this.imageRenderer=n}var e,n,r;return e=t,(n=[{key:"clearCanvas",value:function(t){var e=this.hexToRgb(t);this.gl.clearColor(e.r,e.g,e.b,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}},{key:"hexToRgb",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16)/256,g:parseInt(e[2],16)/256,b:parseInt(e[3],16)/256}:null}},{key:"render",value:function(t,e,n){t.type===f.Image&&this.renderImage(t,!0===t.ui?n:e)}},{key:"renderImage",value:function(t,e){!1!==this.isInsideViewRect(t,e)&&(this.updateRenderPosition(t,e),this.imageRenderer.renderImage(t.image,this.renderPosition,t.width,t.height,t.slice,t.rotation,t.flipHorizontal,t.flipVertical,t.alpha,t.smooth))}},{key:"isInsideViewRect",value:function(t,e){return this.cacheRect.set(t.position.x-t.width/2,t.position.y+t.height/2,t.width,t.height),e.overlappingRectangle(this.cacheRect)}},{key:"updateRenderPosition",value:function(t,e){this.renderPosition.x=Number((t.position.x-e.x-e.width/2).toFixed(0)),this.renderPosition.y=Number((t.position.y-e.y+e.height/2).toFixed(0))}}])&&_e(e.prototype,n),r&&_e(e,r),t}();function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var je=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=null,this.renderManager=void 0,this.scenes={},this.currentScene=null,this.openingSceneName=null,this.currentSceneName=void 0,this.game=e,this.renderManager=n}var e,n,r;return e=t,(n=[{key:"getCurrentScene",value:function(){return this.currentScene}},{key:"addScene",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"==typeof this.scenes[t])throw new Error("There is already a scene with the name '".concat(t,"'"));this.scenes[t]=e,!0!==n&&null!==this.openingSceneName||(this.openingSceneName=t)}},{key:"loadOpeningScene",value:function(){this.loadScene(this.openingSceneName)}},{key:"loadScene",value:function(t){if(null===this.game)throw new Error("Game not initialized.");var e=this.game.running;e&&this.game.stopLoop(),this.unloadCurrentScene(),this.currentScene=this.scenes[t](),this.currentScene.name=t,this.currentScene.game=this.game,e&&this.game.resumeLoop()}},{key:"unloadCurrentScene",value:function(){null!==this.currentScene&&(this.currentScene.destroy(),this.currentScene=null,this.currentSceneName=null,this.renderManager.clearRenderStack())}}])&&Ee(e.prototype,n),r&&Ee(e,r),t}();n(209);function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Pe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.then=0,this._deltaTime=0}var e,n,r;return e=t,(n=[{key:"start",value:function(){this.then=Date.now()}},{key:"update",value:function(t){var e=.001*t;this._deltaTime=Math.min(.1,e-this.then),this.then=e}},{key:"deltaTime",get:function(){return this._deltaTime}}])&&Ae(e.prototype,n),r&&Ae(e,r),t}(),ke=function(t,e,n){t.add("ShaderLoader",(function(){return new xe})),t.add("ProgramFactory",(function(){return new be(t.getSingleton("ShaderLoader"))})),t.add("TextureFactory",(function(){return new Oe})),t.add("WebGLImageRenderer",(function(){return new ge(e,t.getSingleton("ProgramFactory"),t.getSingleton("TextureFactory"))})),t.add("GameRenderer",(function(){return new Re(e,t.getSingleton("WebGLImageRenderer"))})),t.add("UIRenderer",(function(){return new yt(n)})),t.add("RenderManager",(function(){return new bt(t.getSingleton("GameRenderer"),t.getSingleton("UIRenderer"))}))},Me=function(t,e){t.add("Mouse",(function(){return new pt(e)})),t.add("Keyboard",(function(){return new lt})),t.add("Gamepad",(function(){return new ut})),t.add("InputManager",(function(){return new ct(t.getSingleton("Mouse"),t.getSingleton("Keyboard"),t.getSingleton("Gamepad"))}))};function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instances=new Map,this.constructors=new Map}var e,n,r;return e=t,(n=[{key:"add",value:function(t,e){if(this.constructors.has(t))throw new Error("There is already an object constructor with the name ".concat(t));this.constructors.set(t,e)}},{key:"getSingleton",value:function(t){if(!1===this.constructors.has(t))throw new Error("Invalid object constructor name: ".concat(t));return!1===this.instances.has(t)&&this.instances.set(t,this.constructors.get(t)()),this.instances.get(t)}},{key:"getTranscient",value:function(t){if(!1===this.constructors.has(t))throw new Error("Invalid object constructor name: ".concat(t));return this.constructors.get(t)()}}])&&Te(e.prototype,n),r&&Te(e,r),t}();function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var De="mini-engine-update",Le=document.createElement("div"),Fe=document.createElement("canvas"),Be=document.createElement("canvas"),Ge=new Ce,Ue=function(){function t(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Ie(this,t),this.canvasBGColor="#000000",this.sceneManager=void 0,this.renderManager=void 0,this.collisionManager=void 0,this.timeManager=void 0,this.gameContainer=void 0,this.gameWidth=void 0,this.gameHeight=void 0,this.UIEnabled=!0,this._running=!1,this.frameRequestId=null,this.gameContainer=e,this.gameWidth=n,this.gameHeight=r,this.UIEnabled=i,this.setupHTMLDom(),this.setupManagers()}var e,n,r;return e=t,(n=[{key:"setupHTMLDom",value:function(){Le.id="miniEngineGame",Le.style.position="relative",Le.style.width="".concat(this.gameWidth,"px"),Le.style.height="".concat(this.gameHeight,"px"),Le.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.gameContainer.appendChild(Le),Fe.id="miniEngineGameCanvas",Fe.width=Math.floor(this.gameWidth),Fe.height=Math.floor(this.gameHeight),Fe.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.UIEnabled&&(Be.id="miniEngineUICanvas",Be.style.position="absolute",Be.style.zIndex="10",Be.width=Math.floor(this.gameWidth),Be.height=Math.floor(this.gameHeight),Be.addEventListener("contextmenu",(function(t){return t.preventDefault()})),Le.appendChild(Be)),Le.appendChild(Fe)}},{key:"setupManagers",value:function(){var t,e,n;e=this,n=Le,ke(t=Ge,Fe,Be),Me(t,n),t.add("SceneManager",(function(){return new je(e,t.getSingleton("RenderManager"))})),t.add("CollisionManager",(function(){return new Z(t.getSingleton("RenderManager"))})),t.add("GameObjectManager",(function(){return new et})),t.add("AssetManager",(function(){return new s})),t.add("TimeManager",(function(){return new Pe})),this.renderManager=Ge.getSingleton("RenderManager"),this.sceneManager=Ge.getSingleton("SceneManager"),this.collisionManager=Ge.getSingleton("CollisionManager"),this.timeManager=Ge.getSingleton("TimeManager")}},{key:"addScene",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.sceneManager.addScene(t,e,n)}},{key:"run",value:function(){this.sceneManager.loadOpeningScene(),this.timeManager.start(),this.requestAnimationFrame()}},{key:"stop",value:function(){var t=this;this.stopLoop(),setTimeout((function(){t.sceneManager.unloadCurrentScene(),t.renderManager.clearCanvas(t.canvasBGColor)}),100)}},{key:"gameLoop",value:function(t){this._running=!0,this.timeManager.update(t),this.renderManager.clearCanvas(this.canvasBGColor),this.collisionManager.prepare(),this.dispatchFrameEvent(De),this.renderManager.render(),this.requestAnimationFrame()}},{key:"stopLoop",value:function(){window.cancelAnimationFrame(this.frameRequestId),this._running=!1,this.frameRequestId=null}},{key:"resumeLoop",value:function(){0==this._running&&null===this.frameRequestId&&this.requestAnimationFrame()}},{key:"requestAnimationFrame",value:function(){var t=this;this.frameRequestId=window.requestAnimationFrame((function(e){return t.gameLoop(e)}))}},{key:"dispatchFrameEvent",value:function(t){window.dispatchEvent(new CustomEvent(t))}},{key:"running",get:function(){return this._running}}])&&He(e.prototype,n),r&&He(e,r),t}();function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t){return function(t){if(Array.isArray(t))return We(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return We(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$e(t);if(e){var i=$e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(t,e){return!e||"object"!==Ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qe=["Default"],Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(o,t);var e,n,r,i=qe(o);function o(){var t;Ve(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n)))._vpHalfWidth=0,t._vpHalfHeight=0,t._viewportRect=new X(0,0,0,0),t._worldSpaceRect=new X(0,0,0,0),t._renderLayers=Qe,t.renderManager=Ge.getSingleton("RenderManager"),t}return e=o,(n=[{key:"start",value:function(){this.setupViewportRect()}},{key:"setupViewportRect",value:function(){this._viewportRect.setPosition(-Fe.clientWidth/2,Fe.clientHeight/2),this._viewportRect.width=Fe.clientWidth,this._viewportRect.height=Fe.clientHeight,this._vpHalfWidth=this._viewportRect.width/2,this._vpHalfHeight=this._viewportRect.height/2}},{key:"update",value:function(){this.updateWorldSpaceRect(),this.renderManager.renderLayers=this._renderLayers,this.renderManager.viewportRect=this._viewportRect,this.renderManager.worldSpaceViewRect=this._worldSpaceRect}},{key:"updateWorldSpaceRect",value:function(){var t=this.gameObject.transform.position;this._worldSpaceRect.x=t.x-this._vpHalfWidth,this._worldSpaceRect.y=t.y+this._vpHalfHeight,this._worldSpaceRect.width=this._viewportRect.width,this._worldSpaceRect.height=this._viewportRect.height}},{key:"addLayerToRender",value:function(t){this._renderLayers.push(t)}},{key:"renderLayers",set:function(t){this._renderLayers=[].concat(Qe,Xe(t))},get:function(){return this._renderLayers}},{key:"worldSpaceRect",get:function(){return this._worldSpaceRect}},{key:"viewportRect",get:function(){return this._viewportRect}}])&&Ye(e.prototype,n),r&&Ye(e,r),o}(M);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=on(t);if(e){var i=on(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rn(this,n)}}function rn(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(o,t);var e,n,r,i=nn(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).transform.position.x=0,t.transform.position.y=0,t.addComponent((function(){return new Je}),"Camera"),t}return e=o,(n=[{key:"camera",get:function(){return this.getComponent("Camera")}}])&&tn(e.prototype,n),r&&tn(e,r),o}(U);function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var sn=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=null,this.name=null,this.gameObjectManager=Ge.getSingleton("GameObjectManager"),this.firstFrame=!0,this.gameLoopEventHandler=function(){!0===e.firstFrame?(e.start(),e.firstFrame=!1):e.update()},window.addEventListener(De,this.gameLoopEventHandler),this.addGameObject((function(){return new an}),"GameCamera"),this.gameLoopEventHandler.bind(this)}var e,n,r;return e=t,(n=[{key:"start",value:function(){}},{key:"update",value:function(){}},{key:"addGameObject",value:function(t,e){return this.gameObjectManager.addGameObject(t,e),this}},{key:"getRootGameObjects",value:function(){return this.gameObjectManager.getGameObjects().filter((function(t){return null===t.parent}))}},{key:"findGameObjectByName",value:function(t){return this.gameObjectManager.findGameObjectByName(t)}},{key:"findGameObjectsByTag",value:function(t){return this.gameObjectManager.findGameObjectsByTag(t)}},{key:"findGameObjectByTag",value:function(t){return this.gameObjectManager.findGameObjectByTag(t)}},{key:"destroyAllGameObjects",value:function(){this.gameObjectManager.destroyAllGameObjects()}},{key:"destroyGameObjectByName",value:function(t){this.destroyGameObject(this.findGameObjectByName(t))}},{key:"destroyGameObject",value:function(t){this.gameObjectManager.destroyGameObject(t)}},{key:"destroy",value:function(){var t=this;window.removeEventListener(De,this.gameLoopEventHandler),this.gameObjectManager.destroyAllGameObjects(),Object.keys(this).forEach((function(e){return delete t[e]}))}},{key:"gameCamera",get:function(){return this.findGameObjectByName("GameCamera")}}])&&un(e.prototype,n),r&&un(e,r),t}();function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dn(t);if(e){var i=dn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(t,e){return!e||"object"!==cn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(n,t);var e=hn(n);function n(){var t;fn(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).type=f.Image,t.image=null,t.width=0,t.height=0,t.slice=null,t.flipHorizontal=!1,t.flipVertical=!1,t.rotation=null,t.smooth=!0,t.alpha=1,t}return n}(p);function vn(t){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xn(t);if(e){var i=xn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(t,e){return!e||"object"!==vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sn,On=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(o,t);var e,n,r,i=bn(o);function o(t){var e,n,r,a,u,s,c,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(f=i.call(this)).sprite=null,f.offsetX=0,f.offsetY=0,f.flipHorizontal=!1,f.flipVertical=!1,f.rotation=0,f.smooth=!0,f.opacity=1,f.renderManager=Ge.getSingleton("RenderManager"),f.renderData=new yn,f.goPosition=null,f.sprite=t.sprite,f.offsetX=null!==(e=t.offsetX)&&void 0!==e?e:f.offsetX,f.offsetY=null!==(n=t.offsetY)&&void 0!==n?n:f.offsetY,f.smooth=null!==(r=t.smooth)&&void 0!==r?r:f.smooth,f.rotation=null!==(a=t.rotation)&&void 0!==a?a:f.rotation,f.flipHorizontal=null!==(u=t.flipHorizontal)&&void 0!==u?u:f.flipHorizontal,f.flipVertical=null!==(s=t.flipVertical)&&void 0!==s?s:f.flipVertical,f.opacity=null!==(c=t.opacity)&&void 0!==c?c:f.opacity,f}return e=o,(n=[{key:"start",value:function(){this.goPosition=this.gameObject.transform.position,this.update()}},{key:"update",value:function(){!0===this.sprite.loaded&&(this.renderData.ui=this.gameObject.ui,this.renderData.layer=this.gameObject.layer,this.renderData.image=this.sprite.image,this.renderData.width=this.sprite.width*this.gameObject.transform.scale.x,this.renderData.height=this.sprite.height*this.gameObject.transform.scale.y,this.renderData.slice=this.sprite.slice,this.renderData.flipHorizontal=this.flipHorizontal,this.renderData.flipVertical=this.flipVertical,this.renderData.rotation=this.gameObject.transform.rotation+this.rotation,this.renderData.smooth=this.sprite.smooth,this.renderData.alpha=this.opacity,this.calculateRenderPosition(),this.renderManager.addToRenderStack(this.renderData))}},{key:"calculateRenderPosition",value:function(){this.renderData.position.x=this.gameObject.transform.position.x+this.offsetX,this.renderData.position.y=this.gameObject.transform.position.y+this.offsetY,this.gameObject.transform.rotation&&this.translateRenderPosition()}},{key:"translateRenderPosition",value:function(){var t=this.gameObject.transform.rotation*Math.PI/180,e=Math.hypot(this.renderData.position.x-this.goPosition.x,this.renderData.position.y-this.goPosition.y);this.renderData.position.x=this.goPosition.x+e*Math.cos(t),this.renderData.position.y=this.goPosition.y-e*Math.sin(t)}}])&&gn(e.prototype,n),r&&gn(e,r),o}(M);function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t){t[t.Rectangle=0]="Rectangle",t[t.Circle=1]="Circle",t[t.Polygon=2]="Polygon"}(Sn||(Sn={}));var Rn=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=Sn.Rectangle,this.gameObject=void 0,this.points=[new l(0,0),new l(0,0),new l(0,0),new l(0,0)],this._coordinates=new l(0,0),this._width=0,this._height=0,this._coordinates.set(e.x,e.y),this._width=n,this._height=r,this.gameObject=i,this.updatePoints()}var e,n,r;return e=t,(n=[{key:"hasCollision",value:function(t){switch(t.type){case Sn.Rectangle:return this.topRightPoint.x>=t.topLeftPoint.x&&this.topLeftPoint.x<=t.topRightPoint.x&&this.bottomLeftPoint.y<=t.topLeftPoint.y&&this.topLeftPoint.y>=t.bottomLeftPoint.y;case Sn.Polygon:case Sn.Circle:return!1}}},{key:"updatePoints",value:function(){this.points[0].set(this._coordinates.x,this._coordinates.y),this.points[1].set(this._coordinates.x+this._width,this._coordinates.y),this.points[2].set(this._coordinates.x+this._width,this._coordinates.y-this._height),this.points[3].set(this._coordinates.x,this._coordinates.y-this._height)}},{key:"coordinates",set:function(t){this._coordinates.set(t.x,t.y),this.updatePoints()},get:function(){return this._coordinates}},{key:"width",set:function(t){this._width=t,this.updatePoints()},get:function(){return this._width}},{key:"height",set:function(t){this._height=t,this.updatePoints()},get:function(){return this._height}},{key:"bottomLeftPoint",get:function(){return this.points[3]}},{key:"bottomRightPoint",get:function(){return this.points[2]}},{key:"topLeftPoint",get:function(){return this.points[0]}},{key:"topRightPoint",get:function(){return this.points[1]}}])&&_n(e.prototype,n),r&&_n(e,r),t}();n(142),n(210);function En(t){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return An(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function An(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e,n){return(Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Tn(t,e){return(Tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hn(t);if(e){var i=Hn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return In(this,n)}}function In(t,e){return!e||"object"!==En(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(o,t);var e,n,r,i=Cn(o);function o(){var t;Pn(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).collisionManager=Ge.getSingleton("CollisionManager"),t.colliders=[],t}return e=o,(n=[{key:"addCollider",value:function(t){this.colliders.push(t),this.collisionManager.addCollider(t)}},{key:"collidesWithLayer",value:function(t){return null!==this.getCollisionWithLayer(t)}},{key:"getCollisionWithLayer",value:function(t){this.updateCoordinates();var e,n=jn(this.colliders);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=jn(this.collisionManager.getCollisionsForCollider(i));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.gameObject.layer===t)return a}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"setActive",value:function(t){var e=this;!0===t&&!1===this.active?this.colliders.forEach((function(t){return e.collisionManager.addCollider(t)})):!1===t&&!0===this.active&&this.colliders.forEach((function(t){return e.collisionManager.removeCollider(t)})),Mn(Hn(o.prototype),"setActive",this).call(this,t)}},{key:"destroy",value:function(){var t=this;this.colliders.forEach((function(e){return t.collisionManager.removeCollider(e)})),Mn(Hn(o.prototype),"destroy",this).call(this)}}])&&kn(e.prototype,n),r&&kn(e,r),o}(M);function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bn(t,e){return(Bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var i=Nn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(t,e){return!e||"object"!==Ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bn(t,e)}(o,t);var e,n,r,i=Gn(o);function o(t){var e,n=t.width,r=t.height,a=t.offsetX,u=void 0===a?0:a,s=t.offsetY,c=void 0===s?0:s,f=t.debug,l=void 0!==f&&f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).renderManager=Ge.getSingleton("RenderManager"),e.debug=!1,e.width=void 0,e.height=void 0,e.offsetX=void 0,e.offsetY=void 0,e.renderData=new w,e.width=n,e.height=r,e.offsetX=u,e.offsetY=c,e.debug=l,e}return e=o,(n=[{key:"start",value:function(){this.addCollider(new Rn(new l(this.gameObject.transform.position.x-Math.floor(this.width/2)-this.offsetX,this.gameObject.transform.position.y+Math.floor(this.height/2)-this.offsetY),this.width,this.height,this.gameObject))}},{key:"update",value:function(){this.updateCoordinates(),this.debug&&(this.updateRenderData(),this.renderManager.addToRenderStack(this.renderData))}},{key:"updateCoordinates",value:function(){this.colliders[0].coordinates=new l(this.gameObject.transform.position.x-Math.floor(this.width/2)-this.offsetX,this.gameObject.transform.position.y+Math.floor(this.height/2)-this.offsetY)}},{key:"updateRenderData",value:function(){this.renderData.position=this.colliders[0].coordinates,this.renderData.layer="Default",this.renderData.geometric=this.colliders[0],this.renderData.geometricType="Rectangle",this.renderData.color="#00FF00"}}])&&Fn(e.prototype,n),r&&Fn(e,r),o}(Dn);function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vn=function(){function t(e){var n=this,r=e.image,i=e.slice,o=e.scale,a=e.smooth;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=null,this.width=null,this.height=null,this.slice=null,this.scale=null,this.smooth=!0,this._loaded=!1,this.image=r,this.slice=i||this.slice,this.slice&&(this.width=this.slice.width,this.height=this.slice.height),this.scale=o||this.scale,this.smooth=void 0!==a?a:this.smooth,this.image.naturalWidth?this.onLoad():this.image.addEventListener("load",(function(){return n.onLoad()}))}var e,n,r;return e=t,(n=[{key:"onLoad",value:function(){this.width=null===this.width?this.image.naturalWidth:this.width,this.height=null===this.height?this.image.naturalHeight:this.height,null!==this.scale&&(this.width*=this.scale.x,this.height*=this.scale.y),this._loaded=!0}},{key:"loaded",get:function(){return this._loaded}}])&&Wn(e.prototype,n),r&&Wn(e,r),t}();function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qn(t);if(e){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $n(this,n)}}function $n(t,e){return!e||"object"!==Yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qn(t){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(o,t);var e,n,r,i=Kn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).animations={},e.playingAnimationId=null,e.spriteRenderer=null,e.defaultSprite=null,e.spriteRenderer=t.spriteRenderer,e}return e=o,(n=[{key:"start",value:function(){this.defaultSprite=this.spriteRenderer.sprite}},{key:"update",value:function(){this.playingAnimationId&&!0===this.animations[this.playingAnimationId].playing?this.spriteRenderer.sprite=this.animations[this.playingAnimationId].currentSprite:this.playingAnimationId&&!1===this.animations[this.playingAnimationId].playing&&(this.playingAnimationId=null,this.spriteRenderer.sprite=this.defaultSprite),null===this.playingAnimationId&&(this.defaultSprite=this.spriteRenderer.sprite)}},{key:"addAnimation",value:function(t,e){return this.animations[t]=e,this}},{key:"playAnimation",value:function(t){!1!==this.active&&this.playingAnimationId!=t&&void 0!==this.animations[t]&&(this.stopAnimation(),this.playingAnimationId=t,this.animations[t].play())}},{key:"stopAnimation",value:function(){!1!==this.active&&null!==this.playingAnimationId&&this.animations[this.playingAnimationId].stop()}},{key:"setCurrentAniamtionSpeed",value:function(t){null!=this.playingAnimationId&&(this.animations[this.playingAnimationId].speed=t)}},{key:"setAnimationSpeed",value:function(t,e){void 0!==this.animations[t]&&(this.animations[t].speed=e)}}])&&zn(e.prototype,n),r&&zn(e,r),o}(M);n(211),n(212),n(213),n(219);function Zn(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var er=function(){function t(e){var n=e.sprites,r=e.speed,i=e.loop;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sprites=[],this._playing=!1,this.currentFrame=1,this.currentInterval=null,this.speed=1,this.loop=!1,this.currentSprite=null,this.sprites=n||this.sprites,this.speed=void 0!==r?r:this.speed,this.loop=void 0!==i?i:this.loop,this.currentFrame=1,this.currentSprite=null}var e,n,r,i,o;return e=t,(n=[{key:"play",value:function(){this.sprites.length>0&&!1===this._playing&&(this._playing=!0,this.currentFrame=1,this.currentSprite=this.sprites[this.currentFrame-1],this.update())}},{key:"update",value:(i=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==this._playing||!this.loop&&this.sprites.length===this.currentFrame){t.next=5;break}return t.next=3,new Promise((function(t){e.currentInterval=setTimeout((function(){e.currentFrame=e.sprites.length===e.currentFrame?1:e.currentFrame+1,e.currentSprite=e.sprites[e.currentFrame-1],t()}),Math.floor(1e3/(24*e.speed)))}));case 3:t.next=0;break;case 5:this._playing=!1;case 6:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Zn(o,n,r,a,u,"next",t)}function u(t){Zn(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"stop",value:function(){this._playing=!1,clearInterval(this.currentInterval)}},{key:"playing",get:function(){return this._playing}}])&&tr(e.prototype,n),r&&tr(e,r),t}();function nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(n),!0).forEach((function(e){ir(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var or=new Image;or.src="image/demo/player-top-down.png";var ar={image:or,scale:new l(2,2),smooth:!1},ur=new er({sprites:[new Vn(rr(rr({},ar),{},{slice:{x:32,y:0,width:32,height:32}})),new Vn(rr(rr({},ar),{},{slice:{x:64,y:0,width:32,height:32}})),new Vn(rr(rr({},ar),{},{slice:{x:96,y:0,width:32,height:32}})),new Vn(rr(rr({},ar),{},{slice:{x:128,y:0,width:32,height:32}})),new Vn(rr(rr({},ar),{},{slice:{x:160,y:0,width:32,height:32}})),new Vn(rr(rr({},ar),{},{slice:{x:0,y:0,width:32,height:32}}))],speed:.4,loop:!0});function sr(t){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dr(t);if(e){var i=dr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pr(this,n)}}function pr(t,e){return!e||"object"!==sr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dr(t){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(o,t);var e,n,r,i=hr(o);function o(){var t;cr(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).timeManager=Ge.getSingleton("TimeManager"),t.assetManager=Ge.getSingleton("AssetManager"),t.inputManager=null,t.transform=null,t.tilemap=null,t.animator=null,t.audioPlayer=null,t.collider=null,t.mousePosition=new l(0,0),t.walkSpeed=250,t.rotationSpeed=3,t.angle=0,t.walkingAnimation=!1,t.walkingSFX=!1,t}return e=o,(n=[{key:"start",value:function(){this.tilemap=this.findGameObjectByName("Foreground").getComponent("TilemapRenderer"),this.transform=this.getComponent("Transform"),this.animator=this.getComponent("Animator"),this.collider=this.getComponent("RectangleCollider"),this.inputManager=this.findGameObjectByName("InputManager"),this.audioPlayer=this.getComponent("AudioPlayer"),this.audioPlayer.audio=this.assetManager.getAudio("audio/footsteps.wav"),this.audioPlayer.loop=!0,this.audioPlayer.volume=.5}},{key:"update",value:function(){this.rotate(),this.walk()}},{key:"walk",value:function(){var t=this.inputManager.axis.y*this.walkSpeed*this.timeManager.deltaTime,e=this.inputManager.axis.x*this.walkSpeed*this.timeManager.deltaTime;t=(e=t?e/1.4:e)?t/1.4:t,this.transform.position.x+=e,0!==e&&this.isTouchingForeground()&&(this.transform.position.x-=e),this.transform.position.y+=t,0!==t&&this.isTouchingForeground()&&(this.transform.position.y-=t),(e||t)&&!1===this.walkingAnimation?(this.walkingAnimation=!0,this.animator.playAnimation("PlayerWalking"),this.audioPlayer.play()):e||t||!0!==this.walkingAnimation||(this.walkingAnimation=!1,this.animator.stopAnimation(),this.audioPlayer.stop())}},{key:"rotate",value:function(){this.angle=Math.atan2(this.inputManager.gunPointer.y-this.transform.position.y,this.inputManager.gunPointer.x-this.transform.position.x),this.transform.rotation=180*this.angle/Math.PI}},{key:"isTouchingForeground",value:function(){return this.collider.collidesWithLayer("Foreground")||this.collider.collidesWithLayer("Bot")}}])&&fr(e.prototype,n),r&&fr(e,r),o}(M),vr=["Bot","Foreground","Projectile","Player"];function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sr(t);if(e){var i=Sr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xr(this,n)}}function xr(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(o,t);var e,n,r,i=wr(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).assetManager=Ge.getSingleton("AssetManager"),e.shooted=!1,e.speed=15,e.deltaX=0,e.deltay=0,e.weapon=null,e.cachedParent=null,e.collider=null,e.innerPosX=24,e.innerPosY=3,e.transform.innerPosition.set(e.innerPosX,e.innerPosY),e.weapon=t,e.layer="Projectile",e.tag="Projectile",e.addComponent((function(){return new On({sprite:new Vn({image:e.assetManager.getImage("image/demo/projectile.png"),scale:new l(2,2),smooth:!1})})}),"SpriteRenderer"),e.addComponent((function(){return new Xn({width:2,height:2,debug:!1})}),"RectangleCollider"),e.collider=e.getComponent("RectangleCollider"),e}return e=o,(n=[{key:"update",value:function(){this.shooted&&(this.transform.position.x+=this.deltaX,this.transform.position.y+=this.deltaY,this.impact())}},{key:"fire",value:function(t){this.deltaX=Math.cos(t)*this.speed,this.deltaY=Math.sin(t)*this.speed,this.shooted=!0,this.cachedParent=this._parent,this.parent=null}},{key:"impact",value:function(){this.collider.collidesWithLayer("Foreground")&&this.returnToParent();var t=this.collider.getCollisionWithLayer("Bot");null!==t&&(t.gameObject.die(),this.returnToParent())}},{key:"returnToParent",value:function(){this.shooted=!1,this.transform.innerPosition.set(this.innerPosX,this.innerPosY),this.parent=this.cachedParent,this.weapon.restoreProjectile(this)}}])&&mr(e.prototype,n),r&&mr(e,r),o}(U);function _r(t){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jr(t,e){return(jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kr(t);if(e){var i=kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(t,e){return!e||"object"!==_r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)}(o,t);var e,n,r,i=Ar(o);function o(){var t;Rr(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).assetManager=Ge.getSingleton("AssetManager"),t.inputManager=null,t.audioPlayer=null,t.firePressed=!1,t.projectileAmount=20,t.projectiles=[],t}return e=o,(n=[{key:"start",value:function(){this.inputManager=this.findGameObjectByName("InputManager"),this.audioPlayer=this.getComponent("AudioPlayer"),this.setupProjectiles()}},{key:"setupProjectiles",value:function(){for(var t=this,e=0;e<this.projectileAmount;e++){var n="Projectile".concat(e);this.gameObject.addChild((function(){return new Or(t)}),n),this.gameObject.getChild(n).setActive(!1),this.projectiles.push(this.gameObject.getChild(n))}}},{key:"update",value:function(){this.fire()}},{key:"fire",value:function(){if(this.projectiles.length>0&&this.inputManager.fire&&!1===this.firePressed){var t=this.projectiles.pop();t.setActive(!0),t.fire(this.getComponent("Movements").angle),this.audioPlayer.playAudio(this.assetManager.getAudio("audio/gunshot.wav"),.2)}this.firePressed=this.inputManager.fire}},{key:"restoreProjectile",value:function(t){t.setActive(!1),this.projectiles.push(t)}}])&&Er(e.prototype,n),r&&Er(e,r),o}(M);function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hr(t,e){return(Hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fr(t);if(e){var i=Fr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lr(this,n)}}function Lr(t,e){return!e||"object"!==Tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fr(t){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Br=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","pointerup","touchend","keydown","keyup"],Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hr(t,e)}(o,t);var e,n,r,i=Dr(o);function o(){var t,e,n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(Cr(this,o),(t=i.call(this)).volume=1,t.loop=!1,t.audio=void 0,t.audioClone=null,t._playing=!1,t._paused=!1,t.audioEventHandler=function(e){"ended"===e.type&&(t._playing=!1,t.audio.removeEventListener("ended",t.audioEventHandler))},t.userinputEventHandler=function(){Br.forEach((function(e){window.removeEventListener(e,t.userinputEventHandler)})),t.audio.play()},null!==a)&&(t.audio=null!==(e=a.audio)&&void 0!==e?e:t.audio,t.volume=null!==(n=a.volume)&&void 0!==n?n:t.volume,t.loop=null!==(r=a.loop)&&void 0!==r?r:t.loop);return t}return e=o,(n=[{key:"playAudio",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.audioClone=t.cloneNode(),this.audioClone.volume=null!=e?e:this.volume,this.audioClone.play()}},{key:"play",value:function(){var t=this;null!==this.audio&&(this._playing&&!1===this._paused||(this._paused?this.audio.play():(this.audio.volume=this.volume,this.audio.loop=this.loop,this.audio.addEventListener("ended",this.audioEventHandler),this._playing=!0,this.audio.play().then((function(){})).catch((function(){return Br.forEach((function(e){return window.addEventListener(e,t.userinputEventHandler)}))})))))}},{key:"stop",value:function(){this._playing&&(this.audio.pause(),this.audio.currentTime=0,this.audio.removeEventListener("ended",this.audioEventHandler),this._playing=!1,this._paused=!1)}},{key:"pause",value:function(){this._playing&&!1===this._paused&&(this.audio.pause(),this._paused)}}])&&Ir(e.prototype,n),r&&Ir(e,r),o}(M);function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr(t);if(e){var i=Yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vr(this,n)}}function Vr(t,e){return!e||"object"!==Ur(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}(o,t);var e,n,r,i=Wr(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).assetManager=Ge.getSingleton("AssetManager"),t.tag="Player",t.layer="Player",t.transform.position.set(0,0),t.addComponent((function(){return new On({sprite:new Vn({image:t.assetManager.getImage("image/demo/player-top-down.png"),slice:new X(0,0,32,32),scale:new l(2,2),smooth:!1}),rotation:-90})}),"SpriteRenderer"),t.addComponent((function(){return new Jn({spriteRenderer:t.getComponent("SpriteRenderer")})}),"Animator"),t.getComponent("Animator").addAnimation("PlayerWalking",ur),t.addComponent((function(){return new yr}),"Movements"),t.addComponent((function(){return new Mr}),"Weapon"),t.addComponent((function(){return new Xn({width:32,height:32,debug:!1})}),"RectangleCollider"),t.addComponent((function(){return new Gr}),"AudioPlayer"),t}return e=o,(n=[{key:"createChild",value:function(){var t=this;this.addChild((function(){return new U}),"Child"),this.getChild("Child").transform.innerPosition.x=90,this.getChild("Child").addComponent((function(){return new On({sprite:new Vn({image:t.assetManager.getImage("image/demo/avatar.png"),scale:new l(2,2),smooth:!1}),rotation:-90})}),"SpriteRenderer2")}}])&&Nr(e.prototype,n),r&&Nr(e,r),o}(U);function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e){return(Qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ti(t);if(e){var i=ti(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zr(this,n)}}function Zr(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qr(t,e)}(o,t);var e,n,r,i=Jr(o);function o(){var t;Kr(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).player=null,t.foreground=null,t}return e=o,(n=[{key:"start",value:function(){this.player=this.gameObject.findGameObjectByTag("Player"),this.foreground=this.gameObject.findGameObjectByTag("Foreground")}},{key:"update",value:function(){var t=(this.foreground.width-Fe.width)/2;this.foreground.height,Fe.height,(t=t<0?Fe.width/2:t)<0&&Fe.height,this.gameObject.transform.position.x=this.player.transform.position.x,this.gameObject.transform.position.y=this.player.transform.position.y}},{key:"clamp",value:function(t,e,n){return Math.max(e,Math.min(t,n))}}])&&$r(e.prototype,n),r&&$r(e,r),o}(M);n(220),n(221),n(222),n(223);function ni(t){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oi(t,e){return(oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=si(t);if(e){var i=si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ui(this,n)}}function ui(t,e){return!e||"object"!==ni(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oi(t,e)}(o,t);var e,n,r,i=ai(o);function o(){var t;ri(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).tileset=null,t.tilemapData=void 0,t.tiledTilemap=void 0,t.tileScale=1,t.smooth=!0,t.tileWidth=0,t.tileHeight=0,t.renderManager=Ge.getSingleton("RenderManager"),t.tilemapProcessed=!1,t.tilesRenderData=[],t._width=0,t._height=0,t.tiles=[],t._realWidth=0,t._realHeight=0,t}return e=o,(n=[{key:"start",value:function(){this.tileWidth=this.tileset.tileWidth*this.tileScale,this.tileHeight=this.tileset.tileHeight*this.tileScale,this.update()}},{key:"update",value:function(){var t=this;this.tileset.loaded&&!1===this.tilemapProcessed&&(this.processTilemap(),this.updateTilesPosition()),this.tileset.loaded&&!0===this.tilemapProcessed&&this.tilesRenderData.forEach((function(e){return t.renderManager.addToRenderStack(e)}))}},{key:"processTile",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.createRenderData(t,e,n,r);this.updateSizeInfo(e+1,n+1),this.tilesRenderData.push(i)}},{key:"createRenderData",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=new yn;return i.position.x=this.gameObject.transform.position.x+e*this.tileWidth+this.tileWidth/2,i.position.y=this.gameObject.transform.position.y-n*this.tileHeight-this.tileHeight/2,i.ui=!1,i.image=this.tileset.image,i.layer=this.gameObject.layer,i.width=this.tileWidth,i.height=this.tileHeight,i.slice=t,i.smooth=this.smooth,i.alpha=r,i}},{key:"updateSizeInfo",value:function(t,e){this._width<t&&(this._width=t,this._realWidth+=this.tileWidth),this._height<e&&(this._height=e,this._realHeight+=this.tileHeight)}},{key:"updateTilesPosition",value:function(){var t=this;this.tilesRenderData.forEach((function(e){e.position.x-=Math.floor(t._realWidth/2),e.position.y+=Math.floor(t._realHeight/2),t.addTileData(e)}))}},{key:"addTileData",value:function(t){this.tiles.push(new X(t.position.x-t.width/2,t.position.y+t.height/2,t.width,t.height))}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"realWidth",get:function(){return this._realWidth}},{key:"realHeight",get:function(){return this._realHeight}},{key:"tilesData",get:function(){return this.tiles}}])&&ii(e.prototype,n),r&&ii(e,r),o}(M);function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hi(t,e){return(hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yi(t);if(e){var i=yi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return di(this,n)}}function di(t,e){return!e||"object"!==fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yi(t){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hi(t,e)}(o,t);var e,n,r,i=pi(o);function o(t){var e,n,r,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(a=i.call(this)).alpha=1,a.tileset=t.tileset,a.tilemapData=t.tilemapData,a.tileScale=null!==(e=t.tileScale)&&void 0!==e?e:a.tileScale,a.smooth=null!==(n=t.smooth)&&void 0!==n?n:a.smooth,a.alpha=null!==(r=t.alpha)&&void 0!==r?r:a.alpha,a}return e=o,(n=[{key:"processTilemap",value:function(){var t=this;this.tilemapData.trim().split("\n").forEach((function(e,n){var r=e.match(/.{1,5}/g);r&&r.forEach((function(e,r){var i=e.trim().replace("[","").replace("]",""),o=t.tileset.getTile(parseInt(i));null!==o&&t.processTile(o,r,n,t.alpha)}))})),this.tilemapProcessed=!0}}])&&li(e.prototype,n),r&&li(e,r),o}(ci);n(225);function gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var mi=function(){function t(e){var n=this,r=e.image,i=e.tileWidth,o=e.tileHeight,a=e.gridWidth,u=e.gridHeight,s=e.offset,c=e.tileOffset;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=null,this.offset=new l(0,0),this.gridWidth=0,this.gridHeight=0,this.tileWidth=0,this.tileHeight=0,this.tileOffset=new l(0,0),this._tiles=[],this._loaded=!1,this.image=r,this.tileWidth=i,this.tileHeight=o,this.gridWidth=a,this.gridHeight=u,this.offset=s||this.offset,this.tileOffset=c||this.tileOffset,this.image.naturalWidth?this.generateTiles():this.image.addEventListener("load",(function(){return n.generateTiles()}))}var e,n,r;return e=t,(n=[{key:"generateTiles",value:function(){for(var t=0,e=0;e<this.gridHeight;e++)for(var n=0;n<this.gridWidth;n++)this._tiles[t]=new X(n*this.tileWidth+this.offset.x+this.tileOffset.x,e*this.tileHeight-this.offset.y-this.tileOffset.y,this.tileWidth,this.tileHeight),t++;this._loaded=!0}},{key:"getTile",value:function(t){return this._tiles[t]?this._tiles[t]:null}},{key:"tiles",get:function(){return this._tiles}},{key:"loaded",get:function(){return this._loaded}}])&&gi(e.prototype,n),r&&gi(e,r),t}();function bi(t){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xi(t,e){return(xi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_i(t);if(e){var i=_i(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oi(this,n)}}function Oi(t,e){return!e||"object"!==bi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _i(t){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xi(t,e)}(o,t);var e,n,r,i=Si(o);function o(t){var e,n=t.tilesData,r=t.debug,a=void 0!==r&&r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).renderManager=Ge.getSingleton("RenderManager"),e.debug=!1,e.tilesData=[],e.renderData=[],e.tilesData=n,e.debug=a,e}return e=o,(n=[{key:"start",value:function(){var t=this;this.tilesData.forEach((function(e){t.addCollider(new Rn(new l(e.x,e.y),e.width,e.height,t.gameObject)),t.renderData.push(new w)}))}},{key:"update",value:function(){var t=this;this.colliders.forEach((function(e,n){t.debug&&(t.updateRenderData(t.renderData[n],e),t.renderManager.addToRenderStack(t.renderData[n]))}))}},{key:"updateRenderData",value:function(t,e){t.position=e.coordinates,t.layer="Default",t.geometric=e,t.geometricType="Rectangle",t.color="#00FF00"}},{key:"updateCoordinates",value:function(){}}])&&wi(e.prototype,n),r&&wi(e,r),o}(Dn);function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ai(t,e){return(Ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mi(t);if(e){var i=Mi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(t,e){return!e||"object"!==Ei(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ai(t,e)}(o,t);var e,n,r,i=Pi(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).assetManager=Ge.getSingleton("AssetManager"),t.width=0,t.height=0,t.tilemapRenderer=null,t.tag="Foreground",t.layer="Foreground",t.addComponent((function(){return new vi({tileset:new mi({image:t.assetManager.getImage("image/demo/earth-cave.png"),tileWidth:16,tileHeight:16,gridWidth:11,gridHeight:10}),tilemapData:"\n[001][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][002][072]\n[008][082][035][035][035][035][035][035][035][035][035][035][035][023][082][035][035][023][082][035][035][035][035][035][035][035][035][035][035][035][023][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][009]                                                       [034][083]          [034][083]                                                       [008][009]\n[008][009]                    [001][002][072]                                                                     [001][002][072]                     [008][009]  \n[008][009]                    [034][035][083]                                                                     [034][035][083]                     [008][009]\n[008][009]                                                       [001][072]          [001][072]                                                       [008][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][086][002][002][002][072]               [001][002][002][002][085][009]          [008][086][002][002][002][072]               [001][002][002][002][085][009]\n[008][082][035][035][035][083]               [034][035][035][035][035][083]          [034][035][035][035][035][083]               [034][035][035][035][023][009]\n[008][009]                                                                                                                                            [008][009]\n[008][009]                                                                                                                                            [008][009]\n[008][086][002][002][002][072]               [001][002][002][002][002][072]          [001][002][002][002][002][072]               [001][002][002][002][085][009]\n[008][082][035][035][035][083]               [034][035][035][035][023][009]          [008][082][035][035][035][083]               [034][035][035][035][023][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][009]                                                       [034][083]          [034][083]                                                       [008][009]\n[008][009]                    [001][002][072]                                                                     [001][002][072]                     [008][009]\n[008][009]                    [034][035][083]                                                                     [034][035][083]                     [008][009]\n[008][009]                                                       [001][072]          [001][072]                                                       [008][009]\n[008][009]                                                       [008][009]          [008][009]                                                       [008][009]\n[008][086][002][002][002][002][002][002][002][002][002][002][002][085][086][002][002][085][086][002][002][002][002][002][002][002][002][002][002][002][085][009]\n[034][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][035][083]\n",tileScale:4,smooth:!1})}),"TilemapRenderer"),t.tilemapRenderer=t.getComponent("TilemapRenderer"),t.addComponent((function(){return new Ri({tilesData:t.tilemapRenderer.tilesData,debug:!1})}),"TilemapCollider"),t}return e=o,(n=[{key:"update",value:function(){this.tilemapRenderer.tileset.loaded&&0===this.width&&(this.width=this.tilemapRenderer.realWidth,this.height=this.tilemapRenderer.realHeight)}}])&&ji(e.prototype,n),r&&ji(e,r),o}(U);function Ci(t){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hi(t,e){return(Hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Di(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fi(t);if(e){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Li(this,n)}}function Li(t,e){return!e||"object"!==Ci(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fi(t){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hi(t,e)}(o,t);var e,n,r,i=Di(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this)).timeManager=Ge.getSingleton("TimeManager"),n.assetManager=Ge.getSingleton("AssetManager"),n.player=null,n.tilemap=null,n.collider=null,n.walkSpeed=180,n.aimAngle=0,n.previousDirection=new l(1,0),n.currentDirection=new l(1,0),n.walkingAnimation=!1,n.currentSpeed=new l(0,0),n.respawnPoint=new l(0,0),n.playerDistance=128,n.tag="Bot",n.layer="Bot",n.transform.position.set(t,e),n.respawnPoint.set(t,e),n.addComponent((function(){return new On({sprite:new Vn({image:n.assetManager.getImage("image/demo/player-top-down.png"),slice:new X(0,0,32,32),scale:new l(2,2),smooth:!1}),rotation:-90})}),"SpriteRenderer"),n.addComponent((function(){return new Jn({spriteRenderer:n.getComponent("SpriteRenderer")})}),"Animator"),n.getComponent("Animator").addAnimation("PlayerWalking",ur),n.addComponent((function(){return new Xn({width:32,height:32,debug:!1})}),"RectangleCollider"),n.collider=n.getComponent("RectangleCollider"),n}return e=o,(n=[{key:"start",value:function(){this.player=this.findGameObjectByTag("Player"),this.tilemap=this.findGameObjectByName("Foreground").getComponent("TilemapRenderer")}},{key:"update",value:function(){this.updateAimAngle(),this.updateCurrentDirection(),this.move()}},{key:"updateAimAngle",value:function(){this.aimAngle=Math.atan2(this.player.transform.position.y-this.transform.position.y,this.player.transform.position.x-this.transform.position.x),this.transform.rotation=180*this.aimAngle/Math.PI}},{key:"updateCurrentDirection",value:function(){this.currentDirection.x=Math.cos(this.aimAngle),this.currentDirection.y=Math.sin(this.aimAngle)}},{key:"move",value:function(){if(!(Math.abs(this.player.transform.position.x-this.transform.position.x)<=this.playerDistance&&Math.abs(this.player.transform.position.y-this.transform.position.y)<=this.playerDistance)){var t=this.currentDirection.x*(this.walkSpeed*this.timeManager.deltaTime),e=this.currentDirection.y*(this.walkSpeed*this.timeManager.deltaTime);this.transform.position.x+=t,0!==t&&this.isTouchingForeground()&&(this.transform.position.x-=t),this.transform.position.y+=e,0!==e&&this.isTouchingForeground()&&(this.transform.position.y-=e)}}},{key:"isTouchingForeground",value:function(){return this.collider.collidesWithLayer("Foreground")||this.collider.collidesWithLayer("Bot")}},{key:"die",value:function(){var t=this;this.setActive(!1),setTimeout((function(){t.transform.position.set(t.respawnPoint.x,t.respawnPoint.y),t.setActive(!0)}),5e3)}},{key:"animate",value:function(){}}])&&Ii(e.prototype,n),r&&Ii(e,r),o}(U);function Gi(t){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xi(t,e){return(Xi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yi(t);if(e){var i=Yi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vi(this,n)}}function Vi(t,e){return!e||"object"!==Gi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xi(t,e)}(o,t);var e,n,r,i=Wi(o);function o(){var t;Ui(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).axis=new l(0,0),t.gunPointer=new l(0,0),t.fire=!1,t.inputManager=Ge.getSingleton("InputManager"),t.inputKeyboard=null,t.inputMouse=null,t.inputGamepad=null,t.camera=null,t.gamepad=null,t}return e=o,(n=[{key:"start",value:function(){this.inputKeyboard=this.inputManager.keyboard,this.inputMouse=this.inputManager.mouse,this.inputGamepad=this.inputManager.gamepad,this.camera=this.findGameObjectByName("GameCamera").getComponent("Camera"),this.gamepad=this.inputGamepad.getGamepad(0),this.update()}},{key:"update",value:function(){this.updateAxis(),this.updatePointerPosition(),this.updateFire()}},{key:"updateAxis",value:function(){var t=this.inputKeyboard.isPressed("d")||this.inputKeyboard.isPressed("D")||this.gamepad.dpadRight,e=this.inputKeyboard.isPressed("a")||this.inputKeyboard.isPressed("A")||this.gamepad.dpadLeft,n=this.inputKeyboard.isPressed("w")||this.inputKeyboard.isPressed("W")||this.gamepad.dpadUp,r=this.inputKeyboard.isPressed("s")||this.inputKeyboard.isPressed("S")||this.gamepad.dpadDown;this.axis.x=e?-1:t?1:0,this.axis.y=r?-1:n?1:0}},{key:"updatePointerPosition",value:function(){this.gunPointer.x=Math.floor(this.inputMouse.viewportPosition.x+this.camera.worldSpaceRect.x),this.gunPointer.y=Math.floor(this.camera.worldSpaceRect.y-this.inputMouse.viewportPosition.y)}},{key:"updateFire",value:function(){this.fire=this.inputMouse.leftButtonPressed||this.gamepad.leftFace||this.gamepad.rightTrigger}}])&&Ni(e.prototype,n),r&&Ni(e,r),o}(U);function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $i(t,e){return($i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zi(t);if(e){var i=Zi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ji(this,n)}}function Ji(t,e){return!e||"object"!==qi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zi(t){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var to=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$i(t,e)}(n,t);var e=Qi(n);function n(){var t;Ki(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).type=f.Text,t.color=null,t.text=null,t.font=null,t.textSize=null,t.lineSeparation=null,t.bold=!1,t.italic=!1,t}return n}(p);function eo(t){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ao(t);if(e){var i=ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(t,e){return!e||"object"!==eo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}(o,t);var e,n,r,i=io(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).text="",e.font="Sans",e.size=12,e.color="#000000",e.bold=!1,e.italic=!1,e.lineSeparation=5,e.width=0,e.height=0,e.renderManager=Ge.getSingleton("RenderManager"),e.renderData=new to,e.text=t.text?t.text:e.text,e.font=t.font?t.font:e.font,e.size=t.size?t.size:e.size,e.color=t.color?t.color:e.color,e.bold=t.bold?t.bold:e.bold,e.italic=t.italic?t.italic:e.italic,e.lineSeparation=t.lineSeparation?t.lineSeparation:e.lineSeparation,e.width=t.width?t.width:e.width,e.height=t.height?t.height:e.height,e}return e=o,(n=[{key:"start",value:function(){this.update()}},{key:"update",value:function(){if(!1===this.gameObject.ui)throw new Error("TextRenderer only can be used on UI GameObjects");this.renderData.layer=this.gameObject.layer,this.renderData.ui=this.gameObject.ui,this.renderData.text=this.text,this.renderData.textSize=this.size,this.renderData.color=this.color,this.renderData.font=this.font,this.renderData.position.x=this.gameObject.transform.position.x,this.renderData.position.y=this.gameObject.transform.position.y,this.renderData.lineSeparation=this.lineSeparation,this.renderData.bold=this.bold,this.renderData.italic=this.italic,this.renderManager.addToRenderStack(this.renderData)}}])&&no(e.prototype,n),r&&no(e,r),o}(M);function so(t){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=po(t);if(e){var i=po(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ho(this,n)}}function ho(t,e){return!e||"object"!==so(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(o,t);var e,n,r,i=lo(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).assetManager=Ge.getSingleton("AssetManager"),t.ui=!0,t.addComponent((function(){return new uo({text:["Life: 100","Ammo: 50"],color:"#FFFFFF",size:16,font:"PressStart2P-Regular"})}),"TextRenderer"),t.addComponent((function(){return new On({sprite:new Vn({image:t.assetManager.getImage("image/demo/avatar.png"),scale:new l(2,2),smooth:!1}),offsetX:-32})}),"SpriteRenderer"),t}return e=o,(n=[{key:"start",value:function(){this.transform.position.set(100-Fe.clientWidth/2,Fe.clientHeight/2-50)}}])&&co(e.prototype,n),r&&co(e,r),o}(U);function vo(t){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xo(t);if(e){var i=xo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wo(this,n)}}function wo(t,e){return!e||"object"!==vo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(o,t);var e,n,r,i=bo(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).assetManager=Ge.getSingleton("AssetManager"),t.assetsLoaded=!1,t.gameObjectsLoaded=!1,t.loadAssets(),t}return e=o,(n=[{key:"start",value:function(){this.update()}},{key:"update",value:function(){!1===this.assetsLoaded&&(console.log("loading"),this.assetsLoaded=this.assetManager.getAssetsLoaded()),this.assetsLoaded&&!1===this.gameObjectsLoaded&&(this.setupGameObjects(),this.gameObjectsLoaded=!0)}},{key:"loadAssets",value:function(){this.assetManager.createImage("image/demo/earth-cave.png"),this.assetManager.createImage("image/demo/player-top-down.png"),this.assetManager.createImage("image/demo/projectile.png"),this.assetManager.createImage("image/demo/avatar.png"),this.assetManager.createAudio("audio/footsteps.wav"),this.assetManager.createAudio("audio/gunshot.wav"),this.assetManager.createAudio("audio/music.wav")}},{key:"setupGameObjects",value:function(){this.addGameObject((function(){return new Ti}),"Foreground").addGameObject((function(){return new zi}),"InputManager").addGameObject((function(){return new zr}),"Player").addGameObject((function(){return new yo}),"PlayerStats"),this.setUpBots(),this.gameCamera.camera.renderLayers=vr,this.gameCamera.addComponent((function(){return new ei}))}},{key:"setUpBots",value:function(){this.addGameObject((function(){return new Bi(690,385)}),"Bot01").addGameObject((function(){return new Bi(-820,500)}),"Bot02").addGameObject((function(){return new Bi(690,-385)}),"Bot03").addGameObject((function(){return new Bi(-820,-500)}),"Bot04")}}])&&go(e.prototype,n),r&&go(e,r),o}(sn),Oo=new Ue(document.getElementById("app"),1366,768);Oo.addScene("TopDown",(function(){return new So}),!0),Oo.run()}]);